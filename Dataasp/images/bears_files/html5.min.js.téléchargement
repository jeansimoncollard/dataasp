"undefined"==typeof ADGEAR&&(ADGEAR={}),"object"!=typeof ADGEAR||ADGEAR.hasOwnProperty("html5")||(ADGEAR.html5={}),ADGEAR.EventQueue=function(){function n(){a.num_processed+=1,u=new Image,l.length>0?r():c=!1}function e(){a.num_loaded+=1,n()}function t(){a.num_error+=1,n()}function i(){a.num_aborted+=1,n()}function r(){c=!0;var n=l.shift();"undefined"!=typeof n&&"url"in n&&(u.onload=function(){e(),"function"==typeof n.callback&&n.callback()},u.onerror=function(){t(),"function"==typeof n.callback&&n.callback()},u.onabort=function(){i(),"function"==typeof n.callback&&n.callback()},u.src=n.url)}function o(){return c?!1:(r(),!0)}var a={num_processed:0,num_loaded:0,num_error:0,num_aborted:0},l=new Array,u=new Image,c=!1;return{dispatch:function(n,e){var t={url:n};return"function"==typeof e&&(t.callback=e),"string"==typeof n&&n.match(/^https?:\/\//)?(l.push(t),o()):void 0},stats:function(n){return n in a?a[n]:null}}},ADGEAR.QueryString=function(n){function e(n){var e={};for(var t in n)e[t]=n[t];return e}function t(n){var e="";try{e=decodeURIComponent(n)}catch(t){}return e}function i(n){var i,a,l,u,c,d;if("string"==typeof n&&""!==n)for(r=n,"?"===r.substring(0,1)&&(r=r.substring(1)),a=r.split("&"),l=0;l<a.length;l++)u=a[l].split("="),c=t(u.shift()),d=null!=u&&u.length>0?t(u.join("=")):null,o[c]=d;else if("object"==typeof n){o=e(n),i=new Array;for(c in o)d=encodeURIComponent(String(c)),null!=o[c]&&(d+="="+encodeURIComponent(String(o[c]))),i.push(d);r=i.join("&")}}var r="",o={};return null!=n&&i(n),{toString:function(){return r},toHash:function(){return o},isEmpty:function(){for(var n in o)if(o.hasOwnProperty(n))return!1;return!0},update:function(n,e){return o[n]=e,i(o),this},add:function(n,e){return this.update(n,e)},del:function(n){return delete o[n],i(o),this},contains:function(n){return!!(n in o)},get:function(n){return this.contains(n)?o[n]:null},delAdGearParams:function(){var n={};for(var e in o)e.match(/^AG_/)||(n[e]=o[e]);return i(n),this},dup:function(){return ADGEAR.QueryString(this.toHash())}}},ADGEAR.MsgBus=function(n){var e={},t=!1;try{window.postMessage({toString:function(){t=!0}},"*")}catch(i){}return{regListener:function(n,t){e[n]=t},sendMessage:function(e,i,r){var o={bus:n,message:String(i),data:r};t&&JSON&&JSON.stringify&&(o=JSON.stringify(o)),"function"==typeof e.postMessage&&e.postMessage(o,"*")},receiveMessage:function(t){var i=typeof t.data,r=null;if("object"===i)r=t.data;else if("string"===i)try{r=JSON.parse(t.data)}catch(t){}r&&r.hasOwnProperty("bus")&&r.hasOwnProperty("message")&&r.bus===n&&e.hasOwnProperty(r.message)&&e[r.message](t.source,r.data)},regReceiver:function(n){"undefined"!=typeof window.addEventListener?window.addEventListener("message",n,!1):"undefined"!=typeof document.addEventListener?document.addEventListener("message",n,!1):"undefined"!=typeof window.attachEvent&&window.attachEvent("onmessage",n)}}},ADGEAR.CreativeData=function(n){function e(n){return null!==t&&t.hasOwnProperty("1pclick_encode")&&t["1pclick_encode"]?encodeURIComponent(n):n}var t=n;return{isInitialized:function(){return t},getField:function(n){return this.isInitialized()&&t.hasOwnProperty(n)?t[n]:null},getSubField:function(n,e){return this.isInitialized()&&t.hasOwnProperty(n)&&t[n].hasOwnProperty(e)?t[n][e]:null},buildClickTrackerUrl:function(n,t){var i=t;i||(i=this.getSubField("destination_urls",n));var r=this.getField("1pclick_url"),o=this.getField("clickdestoverride_url"),a=this.getSubField("click_urls",n);if(a||(a=this.getSubField("click_urls","clickTag"),a&&!i&&(i=this.getSubField("destination_urls","clickTag"))),a||(a=this.getSubField("click_urls","clickTAG"),a&&!i&&(i=this.getSubField("destination_urls","clickTAG"))),a||(a=this.getSubField("click_urls","clicktag"),a&&!i&&(i=this.getSubField("destination_urls","clicktag"))),r){if(a)return o?r+e(a+encodeURIComponent(o)):i?r+e(a+encodeURIComponent(i)):r+e(a);if(o)return r+e(o);if(i)return r+e(i)}else{if(a)return o?a+encodeURIComponent(o):i?a+encodeURIComponent(i):a;if(o)return o;if(i)return i}return null}}},ADGEAR.safeUrlAppend=function(n,e){var t=n.indexOf("?"),i=n,r="";return""!==e&&(0>t?r="?":t!=n.length-1&&(r="&"),i=i+r+e),i},ADGEAR.html5=function(){function n(n){"undefined"!=typeof console&&"function"==typeof console.log&&i.getField("debug")&&("string"==typeof n?console.log("ADGEAR.html5: "+n):console.log(n)),t.sendMessage(window.parent,"ad_debug",n)}function e(n){if(l.hasOwnProperty(n))for(var e=0;e<l[n].length;e++){var t=l[n][e];"function"==typeof t&&t()}}var t=ADGEAR.MsgBus("ADGEAR.html5"),i=ADGEAR.CreativeData(),r=null,o=null,a={width:null,height:null},l={onInit:[],onExpand:[],onCollapse:[]};return t.regListener("ld_ready",function(t,r){n("ld_ready called"),null!==r&&"object"==typeof r&&(i=ADGEAR.CreativeData(r),e("onInit"))}),t.regListener("ld_expanded",function(t,i){n("ld_expanded called"),e("onExpand")}),t.regListener("ld_collapsed",function(t,i){n("ld_collapsed called"),e("onCollapse")}),function(){r=ADGEAR.EventQueue();try{o=ADGEAR.QueryString(window.location.search)}catch(n){}null!==o&&(window.clickTAG=window.clickTag=window.clicktag=o.get("clickTag")||o.get("clickTAG")||o.get("clicktag")),t.regReceiver(function(n){t.receiveMessage(n)}),t.sendMessage(window.parent,"ad_ready")}(),{onceInitialized:function(n){"function"==typeof n&&(i.isInitialized()?n():l.onInit.push(n))},getClickUrl:function(n,e){return!i.isInitialized()&&window.clickTag?window.clickTag:i.buildClickTrackerUrl(n,e)},clickThrough:function(e,t){var o=this.getClickUrl(e,t);o?(n("clickThrough opening click with name "+e+" and URL: "+o),window.open(o,"_blank")):n("clickThrough failed to find click with name "+e),this.onceInitialized(function(){var n=i.getField("1poobclick_url");n&&r.dispatch(n)})},getEventUrl:function(n,e){var t=i.getSubField("event_urls",n);if(t||(t=i.getSubField("event_urls","eventTag")||i.getSubField("event_urls","eventTAG")||i.getSubField("event_urls","eventtag")),t&&e){var r=ADGEAR.QueryString(e);r&&(t=ADGEAR.safeUrlAppend(String(t),r.toString()))}return t},countEvent:function(e,t){var i=this;this.onceInitialized(function(){var o=i.getEventUrl(e,t);o?(n("countEvent dispatching event with name "+e+" and URL: "+o),r.dispatch(o)):n("countEvent failed to find event with name "+e)})},getConfigVar:function(e){var t=i.getSubField("config_vars",e);return n("getConfigVar "+(null!==t?"successfully found":"failed to find")+" the config variable with name "+e),t},getDynamicVar:function(e){var t=i.getSubField("dynamic_vars",e);return n("getDynamicVar "+(null!==t?"successfully found":"failed to find")+" the dynamic variable with name "+e),t},getImpressionVar:function(e){var t=i.getSubField("impression_vars",e);return n("getImpressionVar "+(null!==t?"successfully found":"failed to find")+" the impression variable with name "+e),t},setExpandedDimensions:function(n,e){a.width=Number(n),a.height=Number(e)},getCollapsedWidth:function(){var n=i.getField("width");return null!==n&&(n=Number(n)),n},getCollapsedHeight:function(){var n=i.getField("height");return null!==n&&(n=Number(n)),n},getExpandedWidth:function(){var n=a.width?a.width:i.getSubField("expandable","width");return null!==n&&(n=Number(n)),n},getExpandedHeight:function(){var n=a.height?a.height:i.getSubField("expandable","height");return null!==n&&(n=Number(n)),n},getExpandDirection:function(){var n=i.getSubField("expandable","direction"),e=null;if(n)switch(n){case"tl":case"bl":case"tr":case"br":e=n}return e},onceExpanded:function(n){"function"==typeof n&&l.onExpand.push(n)},onceCollapsed:function(n){"function"==typeof n&&l.onCollapse.push(n)},expandContainer:function(){n("expandContainer called"),this.onceInitialized(function(){var n=null;null!==a.width&&null!==a.height&&(n=a),t.sendMessage(window.parent,"ad_expand",n)})},collapseContainer:function(){n("collapseContainer called"),this.onceInitialized(function(){t.sendMessage(window.parent,"ad_collapse")})}}}();
