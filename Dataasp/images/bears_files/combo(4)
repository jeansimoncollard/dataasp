YUI.add("better-throttle",function(e){"use strict";function t(t,n,r,i){function u(){o&&(o.cancel(),o=undefined)}function a(){u(),t.apply(r,arguments)}function f(){var t=(new Date).getTime();if(i)u();else if(t-s>n){s=t,a.apply(r,arguments);return}o||(o=e.later(n,r,a,arguments))}var s,o;return s=0,r=r||null,f}e.betterThrottle=t},"@VERSION@",{requires:["yui-later"]});
YUI.add("global-events",function(e){"use strict";function r(t){t in e.Node.DOM_EVENTS||(e.Node.DOM_EVENTS[t]=null)}function i(i,s){var o=t[i],u;if(o)return o.bound||(r(o.type),o.throttle?o.handle=e.one(o.target).on(o.type,e.betterThrottle(function(t){e.fire(i,{e:t})},o.throttle)):o.handle=e.one(o.target).on(o.type,function(t){e.fire(i,{e:t})}),n[i]=[],o.bound=!0),u=e.on(i,s),u.origDetach=u.detach,u.detach=function(){this.detach=this.origDetach,delete this.origDetach,e.globalEvents.unsubscribe(this)}.bind(u),n[i].push(u),u;throw new Error("global event name: '"+i+"' does not exist")}function s(e){var r=e.evt.type,i=n[r].indexOf(e);e.origDetach&&(e.detach=e.origDetach),i!==-1&&(e.detach(),n[r].splice(i,1),n[r].length===0&&(t[r].handle.detach(),t[r].bound=!1))}var t={"window:click":{type:"click",target:window},"window:resize":{type:"resize",target:window,throttle:100},"window:scroll":{type:"scroll",target:window,throttle:100},"window:scroll:nothrottle":{type:"scroll",target:window,throttle:0},"window:keydown":{type:"keydown",target:window,throttle:0},"window:blur":{type:"blur",target:window,throttle:0},"document:fullscreenchange":{type:function(){if("onfullscreenchange"in document)return"fullscreenchange";if("onwebkitfullscreenchange"in document)return"webkitfullscreenchange";if("onmozfullscreenchange"in document)return"mozfullscreenchange";if("onmsfullscreenchange"in document)return"MSFullscreenChange"}(),target:document}},n={};e.globalEvents={subscribe:i,unsubscribe:s}},"@VERSION@",{requires:["event","node","better-throttle"],affinity:"client"});
"undefined"!=typeof YAHOO&&YAHOO||(YAHOO={}),YAHOO.i13n=YAHOO.i13n||{},YAHOO.i13n.EventTypes=function(){function e(e,t,n){this.yqlid=e,this.eventName=t,this.spaceidPrefix=n}var t="richview",n="contentmodification";e.prototype={getYQLID:function(){return this.yqlid},getEventName:function(){return this.eventName}};var r={pageview:new e("pv","pageview",""),simple:new e("lv","event","P"),linkview:new e("lv","linkview","P"),richview:new e(t,t,"R"),contentmodification:new e(t,n,"R"),dwell:new e("lv","dwell","D")};return{getEventByName:function(e){return r[e]}}}(),YAHOO.i13n.Rapid=function(e){function t(){}function n(e){this.map={},this.count=0,e&&this.absorb(e)}function r(){this.map={},this.count=0}function i(e,t){if(!e)return null;null===t&&(t=!1);var n=new r,i=U.getAttribute(e,U.data_action_outcome);i&&n.set("outcm",i);var s=U.getAttribute(e,"data-ylk");if(null===s||0===s.length)return n;for(var o=s.split(U.ylk_pair_delim),u=0,a=o.length;a>u;u++){var f=o[u].split(U.ylk_kv_delim);if(2===f.length){var l=f[0],c=f[1];null!==l&&""!==l&&null!==c&&(c.length>U.MAX_VALUE_LENGTH&&(c=c.substring(0,U.MAX_VALUE_LENGTH)),l.length<=8&&c.length<=U.MAX_VALUE_LENGTH&&("_p"!==l||t)&&n.set(l,c))}}return n}function s(e,t,n){return t>e?t:e>n?n:e}function o(t,n){R.set("A_sid",YAHOO.i13n.A_SID||U.rand()),R.set("_w",U.rmProto(n).substring(0,U.MAX_VALUE_LENGTH)),t?R.absorb(t):e.keys&&R.absorb(e.keys)}function u(e){var t=(YAHOO.i13n,YAHOO.i13n.TEST_ID||e.test_id),n=e.location||document.location.href;o(e.keys,n),t&&(t=U.norm(""+t));var r=300,i=700,u=1e4,a=e.override||{},f={override:a,version:"3.39.1",keys:R,referrer:e.referrer,getReferrer:function(){return U.norm(U.clref("undefined"!=typeof this.referrer?this.referrer:document.referrer))},spaceid:U.norm(a.spaceid||YAHOO.i13n.SPACEID||e.spaceid),yrid:U.norm(e.yrid||""),oo:e.oo?"1":"0",nol:e.nol?"1":"0",yql_enabled:e.yql_enabled!==!1,fing:1==e.use_fing,USE_RAPID:e.use_rapid!==!1,linktrack_attribut:e.lt_attr||"text",tracked_mods:e.tracked_mods||[],tracked_mods_viewability:e.tracked_mods_viewability||[],viewability:e.viewability||!1,viewability_time:e.viewability_time||300,viewability_px:e.viewability_px||50,lt_attr:e.lt_attr||"text",client_only:e.client_only,text_link_len:e.text_link_len||-1,test_id:t,yql_host:e.yql_host||"geo.query.yahoo.com",yql_path:e.yql_path||"/v1/public/yql",click_timeout:e.click_timeout||u,compr_timeout:e.compr_timeout||i,compr_on:e.compr_on!==!1,compr_type:e.compr_type||"deflate",webworker_file:YAHOO.i13n.WEBWORKER_FILE||e.webworker_file||"rapidworker-1.2.js",nofollow_classname:e.nofollow_class||"rapidnofollow",no_click_listen:e.rapid_noclick_resp||"rapid-noclick-resp",nonanchor_track_class:e.nonanchor_track_class||"rapid-nonanchor-lt",anc_pos_attr:"data-rapid_p",anc_v9y_attr:"data-v9y",deb:e.debug===!0,ldbg:e.ldbg>0?!0:n.indexOf("yhldebug=1")>0,addmod_timeout:e.addmodules_timeout||300,ult_token_capture:"boolean"==typeof e.ult_token_capture?e.ult_token_capture:!1,track_type:e.track_type||"data-tracktype",dwell_on:e.dwell_on===!0,prerender:e.prerender===!0,query_parameters:e.query_parameters===!0,async_all_clicks:e.async_all_clicks===!0,click_postmsg:e.click_postmsg||{},apv:e.apv!==!1,apv_time:e.apv_time||500,apv_px:e.apv_px||500,apv_always_send:e.apv_always_send===!0,ex:e.ex===!0,persist_asid:e.persist_asid===!0,track_right_click:e.track_right_click===!0,gen_bcookie:e.gen_bcookie===!0,skip_attr:e.skip_attr||"data-rapid-skip",parse_dom:e.parse_dom===!0,pageview_on_init:e.pageview_on_init!==!1,perf_navigationtime:e.perf_navigationtime||0,perf_commontime:e.perf_commontime||null,perf_usertime:e.perf_usertime||null,perf_resourcetime:e.perf_resourcetime||0,sample:e.sample||{},loc:n,fpc:e.fpc===!0,extendbcookie:e.extendbcookie===!0},c=1*f.compr_timeout;return U.isNum(c)?f.compr_timeout=s(c,r,i):f.compr_timeout=i,f.ldbg&&f.click_timeout!=u&&l("Click timeout set to "+f.click_timeout+"ms (default 10000ms)"),e.apv_callback&&"function"==typeof e.apv_callback?f.apv_callback=e.apv_callback:f.apv_callback=null,f}function a(){R.set("A_sid",U.rand())}function f(){return"Rapid-"+X.version+"("+(new Date).getTime()+"):"}function l(e){X.ldbg&&console.warn("RAPID WARNING: "+e)}function c(e){X.ldbg&&console.error("RAPID ERROR: "+e)}function h(e){X.ldbg&&console.log(f()+e)}function p(){var e=document.cookie;if(this.cookieMap={},/[^=]+=[^=;]?(?:; [^=]+=[^=]?)?/.test(e))for(var t=e.split(/;\s/g),n=null,r=null,i=null,s=0,o=t.length;o>s;s++){if(i=t[s].match(/([^=]+)=/i),i instanceof Array)try{n=U.dec(i[1]),r=U.dec(t[s].substring(i[1].length+1))}catch(u){c(u)}else n=U.dec(t[s]),r=n;"B"!==n&&"BX"!==n&&"TT"!==n&&"D"!==n&&"_ga"!==n&&"yx"!==n&&"rxx"!==n||(this.cookieMap[n]=r)}U.clearCookie("rx","/",U.isIE?document.domain:"")}function d(){if(X.ult_token_capture&&YAHOO.i13n.__handled_ult_tokens__!==!0){YAHOO.i13n.__handled_ult_tokens__=!0;var e=X.loc;if(e.match(/;_yl[a-z]{1}=/))X.ldbg&&h("Found ULT Token on URL."),V.sendGeoT(e);else{var t=new p,n=t.getCookieByName("D");n&&(U.clearCookie("D","/",".yahoo.com"),V.sendGeoT(n))}}}function v(){function e(){t=(new Date).valueOf().toString(),n=t.length}var t=null,n=null;return e(),{ts:t.substr(0,n-3),ms:t.substr(n-3)}}function m(e,t,n,r){var i=new Date,s="";i.setTime(i.getTime()+1e3*n),s="; expires="+i.toGMTString();var o="";r&&(o=";domain="+r);var u=e+"="+t+s+o+"; path=/";document.cookie=u}function g(){function e(e,t){X.ldbg&&h(e);var n=new Image,r=null;n.onload=n.onabort=n.onerror=function(){t&&"function"==typeof t&&(clearTimeout(r),t.call(null))},n.src=e,t&&"function"==typeof t&&(r=setTimeout(function(){t.call(null)},X.click_timeout)),setTimeout(function(){n=null},1e7)}function t(){return"rapid_if_"+U.rand()}function r(e){var t="display:none;";!U.isIE||6!==U.ieV&&7!==U.ieV&&8!==U.ieV?U.sa(e,"style",t):e.style.setAttribute("cssText",t,0)}function i(e){var t=null;if(U.isIE&&U.ieV<=8){var n="";U.isSecure()&&6==U.ieV&&(n='src="https://geo.yahoo.com/b.html"'),t=document.createElement("<iframe "+n+' name="'+e+'"></iframe>')}else t=document.createElement
("iframe");return t.name=e,t}function s(){setTimeout(function(){var e=i("");U.addEvent(e,"load",function(){U.rmBodyEl(e)}),U.appBodyEl(e)},1)}function o(e,n){var o=null,a=U.make("form"),f=U.make("input"),l=t(),c=t(),p="application/x-www-form-urlencoded;charset=UTF-8";o=i(l),r(o),r(a),a.id=c,a.method="POST",a.action=u(n),a.target=l,U.isIE&&U.ieV<=7?a.setAttribute("enctype",p):(a.setAttribute("enctype",p),a.setAttribute("encoding",p)),f.name="q",f.value=e,U.isIE&&U.ieV>=10&&(f.type="submit"),a.appendChild(f);var d="load",v=function(){var e="";if(X.ldbg&&(!U.isIE||U.ieV>=9)){var t=o.contentDocument||o.contentWindow.document;e=t.body.innerHTML}U.rmEvent(o,d,v),setTimeout(function(){U.rmBodyEl(o),U.rmBodyEl(a)},0),X.ldbg&&h("iframe resp: "+e),U.isIE&&U.ieV<=7&&s()};U.addEvent(o,d,v),U.appBodyEl(o),U.appBodyEl(a),a.submit()}function u(e){var t=X.deb,n=U.rand(),r=["http:"===window.location.protocol?"http://":"https://",X.yql_host,X.yql_path,"?yhlVer=2&yhlClient=rapid&yhlS=",X.spaceid,t===!0?"&yhlEnv=staging":"",t===!0||X.ldbg?"&debug=true&diagnostics=true":"",U.isIE&&U.ieV?"&yhlUA=ie"+U.ieV:"",U.isIE&&8==U.ieV?"&format=json":"","&yhlCT=2","&yhlBTMS=",(new Date).valueOf(),"&yhlClientVer=",X.version,"&yhlRnd=",n,"&yhlCompressed=",e||0,X.gen_bcookie?"&yhlBcookie=1":""].join("");return X.ldbg&&h(r),r}function a(t){var r=new n(t);e(C("p",r,1197799914))}function f(e,t){var n=u(t);try{var r=U.getXHR();r.open("POST",n,!0),r.withCredentials=!0,r.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),X.ldbg&&(r.onreadystatechange=function(){4===r.readyState&&h(r.status+":xhr response: "+r.responseText)}),r.send(e)}catch(i){a({_err_nm:"sendToYQL Failed",_err_msg:"sendToYQL Failed",_err_rs:String(i),_err_st:i.stack,urlUsed:n})}}function p(e,t,n){var r={};return U.isObj(e)?(U.aug(r,e,n),r):r}function d(e,t,n){n=n||{};var r={m:U.norm(e.moduleName),l:[]};e.moduleYLK&&(r.ylk=e.moduleYLK.getAll());for(var i=r.ylk&&r.ylk.sec?r.ylk.sec:"",s=e.links,s=e.links,o=function(e,n){var s="_p"===e;return t&&s?!0:"sec"==e&&n!=r.m&&n!=i?!0:"sec"!==e&&!s},u=0,a=s.length;a>u;u++)s[u]&&(!X.viewability||s[u].viewable?r.l.push(p(s[u].data,t,o)):X.ldbg&&h("Skipping not viewable link: "+s[u].data.slk));return r}function m(e,t,n){var r=[],i=null;for(var s in e)if(U.hasOwn(e,s)&&(i=e[s])){var o=d(i,t,n);o.l.length>0?r.push(o):X.ldbg&&h('Not capturing 0 links mod: "'+i.moduleName+'"')}return r}function g(e,t){return e?"pv":t&&t.event?t.event.type.getYQLID():"lv"}function y(e,t,n,r,i){var s;return s=K?nt:v(),[{t:g(t,i),s:X.spaceid,pp:b(t,r).getAll(),_ts:s.ts,_ms:s.ms,lv:m(e,n,i)}]}function b(e,t){var r=n.makeFromPP(X.keys);return r.absorb(t),e&&r.set("A_",1),r}function w(e,t,n){var r="select * from x where a = '"+e+"'";return(t?"q=":"")+(n?U.enc(r):r)}function E(e){var t={bp:O().getAll(),r:e.call(0),yrid:X.yrid,optout:X.oo,nol:X.nol};return U.toJSON(t)}function S(e,t,n){var r={};n.event&&U.aug(r,n.event.data),n.pp&&U.aug(r,n.pp);var i=E(function(){return y([e],t,!0,r,n)});N(i,t)}function x(e,t,n,r){var i=E(function(){return y(e,t,!0,n,r)});N(i)}function T(e){return e.identifier}function N(e){function t(e,t){0===t&&(e=e.replace(/'/g,"\\'")),r&&h("body: "+e),U.hasCORS()?(i=w(e,!0,!0),f(i,t)):(i=w(e,0,0),o(i,t))}function n(){a||(a=!0,t(e,0),r&&h("sent in failSend"))}var r=X.ldbg,i="",s=W[X.compr_type];if(X.compr_on&&U.hasWorkers()&&s>1&&e.length>2048){r&&h("Looking for worker:"+X.webworker_file+", compr timeout:"+X.compr_timeout);try{var u=new Worker(X.webworker_file),a=!1,c=null,p=0;u.onerror=function(e){clearTimeout(c),n(),l(e.message),u.terminate()},u.onmessage=function(i){clearTimeout(c);var o=U.tms();"Decompress fail"!==i.data&&"Compress fail"!==i.data&&0!=i.data.indexOf("error:")||(r&&h(i.data),n()),a||(a=!0,t(i.data,s)),r&&h("Ratio ("+i.data.length+"/"+e.length+"): "+(100*i.data.length/e.length).toFixed(2)+"% -> C_T: "+(o-p)+" ms ("+o+"-"+p+")"),u.terminate()},r&&h("posting to worker: "+e),p=U.tms(),u.postMessage({type:s,json:e}),c=setTimeout(function(){n(),u.terminate()},X.compr_timeout)}catch(d){r&&h("compression worker exception "+d),t(e,0)}}else t(e,0)}function C(e,t,n){return("http:"===window.location.protocol?"http://":"https://")+A+"/"+e+["?s="+(n?n:X.spaceid),"t="+U.rand()+","+Math.random(),"_I="+X.yrid,"_AO="+X.oo,"_NOL="+X.nol,"_R="+U.enc(X.getReferrer()),("c"===e?"_K=":"_P=")+k(t)].join("&")}function k(e){var t=new n(O(!1).getAll());t.absorb(X.keys.getAll()),e&&(e instanceof n?t.absorb(e.getAll()):c("Internal error in buildGeoPP: not PP type"));var r;return r="dwell,start"===t.get("etag")?nt:"dwell,stop"===t.get("etag")?rt:v(),t.set("_ts",r.ts),t.set("_ms",r.ms),X.version+"%05"+t.ser()}function L(e){var t=new n(e.pp),r=[C("c",t)+"&_C="+U.ser(e.data)];return r.join("&")}var A=YAHOO.i13n.beacon_server||"geo.yahoo.com",O=function(e){var t=new n;t.set("_pl",1),t.set("A_v",X.version);var r=X.getReferrer();if(r&&e!==!1&&t.set("_R",r.substring(0,U.MAX_VALUE_LENGTH)),X.test_id&&t.set("test",X.test_id),X.ex&&t.set("_ex",1),t.get("_bt")||t.set("_bt","rapid"),X.query_parameters){var i=/^(test|outcm|etrg|usergenf|etag|sec|slk|tar|tar_uri|yhldebug|tsrc|action)$|^(A_|_)/,s=document.location.search;if(s){s=s.substring(1),s=s.split("&");for(var o in s)if(s.hasOwnProperty(o)){var u=s[o].split("=");if(u.length>=2){var a=decodeURIComponent(u[0]),f=decodeURIComponent(u[1]),l=!i.test(a);h("Queryparams decoded: "+a+" : "+f),h("Blacklist filter: "+l),l&&t.set(a,f)}}}}var c=window.location.protocol||"";c=c.replace(/:$/,""),t.set("A_pr",c);var p=(new Date).getTimezoneOffset();return p=p?-1*p/60:0,t.set("A_tzoff",p),t},M=function(){var e=null,t=[],n=0,r=X.addmod_timeout;return function(i,s,o,u){clearTimeout(e);var a=+(new Date)-n;if(t=U.uniqConcat(t,i,T),a>r)n=+(new Date),x(t,s,o,u),t=[];else{var f=r-a;e=setTimeout(function(){X.ldbg&&h("queueing send in addMods"),x(t,s,o,u),t=[]},f)}}}();return{sendGeoT:function(t){var n=["http:"===window.location.protocol?"http://":"https://",A,"/t?",t].join("");e(n)},sendGeoPV:function(
){e(C("b"))},sendRapidNoDelay:function(t,r,i,s,o){if(r&&K&&K.start_dwell()&&(i.etag="dwell,start",i.usergenf=1,i.A_prets=rt?rt.ts:null,i.A_prems=rt?rt.ms:null),!X.yql_enabled||o){var u=null;i&&(u=new n(i)),e(C(r?"b":"p",u))}else x(t,r,i,s)},sendRapid:function(e,t,n,r){t&&K&&K.start_dwell()&&(n.etag="dwell,start",n.usergenf=1,n.A_prets=rt?rt.ts:null,n.A_prems=rt?rt.ms:null),M(e,t,n,r)},sendRefreshedContent:S,sendULTEvent:function(t,r){var i={};t&&t.data&&(i=t.data);var s=C("p",new n(i),r||0);t.type&&(s+="&_V="+t.type.spaceidPrefix),e(s)},sendEvents:function(e,t){X.USE_RAPID&&this.sendULTEvent(e)},sendClick:function(t,n){var r=null,i="",s=!1;return X.USE_RAPID&&(i=L(t)),X.async_all_clicks||!t.synch?void (i&&e(i,n)):(U.prevDef(t.event),r=function(){if(!s){if(s=!0,n)return void n.call();var e=t.targetElement.href;if(X.click_postmsg.origin){var r=X.click_postmsg.window||top,i=X.click_postmsg.payload||{};i.href=e,r.postMessage(U.toJSON(i),X.click_postmsg.origin)}else t.hasTargetTop?top.document.location=e:document.location=e}},void (X.USE_RAPID&&e(i,r)))}}}function y(e,t,n,r,s,o,u){var a="",f=null,l=u?U.isAboveFold(r):!0,c={viewable:l,data:{sec:t,_p:n}};return u&&U.aug(c.data,{A_lv:1}),o?(c.data.slk=s||"section",f=i(r)):(r.setAttribute(X.anc_pos_attr,n),u&&r.setAttribute(X.anc_v9y_attr,l?"1":"0"),a=U.getLT(r,e),a&&""!==a?f=i(r):a="_ELINK_",c.data.slk=s?s:a),null!==f&&U.aug(c.data,f.getAll()),c}function b(){var e={};return{addModule:function(t,n){e[U.norm(t)]=n},addModules:function(e,t){var n=U.isArr(e),r=[];n||U.isStr(e)&&(e=new Array(e),n=!0);for(var i in e)if(U.hasOwn(e,i)){var s=n?e[i]:i,o=U.trim(e[i]);if(this.exists(s))c('addModules() called with prev processed id:"'+s+'"');else{var u=A(o,s,t);u&&(this.addModule(s,u),r.push(u))}}return r},getModules:function(){return e},getModulesWithViewability:function(){var t={};for(var n in e){var r=e[n];r.useViewability&&(t[n]=r)}return t},reevaluateModuleViewability:function(){var e=this.getModulesWithViewability();for(var t in e){var n=e[t];n.reevaluateViewableLinks()}},refreshModule:function(t,n,r,i){var s=e[U.norm(t)];s?s.refreshModule(t,n,r,i):c("refreshModule called on unknown section: "+s)},removeModule:function(t){var n=e[U.norm(t)];n&&(n.removeHandlers(),delete e[t])},destroy:function(){for(var t in e)U.hasOwn(e,t)&&this.removeModule(t);e={}},exists:function(t){return e[U.norm(t)]}}}function w(e,t){return U.hasClass(e,"rapid_track_href")?"href":U.hasClass(e,"rapid_track_text")?"text":U.hasClass(e,"rapid_track_title")?"title":U.hasClass(e,"rapid_track_id")?"id":t}function E(e){return"input"===e.nodeName.toLowerCase()&&"submit"===U.getAttribute(e,"type")}function S(e,t){var n=N(e,t);Q=n,n&&(e.ctrlKey||e.metaKey||K&&K.stop_dwell()&&(n.pp={etag:"dwell,stop",usergenf:1,A_prets:nt?nt.ts:null,A_prems:nt?nt.ms:null},K.destroy()),V.sendClick(n))}function x(e,t,n){var r=U.getAttribute;return t.target&&"_blank"===t.target.toLowerCase()||2===e.which||4===e.button||e.altKey||e.ctrlKey||e.shiftKey||e.metaKey||"on"===r(t,"data-nofollow")||r(t,"href")&&"javascript:"===r(t,"href").substr(0,11).toLowerCase()||U.hasClass(t,X.nofollow_classname)||U.hasClass(n,X.nofollow_classname)}function T(e,t,n,r){n=n||{};var i=null;return e?(i=YAHOO.i13n.EventTypes.getEventByName(e),n._E=i.getEventName(),t=n._E):n._E=t||"_",r&&(n.outcm=r),{type:i,name:t,data:n,outcome:r}}function N(e,t){e=e||event;for(var n=U.getTarget(e),r="button",s="input",o="",u=!1,a=null;n&&(o=n.nodeName.toLowerCase())&&"a"!==o&&o!==r&&!E(n)&&!U.hasClass(n,X.nonanchor_track_class);)n=n.parentNode;if(!n||U.hasClass(n,X.no_click_listen))return 0;if(U.hasClass(n,X.nonanchor_track_class)){a={pos:0,sec:t.moduleName,slk:"_"};var f=i(n,1);f&&U.aug(a,f.getAll())}else{var l=U.getAttribute(n,X.anc_pos_attr);if(a=t.getLinkAtPos(l),!a)return 0;a=a.data,o===s||o===r||x(e,n,t.moduleElement)||(u=!0)}if(!a.tar){var c=U.getAttribute(n,"href");c&&(a.tar=U.extDomain(c)),c&&a.tar||(a.tar=U.extDomain(X.loc))}a.tar_uri||(n.pathname?a.tar_uri=n.pathname.substring(0,U.MAX_VALUE_LENGTH):a.tar_uri="");var h=t.moduleYLK;if(h){var p=h.getAll();U.aug(a,p,function(e){return!(e in a)})}return a.A_xy=U.xy(e),a.A_sr=U.sr(),"contextmenu"==e.type&&(a.A_cl=3,u=!1),{data:a,event:e,moduleElement:t.moduleElement,targetElement:n,synch:u,hasTargetTop:n&&n.target&&"_top"===n.target.toLowerCase()}}function C(e,t,n,r,i){var s={};return U.aug(s,r),s.sec=e,s.slk=t,s._p=n,{data:s,outcome:i,event:null,moduleElement:null,targetElement:null,synch:!1,hasTargetTop:!1}}function k(e,t,n){t||(t=document);for(var r=e.split(","),i=[],s=0,o=r.length;o>s;s++)for(var u=t.getElementsByTagName(r[s]),a=0,f=u.length;f>a;a++){var l=u[a];n&&!n.call(0,l)||i.push(l)}var c=i[0];return c?(c.sourceIndex?i.sort(function(e,t){return e.sourceIndex-t.sourceIndex}):c.compareDocumentPosition&&i.sort(function(e,t){return 3-(6&e.compareDocumentPosition(t))}),i):[]}function L(e,t,n,r){t||(t=document);var i=e.split(",");n=n||[];var s=t.childNodes;if("true"!==U.getAttribute(t,X.skip_attr))for(var o=0,u=s.length;u>o;o++){var a=s[o];U.isTagOfInterest(a,i)&&(r&&!r.call(0,a)||n.push(a)),"true"!==U.getAttribute(a,X.skip_attr)?L(e,a,n,r):"true"===U.getAttribute(a,X.skip_attr)&&n.push(a)}var f=n[0];return f?(f.sourceIndex?n.sort(function(e,t){return e.sourceIndex-t.sourceIndex}):f.compareDocumentPosition&&n.sort(function(e,t){return 3-(6&e.compareDocumentPosition(t))}),n):[]}function A(e,t,n){function r(t,r){var s=[];r=r||1;for(var o=0,a=t.length;a>o;o++)if("div"===t[o].tagName.toLowerCase()){var l=t[o],h=i(l),p=y(d,f.map.sec||e,1,l,h.map.slk||f.map.slk,!0,n);c[0]=p,s.push(p)}else{var v=t[o],p=y(d,f.map.sec||e,r,v,f.map.slk,0,n);c[r-1]=p,s.push(p),r++}if("true"===U.getAttribute(u,X.skip_attr)){var p=y(d,f.map.sec||e,1,l,f.map.slk,!0,n);c[0]=p,s.push(p)}return s}function s(t){for(var n=[],r=0,i=t.length;i>r;r++){var s=t[r],o=U.getAttribute(s,X.anc_pos_attr),u=y(d,f.map.sec||e,o,s,f.map.slk,0,!0);n.push(u)}return n}function o(e){return!U.getAttribute(e,X.anc_pos_attr)}var u=document.getElementById
(t),a="a,button,input";if(!u)return l("Specified module not in DOM: "+t),null;var f=i(u),c=[],p=X.parse_dom?L(a,u):k(a,u),d=w(u,X.lt_attr),v=p.length,m=U.getAttribute(u,X.track_type);r(p);var g={useViewability:n,moduleYLK:f,links:c,moduleName:e,trackType:m,moduleElement:u,refreshModule:function(e,t,i,s){s.isRefreshed=!0;var u=X.parse_dom?L(a,U.$(e),null,o):k(a,U.$(e),o);if(t===!0||u.length>0){var f=r(u,v+1);v+=u.length;var l=u.length;if(n){l=0;for(var c=0,p=f.length;p>c;c++)f[c].viewable&&l++}if((t===!0||l>0)&&(X.USE_RAPID||s.event)){var d={};U.aug(d,this),i?d.links=f:d.links=[],(t===!0||i)&&V.sendRefreshedContent(d,t,s)}}else U.ldbg&&h("refreshModule("+e+") - no new links.");t===!0&&X.apv&&$&&$.reInit()},reevaluateViewableLinks:function(){var t=c.length,n=k("a",this.moduleElement,function(t){return function(n){if(!U.getAttribute(n,X.anc_pos_attr)){t++,n.setAttribute(X.anc_pos_attr,t);var r=y(d,f.map.sec||e,t,n,f.map.slk,0,!1);c[t-1]=r}var i=U.getAttribute(n,X.anc_v9y_attr);return"1"!==i&&U.isAboveFold(n)?(n.setAttribute(X.anc_v9y_attr,"1"),!0):!1}}(t));if(0!==n.length&&X.USE_RAPID){var r=s(n),i={};U.aug(i,this),i.links=r,V.sendRefreshedContent(i,!1,{})}},removeHandlers:function(){U.rmEvent(u,"click",b),X.track_right_click&&U.rmEvent(u,"contextmenu",b)},getLinkAtPos:function(e){return e>c.length?null:c[e-1]},identifier:t},b=function(e){S(e,g)};return U.addEvent(u,"click",b),X.track_right_click&&U.addEvent(u,"contextmenu",b),g}function O(e,t,n){X.ldbg&&h("beaconPageview called, pp="+U.fData(e)),t&&!X.persist_asid&&a(),(X.USE_RAPID||X.apv_always_send&&U.hasOwn(e,"A_apv"))&&V.sendRapidNoDelay([],!0,e,null,n),X.apv&&null!=$&&$.reInit()}function M(e,t,n,r){X.ldbg&&h('beaconEvent: event="'+e+'" data='+U.fData(t)+" outcome="+n);var i=T(0,e,t,n);V.sendEvents(i,r)}function _(){var e=null,t=(new Date).getTime(),n=t,r=U.getScrollY(),i=-1,s=function(){var e=U.getScrollY(),t=-1===i?e-r:e-i;Math.abs(t)>X.viewability_px&&(z.reevaluateModuleViewability(),i=e,n=(new Date).getTime())},o=function(){null!=e&&clearTimeout(e);var i=(new Date).getTime();i-t<X.viewability_time&&(r=U.getScrollY(),n=i),e=setTimeout(function(){s()},X.viewability_time)};U.addEvent(window,"scroll",o),this.reInit=function(){r=U.getScrollY(),i=-1,t=n=(new Date).getTime()},this.destroy=function(){U.rmEvent(window,"scroll",o)}}function D(){var e=null,t=lastApvTime=(new Date).getTime(),n=U.getScrollY(),r=-1,i=function(){var e=U.getScrollY(),t=-1===r?e-n:e-r,i=t>0?0:1;if(Math.abs(t)>X.apv_px){var s={A_apv:1,A_apx:e,A_asd:i};O(s,!1,!0),r=e,lastApvTime=(new Date).getTime(),X.apv_callback&&X.apv_callback.call(this,{pixel_pos:e,scroll_dir:i})}},s=function(){null!=e&&clearTimeout(e);var r=(new Date).getTime();r-t<X.apv_time&&(n=U.getScrollY(),lastApvTime=r),e=setTimeout(function(){i()},X.apv_time)};U.addEvent(window,"scroll",s),this.reInit=function(){n=U.getScrollY(),r=-1,t=lastApvTime=(new Date).getTime()},this.destroy=function(){U.rmEvent(window,"scroll",s)}}function P(){var e={focus:{state:"start",etrg:"show",etag:"dwell,start",jse:"window.focus"},pageshow:{state:"start",etrg:"show",etag:"dwell,start",jse:"window.pageshow"},"visibilitychange-visible":{state:"start",etrg:"show",etag:"dwell,start",jse:"document.visibilitychange"},blur:{state:"stop",etrg:"hide",etag:"dwell,stop",jse:"window.blur"},pagehide:{state:"stop",etrg:"hide",etag:"dwell,stop",jse:"window.pagehide"},"visibilitychange-hidden":{state:"stop",etrg:"hide",etag:"dwell,stop",jse:"document.visibilitychange"},beforeunload:{state:"stop",etrg:"close",etag:"dwell,stop",jse:"window.beforeunload"}},t="start";nt=v();var n,r;"undefined"!=typeof document.hidden?(n="hidden",r="visibilitychange"):"undefined"!=typeof document.mozHidden?(n="mozHidden",r="mozvisibilitychange"):"undefined"!=typeof document.msHidden?(n="msHidden",r="msvisibilitychange"):"undefined"!=typeof document.webkitHidden&&(n="webkitHidden",r="webkitvisibilitychange");var i=function(i){var s="",o=i.type;if(i.type==r&&(o=document[n]?"visibilitychange-hidden":"visibilitychange-visible"),U.hasOwn(e,o)&&(s=e[o].state),0!=s.length){if(t==s)return void h("dwell: -- state already "+t+" (event="+o+")");t=s;var u=e[o];h("dwell: change state to "+t+" (event="+o+")");var a={etrg:u.etrg,outcm:"window",usergenf:1,etag:u.etag,A_jse:u.jse};"start"===t&&(nt=v(),null!=rt&&(a.A_prets=rt.ts,a.A_prems=rt.ms)),"stop"===t&&(rt=v(),null!=nt&&(a.A_prets=nt.ts,a.A_prems=nt.ms)),M("dwell",a,"")}};for(var s in e)e.hasOwnProperty(s)&&U.addEvent(window,s,i);U.addEvent(window,r,i),this.set_state=function(e){t=e},this.start_dwell=function(){return"start"===t?(h("dwell: -- state already "+t),!1):(t="start",nt=v(),!0)},this.stop_dwell=function(){return"stop"===t?(h("dwell: -- state already "+t),!1):(t="stop",rt=v(),!0)},this.destroy=function(){for(var t in e)e.hasOwnProperty(t)&&U.rmEvent(window,t,i);U.rmEvent(window,r,i)}}function H(e,t){var r=10;if(window.performance&&window.performance.timing){var i=e?e.perf_navigationtime||0:X.perf_navigationtime||0,s=e?e.perf_resourcetime||0:X.perf_resourcetime||0,o=e?e.perf_commontime||null:X.perf_commontime||null,u=e?e.perf_usertime||null:X.perf_usertime||null;if(!(1>i&&1>s)||o||u){var a=U.hasOwn(X.sample,"perf_navigationtime")?X.sample.perf_navigationtime:100,f=U.hasOwn(X.sample,"perf_resourcetime")?X.sample.perf_resourcetime:100,l=U.samplingSuccess(a),c=U.samplingSuccess(f);if(l||c){if(0===window.performance.timing.loadEventStart){if(tt+=r,tt>200)return;return void setTimeout(function(){H(e,t)},r)}var h=B(i,s,o,u,l,c),p=new n(h);"object"==typeof t&&p.absorb(t);var d=T(0,"pageperf",p.getAll(),"");V.sendEvents(d)}}}}function B(e,t,n,r,i,s){var o={},u=window.performance.timing;if(i&&e>0&&(j(u.responseStart,u.connectEnd,o,"A_pfb"),j(u.responseEnd,u.responseStart,o,"A_pbp"),j(u.responseEnd,u.requestStart,o,"A_psr"),j(u.loadEventStart,u.navigationStart,o,"A_pol"),j(u.domInteractive,u.navigationStart,o,"A_pdi")),i&&e>1&&(j(u.redirectEnd,u.redirectStart,o,"A_prd"),j(u.domainLookupEnd,u.domainLookupStart,o,"A_pdl"),j(u.connectEnd
,u.secureConnectionStart,o,"A_psh"),j(u.connectEnd,u.connectStart,o,"A_psc"),j(u.loadEventStart,u.responseEnd,o,"A_pfe")),s&&t>0&&"undefined"!=typeof window.performance.getEntries){var a=[],f=window.performance.getEntries();f.sort(function(e,t){return e.duration>t.duration?-1:e.duration<t.duration?1:0});for(var l=f.slice(0,10),c=l.length,h=0;c>h;h++){var p={},d=l[h].name.replace(/\?.+$/,"");d=d.replace(/^.+\//,""),p.name=d,p.dur=Math.floor(l[h].duration),p.st=Math.floor(l[h].startTime),a.push(p)}o.A_res=U.sfy(a)}if(n&&(U.hasOwn(n,"initialPageLoad")&&(o.A_cmi=U.sfy(n.initialPageLoad)),U.hasOwn(n,"afterPageLoad")&&(o.A_cma=U.sfy(n.afterPageLoad))),r)for(var v=["utm"],h=0;h<v.length;h++)U.hasOwn(r,v[h])&&(o.A_utm=U.sfy(r[v[h]]));return o.etrg="backgroundPost",o.outcm="performance",o.usergenf=0,o.etag="performance",o}function j(e,t,n,r){if(e&&t){var i=e-t;n[r]=i}}function F(){if("prerender"==document.visibilityState){var e={etrg:"prerender",outcm:"page",usergenf:0,etag:"prerender"},t=T(0,"prerender",e,"");V.sendEvents(t)}}function I(){X.dwell_on&&(K=new P),d(),X.ldbg&&h("tracked_mods: "+U.fData(X.tracked_mods));var e=z.addModules(X.tracked_mods,!1),t=z.addModules(X.tracked_mods_viewability,X.viewability);X.USE_RAPID&&X.pageview_on_init&&V.sendRapidNoDelay(e.concat(t),1==X.client_only),X.prerender&&F(),U.executeOnLoad(function(){J=new _,X.apv&&($=new D),H(),_initTimeStamp=null,X.extendbcookie&&G.extendBCookie()})}function q(e){var t=navigator.userAgent,n=Object.prototype,r=t.match(/MSIE\s[^;]*/)||t.match(/Trident\/[^;]*/)?1:0,i=/KHTML/.test(t)?1:0,s=null!==t.match(/(iPhone|iPad|iPod)/gi),o=(t.indexOf("Android")>-1,s&&null!==t.match(/AppleWebKit/)),u=null!==t.match(/AppleWebKit/)&&null===t.match(/Chrome/),a=new RegExp(/\ufeff|\uffef|[\u0000-\u001f]|[\ue000-\uf8ff]/g),f=new RegExp(/[\u007f-\u00a0]|\s{2,}/g),l="http://",h="https://",d="class",v=" ",m=-1,g=300,y=["A_res","A_cmi","A_cma","A_utm"],b=-1,w="https:"===window.location.protocol;return r&&(document.documentMode?b=document.documentMode:(b=5,document.compatMode&&"CSS1Compat"==document.compatMode&&(b=7))),{$:function(e){return document.getElementById(e)},ca:"%01",cb:"%02",cc:"%03",cd:"%04",ce:"%05",cf:"%06",cg:"%07",ch:"%08",ylk_kv_delim:e.ylk_kv_delim||":",ylk_pair_delim:e.ylk_pair_delim||";",DATA_ACTION:"data-action",data_action_outcome:"data-action-outcome",isIE:r,isIOSSafari:o,isSafari:u,isWebkit:i,ieV:b,MAX_VALUE_LENGTH:e.max_value_length||g,value_len_whitelist:y,hasOwn:function(e,t){return n.hasOwnProperty.call(e,t)},enc:encodeURIComponent,dec:decodeURIComponent,getQueryStringValue:function(e,t){return decodeURIComponent(e.replace(new RegExp("^(?:.*[&\\?]"+encodeURIComponent(t).replace(/[\.\+\*]/g,"\\$&")+"(?:\\=([^&]*))?)?.*$","i"),"$1"))},curProto:function(){return w?h:l},isSecure:function(){return w},isScrollHorizontalVisible:function(){return document.documentElement.scrollWidth>document.documentElement.clientWidth},getCompStyle:function(e,t){return void 0!==window.getComputedStyle?window.getComputedStyle(e,t):(this.el=e,this.getPropertyValue=function(t){var n=/(\-([a-z]){1})/g;return"float"==t&&(t="styleFloat"),n.test(t)&&(t=t.replace(n,function(){return arguments[2].toUpperCase()})),e.currentStyle[t]?e.currentStyle[t]:0},this)},getBorder:function(e,t){if(!e||!t)return 0;var n=parseInt(this.getCompStyle(e,null).getPropertyValue(t),10);return isNaN(n)&&(n=0),n},getElementHeight:function(e){if(!e)return 0;var t=e.offsetHeight||0;return t?t-this.getBorder(e,"border-top-width")-this.getBorder(e,"border-bottom-width"):0},getPositionTop:function(e){for(var t=0;e;)t+=e.offsetTop,e=e.offsetParent;return t},getScrollbarWidthHeight:function(){var e=this.make("div");e.style.overflow="scroll",e.style.visibility="hidden",e.style.position="absolute",e.style.width="100px",e.style.height="100px",document.body.appendChild(e);var t={width:e.offsetWidth-e.clientWidth,height:e.offsetHeight-e.clientHeight};return this.rmBodyEl(e),t},isAboveFold:function(e){if(r&&7>=b)return!0;var t=U.getCompStyle(e);if("hidden"==t.visibility||"none"==t.display)return!1;var n=e.getBoundingClientRect(),i=this.getElementHeight(e),s=.5*i;if(n.top+s<0)return!1;var o=window.innerHeight||document.documentElement.clientHeight;if(this.isScrollHorizontalVisible()){var u=this.getScrollbarWidthHeight();o-=u.height}return n.bottom-s<=o?!0:void 0},strip:function(e){for(var t={"/":"P",";":"1","?":"P","&":"1","#":"P"},n={url:e,clean:"",cookie:"",keys:[]},r=0;-1!==e.indexOf("_yl",r);){var i=e.indexOf("_yl",r);if(i>r&&(n.clean+=e.slice(r,i-1)),r=i+3,t[e.charAt(i-1)]&&"="===e.charAt(i+4)){n.ult=1;var s="_yl"+e.charAt(i+3),o="";for(i+=5;i<e.length&&!t[e.charAt(i)];i++)o+=e.charAt(i);n.keys.push(s),n[s]=o,"_ylv"!==s&&(n.cookie+="&"+s+"="+o),t[e.charAt(i)]&&"P"===t[e.charAt(i)]&&(n.clean+=e.charAt(i)),r=i+1}else n.clean+=e.slice(i-1,r)}return n.ult&&(n.cookie=n.cookie.substr(1),n.clean+=e.substr(r),"0"===n._ylv),n},prevDef:function(e){e.preventDefault?e.preventDefault():e.returnValue=!1},appBodyEl:function(e){document.body.appendChild(e)},rmBodyEl:function(e){document.body.removeChild(e)},sa:function(e,t,n){e.setAttribute(t,n)},getScrollY:function(){var e=void 0!==window.pageYOffset?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop;return e},make:function(e,t){var n=document.createElement(e);if(t&&this.isObj(t))for(var r in t)this.sa(n,r,t[r]);return n},getXHR:function(){function e(){for(var e=!1,n=t.length,r=0;n>r;r++){try{e=t[r]()}catch(i){continue}break}return e}var t=[function(){return new XMLHttpRequest},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Msxml3.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}];return e()},hasLS:function(){try{return"localStorage"in window&&null!==window.localStorage}catch(e){return!1}},hasCORS:function(){return r&&10>b?!1:"withCredentials"in new XMLHttpRequest?!0:"undefined"!=typeof XDomainRequest},hasWorkers:function(){return!!window.Worker},clearCookie
:function(e,t,n){t=t?t:"/",n=n?n:"",document.cookie=e+"= ; path="+t+"; Expires=Thu, 01 Jan 1970 00:00:00 GMT; Domain="+n+";"},uniqConcat:function(e,t,n){function r(e){for(var t=0,r=e.length;r>t;t++){var o=e[t];if(o){var u=n(o);s[u]||(s[u]=1,i.push(o))}}}var i=[],s={};return r(e),r(t),i},trim:function(e){return e?e.replace(/^\s\s*/,"").replace(/\s\s*$/,""):e},extDomain:function(e){var t=e.match(/^https?\:\/\/([^\/?#]+)(?:[\/?#]|$)/i);return t&&t[1]},getAttribute:function(e,t){var n="";return document.documentElement.hasAttribute||t!==d||(t="className"),e&&e.getAttribute&&(n=e.getAttribute(t,2)),n},isDate:function(e){return"[object Date]"===n.toString.call(e)},isArr:function(e){return"[object Array]"===n.toString.apply(e)},isStr:function(e){return"string"==typeof e},isNum:function(e){return"number"==typeof e&&isFinite(e)},isNumeric:function(e){return e-0==e&&(e+"").replace(/^\s+|\s+$/g,"").length>0},isObj:function(e){return e&&"object"==typeof e},rTN:function(e){try{if(e&&3===e.nodeType)return e.parentNode}catch(t){c(t)}return e},getTarget:function(e){var t=e.target||e.srcElement;return t&&!t.nodeName&&(t=t.correspondingUseElement&&t.correspondingUseElement.parentNode?t.correspondingUseElement.parentNode:null),this.rTN(t)},addEvent:function(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent("on"+t,n)},rmEvent:function(e,t,n){e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent&&e.detachEvent("on"+t,n)},aug:function(e,t,n){if(t)for(var r in t)if(this.hasOwn(t,r)){if(n&&!n.call(null,r,t[r]))continue;e[r]=t[r]}},rmProto:function(e){return e?e.substr(0,7)===l?e.substr(7,e.length):e.substr(0,8)===h?e.substr(8,e.length):e:""},norm:function(e){return null===e?"":(e=""+e,this.trim(e.replace(f," ").replace(a,"")))},_hasClass:function(e,t){var n,r=!1;return e&&t&&(n=this.getAttribute(e,d)||"",r=t.exec?t.test(n):t&&(v+n+v).indexOf(v+t+v)>-1),r},hasClass:function(e,t){if(this.isArr(t)){for(var n=0,r=t.length;r>n;n++)if(this._hasClass(e,t[n]))return!0;return!1}return this.isStr(t)?this._hasClass(e,t):!1},quote:function(e){var t=/["\\\x00-\x1f\x7f-\x9f]/g,n={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},r='"',i='"';if(e.match(t)){var s=e.replace(t,function(e){var t=n[e];return"string"==typeof t?t:(t=e.charCodeAt(),"\\u00"+Math.floor(t/16).toString(16)+(e%16).toString(16))});return r+s+r}return i+e+i},sfy:function(e){if(!e&&""!==e)return{};var t,n=typeof e;if("undefined"===n)return"undefined";if("number"===n||"boolean"===n)return""+e;if("string"===n)return this.quote(e);if("function"==typeof e.toJSON)return this.sfy(e.toJSON());if(this.isDate(e)){var r=e.getUTCMonth()+1,i=e.getUTCDate(),s=e.getUTCFullYear(),o=e.getUTCHours(),u=e.getUTCMinutes(),a=e.getUTCSeconds(),f=e.getUTCMilliseconds();return 10>r&&(r="0"+r),10>i&&(i="0"+i),10>o&&(o="0"+o),10>u&&(u="0"+u),10>a&&(a="0"+a),100>f&&(f="0"+f),10>f&&(f="0"+f),'"'+s+"-"+r+"-"+i+"T"+o+":"+u+":"+a+"."+f+'Z"'}if(t=[],this.isArr(e)){for(var l=0,c=e.length;c>l;l++)t.push(this.sfy(e[l]));return"["+t.join(",")+"]"}if("object"===n){for(var h in e)if(this.hasOwn(e,h)){var p=typeof h,d=null;if("string"===p)d=this.quote(h);else{if("number"!==p)continue;d='"'+h+'"'}if(p=typeof e[h],"function"!==p&&"undefined"!==p){var v="";v=null===e[h]?'""':0===e[h]?0:this.sfy(e[h]),t.push(d+":"+v)}}return"{"+t.join(",")+"}"}},toJSON:function(){var e=null;return function(t){return e||(e="object"==typeof JSON&&JSON.stringify&&6!==b&&7!==b&&8!==b?JSON.stringify:this.sfy),e.call(this,t)}}(),executeOnLoad:function(e){var t=!1,n=function(n){(document.addEventListener||n&&"load"===n.type||"complete"===document.readyState)&&(t=!0,r(),e.call(this))},r=function(){document.addEventListener?(document.removeEventListener("DOMContentLoaded",n,!1),window.removeEventListener("load",n,!1)):(document.detachEvent("onreadystatechange",n),window.detachEvent("onload",n))};if("complete"===document.readyState)setTimeout(n);else if(document.addEventListener)document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1);else{document.attachEvent("onreadystatechange",n),window.attachEvent("onload",n);var i=!1;try{i=null==window.frameElement&&document.documentElement}catch(s){}i&&i.doScroll&&!function o(){if(!t){try{i.doScroll("left")}catch(n){return setTimeout(o,50)}r(),e.call(this)}}()}},getLinkContent:function(e){for(var t,n=0,r="";(t=e.childNodes[n])&&t;n++)1===t.nodeType&&("img"===t.nodeName.toLowerCase()&&(r+=(this.getAttribute(t,"alt")||"")+" "),r+=this.getLinkContent(t));return r},fData:function(e){return this.isStr(e)?e:this.toJSON(e)},getLT:function(e,t){if(!e)return"_";var n="";return t=t.toLowerCase(),n="input"===e.nodeName.toLowerCase()?this.getAttribute(e,"value"):"text"===t?i?e.textContent:e.innerText?e.innerText:e.textContent:"href"===t?this.rmProto(this.getAttribute(e,"href")):this.getAttribute(e,t)||"",n=this.norm(n),""===n&&(n=this.norm(this.getLinkContent(e))),n&&n.length>U.MAX_VALUE_LENGTH&&(n=n.substring(0,U.MAX_VALUE_LENGTH)),""===n?"_":n},clref:function(e){if(0!==e.indexOf(l)&&0!==e.indexOf(h))return"";var t=this.strip(e);return t.clean||t.url},cold:function(){return screen?screen.colorDepth||screen.pixelDepth:"unknown"},sr:function(e){return screen?screen.width+(e?e:",")+screen.height:""},xy:function(e){function t(){var e=document.documentElement,t=document.body;return e&&(e.scrollTop||e.scrollLeft)?[e.scrollTop,e.scrollLeft]:t?[t.scrollTop,t.scrollLeft]:[0,0]}var n=null,i=e.pageX,s=e.pageY;return r&&(n=t()),i||0===i||(i=e.clientX||0,r&&(i+=n[1])),s||0===s||(s=e.clientY||0,r&&(s+=n[0])),i+","+s},hasCC:function(e){for(var t=0,n=e.length;n>t;t++){var r=e.charCodeAt(t);if(32>r||"="===r)return!0}return!1},isValidPair:function(e,t){return U.in_value_whitelist(e)?!0:e.length<=0||e.length>32||t.length>U.MAX_VALUE_LENGTH?(U.ldbg&&console.warn("Invalid key/value pair ("+e+"="+t+") Size must be 1-32 & 0-300 respectively."),!1):!0},ser:function(e,t){if(!e)return"";void 0===typeof t&&(t=!0);var n=[],r=""
;for(var i in e)if(this.hasOwn(e,i)){var s=i,o=e[i];if(null===s||null===o)continue;if(s+="",o+="",o&&!U.in_value_whitelist(s)&&o.length>U.MAX_VALUE_LENGTH&&(o=o.substring(0,U.MAX_VALUE_LENGTH)),!this.isValidPair(s,o))continue;if(!this.hasCC(s)&&!this.hasCC(o)){r="",o=this.trim(o),""!==o&&" "!==o||!t||(o="_");try{r=this.enc(s+""+o),r=r.replace(/'/g,"%27")}catch(u){r="_ERR_ENCODE_",c(u)}n.push(r)}}return n.join(this.cd)},rand:function(){for(var e=0,t="",n="";e++<16;){var r=Math.floor(62*Math.random());n=10>r?r:String.fromCharCode(36>r?r+55:r+61),t+=n}return t},tms:function(){return+(new Date)},cookEn:function(){var e=navigator.cookieEnabled?1:0,t="rapidtc";return"undefined"!=typeof navigator.cookieEnabled||e||(document.cookie=t+"=1",e=-1!=document.cookie.indexOf("testcookie"),document.cookie=t+"=; expires=Thu, 01 Jan 1970 00:00:01 GMT;"),e},isResCF:function(e){var t={14:1,15:1,18:1,19:1,20:1};return t[e]},isTagOfInterest:function(e,t){for(var n=0,r=t.length;r>n;n++)if(e.tagName&&e.tagName.toLowerCase()==t[n].toLowerCase())return!0;return!1},samplingSuccess:function(e){var t=function(e){for(var t=33554467,n=t,r=0,i=e.length;i>r;r++)n+=(n<<1)+(n<<4)+(n<<7)+(n<<8)+(n<<24),n^=e.charCodeAt(r);return 0>n&&(n&=2147483647,n+=2147483648),n},n=function(e){var n=1e3;e*=10;var r=new p,i=""+r.getCookieByName("B");return i?(0>m&&(m=t(i)%n),e>m):!1};return n(e)},in_value_whitelist:function(e){return r&&8>=b?!1:-1!==U.value_len_whitelist.indexOf(e)}}}"undefined"!=typeof console&&"undefined"!=typeof console.log||(console={log:function(){}}),"undefined"==typeof console.error&&(console.error=console.log),"undefined"==typeof console.warn&&(console.warn=console.log),t.prototype={ser:function(){return U.ser(this.map)},set:function(e,t){var n=t?U.norm(t):t;void 0!==n&&null!==n||(n=""),null!==n&&U.isStr(n)&&(n=n.replace(/\\/g,"\\\\")),!U.in_value_whitelist(e)&&n.length>U.MAX_VALUE_LENGTH&&(n=n.substring(0,U.MAX_VALUE_LENGTH)),U.isValidPair(e,n)&&(this.map[U.norm(e)]=n,this.count++)},get:function(e){return this.map[e]},getAll:function(){return this.map},absorb:function(e){if(e&&U.isObj(e))for(var t in e)U.hasOwn(e,t)&&this.set(t,e[t])},absorb_filter:function(e,t){if(e&&U.isObj(e))for(var n in e)t&&!t.call(null,n)||U.hasOwn(e,n)&&this.set(n,e[n])},getSize:function(){return this.count}},n.prototype=new t,n.prototype.constructor=t,r.prototype=new t,r.prototype.constructor=t,n.makeFromPP=function(e){var t=new n;return e&&t.absorb(e.getAll()),t};var R=new n,U=q(e),z=new b,W={none:0,gzip:1,lzw:2,deflate:3};p.prototype={getCookieByName:function(e){return this.cookieMap[e]},getRxx:function(){var e="rxx",t=this.cookieMap[e];if(X.fpc&&(void 0===t||null===t||""===t)){var n=document.domain||"";n="."+n.split(".").slice(-2).join(".");var r=Date.UTC(2015,7,1),i=(new Date).getTime()-r;t=parseInt(Math.random().toString().substring(2)).toString(36)+"."+i.toString(36)+"&v=1",m(e,t,31536e3,n)}return t},extendBCookie:function(){var e=this.cookieMap.B;e?m("B",e,31536e3,".yahoo.com"):l("Bcookie not set")}};var X=u(e),V=g(),$=null,J=null,K=null,Q=null,G=new p,Y=G.getRxx();null!=Y&&R.set("_rx",Y);var Z=G.getCookieByName("_ga");null!=Z&&R.set("_ga",Z);var et=G.getCookieByName("yx");null!=et&&R.set("_yx",et);var tt=(function(){var e={};return{subscribe:function(t,n){var r=e[t];r||(r=[],e[t]=r),r.push(n)},unsubscribe:function(t,n){var r=e[t];if(r)for(var i=0;i<r.length;i++)if(r[i]===n)return void r.splice(i,1)},fire:function(t){var n=e[t];if(n)for(var r=0,i=n.length;i>r;r++)n[r].call(null)}}}(),0),nt=null,rt=null;I();var it={utils:U};return{init:function(){},beaconEvent:function(e,t,n,r){M(e,t,n,r)},beaconClick:function(e,t,n,r,i,s,o){X.ldbg&&h("beaconClick: sec="+e+" slk="+t+" callback="+s),!r&&i&&(r={});var u={};if(i&&(r.outcm=i,u.outcm=i),o&&o.pp&&U.aug(u,o.pp),o&&o.dwell&&X.dwell_on){var a=o.dwell;"start"!==a&&"stop"!==a||("start"===a?K.start_dwell()&&(u.etag="dwell,"+a,u.usergenf=1,u.A_prets=rt?rt.ts:null,u.A_prems=rt?rt.ms:null):K.stop_dwell()&&(u.etag="dwell,"+a,u.usergenf=1,u.A_prets=nt?nt.ts:null,u.A_prems=nt?nt.ms:null))}var f=C(e,t,n,r,i);f.pp=u,V.sendClick(f,s)},addModules:function(e,t,n){X.ldbg&&h("addModules() called: mods="+U.fData(e)+" isPage: "+t),n=n||{};var r={A_am:1};n.pp&&U.aug(r,n.pp),n.useViewability=n.useViewability||!1,n.clickonly=n.clickonly||!1;var i=!1,s=!1;switch(t||(t=n.useViewability?2:!1),t){case 1:case"1":case!0:t=!0,s=!0;break;case 2:case"2":i=!0,t=!1,n.event=T("contentmodification","",{});break;case 0:case"0":case!1:default:t=!1}if(!X.yql_enabled)return void (t?O(r,s):n.event&&this.beaconRichView(r,n.event.outcome));n&&n.event&&t&&(c("Cannot track event type and pageview at same time."),n.event=null);var o=z.addModules(e,n.useViewability);(0!==o.length||n.event)&&(n.clickonly&&(o=[]),(X.USE_RAPID||n.event)&&(t||n.event||n.pp?(s&&!X.persist_asid&&a(),n.event&&n.event.data&&U.aug(r,n.event.data),V.sendRapidNoDelay(o,t,r,n)):o.length>0&&V.sendRapid(o,t,r,n)),t===!0&&X.apv&&$&&$.reInit())},addModulesWithViewability:function(e,t,n){n=n||{},n.useViewability=X.viewability,this.addModules(e,t,n)},refreshModule:function(e,t,n,r){X.ldbg&&h("refreshModule called: mod="+e+" isPV: "+t+" sendLinks: "+n+" options: "+U.fData(r));var i=!1,s=!1;switch(r=r||{},t||(t=!1),t){case 1:case"1":case!0:t=!0,s=!0;break;case 2:case"2":i=!0,t=!1,r.event=T("contentmodification","",{});break;case 0:case"0":case!1:default:t=!1}if(!X.yql_enabled){var o=r.pp||{};return void (t?O(o,s):r.event&&this.beaconRichView(o,r.event.outcome))}var u=n!==!1;s&&!X.persist_asid&&a(),t&&r&&r.event&&(r.event=null),z.refreshModule(e,t,u,r)},removeModule:function(e){z.removeModule(e)},isModuleTracked:function(e){return X.ldbg&&h("isTracked called: "+e),z&&void 0!==z.exists(e)},destroy:function(){h("destroy called"),z.destroy(),$&&($.destroy(),$=null),J&&(J.destroy(),J=null),K&&(K.destroy(),K=null)},reInit:function(e){if(X.ldbg&&h("reInit called with: "+U.fData(e)),e=e||{},!e.spaceid)return void c("Invalid spid in reInit config: "+U.fData(e));R=new n,X=u(e),U=q
(e);var t=new p,r=t.getRxx();null!=r&&R.set("_rx",r);var i=t.getCookieByName("_ga");null!=i&&R.set("_ga",i);var s=t.getCookieByName("yx");null!=s&&R.set("_yx",s)},setRapidAttribute:function(e){e.keys&&X.keys.absorb(e.keys),e.spaceid&&(X.spaceid=e.spaceid),e.referrer&&(X.referrer=e.referrer.substring(0,U.MAX_VALUE_LENGTH)),e.A_sid&&(X.keys.set("A_sid",e.A_sid),X.persist_asid=!0),e.location&&(X.loc=e.location,X.keys.set("_w",U.rmProto(e.location).substring(0,U.MAX_VALUE_LENGTH))),U.hasOwn(e,"apv")&&(e.apv?$?$.reInit():$=new D:$&&($.destroy(),$=null))},clearRapidAttribute:function(e){for(var t in e)if("keys"===e[t]){var r=X.keys.get("_w"),i=X.keys.get("A_sid");X.keys=new n,X.keys.set("_w",r),X.keys.set("A_sid",i)}else"referrer"===e[t]?X.referrer="":"A_sid"===e[t]?(X.keys.set("A_sid",""),X.persist_asid=!0):"location"===e[t]&&(X.loc="",X.keys.set("_w",""))},beaconPageview:function(e){O(e,!0)},beaconECommerce:function(e,t){},beaconInternalSearch:function(e,t){},getCurrentSID:function(){return R.get("A_sid")},notifyHistoryPushStateCalled:function(){},beaconLinkViews:function(e,t,n,i){X.ldbg&&h("beaconLinkViews() called"),n=n||{};var s={};n.pp&&U.aug(s,n.pp);var o=!1,u=!1;switch(t){case 1:case"1":case!0:u=!0;break;case 2:case"2":o=!0,u=!1,n.event=T("contentmodification","",{});break;case 0:case"0":case!1:default:u=!1}if(!X.yql_enabled)return void (u?O(s,!1):n.event&&this.beaconRichView(s,n.event.outcome));if(n&&n.event&&u&&(c("Cannot track event type and pageview at same time."),n.event=null),0!==e.length||n.event){for(var a=[],f=0;f<e.length;f++){var l=e[f],p=new r;p.absorb_filter(l,function(e){return"sec"!=e&&"_links"!=e});for(var d=[],v=1,m=0;m<l._links.length;m++){var g=l._links[m],y={viewable:!0,data:{sec:l.sec,_p:v++,A_lv:2}};U.aug(y.data,g),d.push(y)}var b={moduleName:l.sec,moduleYLK:p,links:d,identifier:l.sec};a.push(b)}(X.USE_RAPID||n.event)&&((u||n.event||n.pp)&&n.event&&n.event.data&&U.aug(s,n.event.data),V.sendRapidNoDelay(a,u,s,n)),i&&i.call()}},beaconPerformanceData:function(e,t){H(e,t)},__test_only__:function(){return it}}},YUI.add("rapid",function(e,t){var n=require("lib/flog")("rapid"),r,i=-1,s={debug:!1,trackedElements:["content"]},o=750;e.rapidTracker={ok:!1,_queuedEvents:[],init:function(t){var n,s,o;if(e.rapidTracker.ok)return;try{r=new YAHOO.i13n.Rapid(t),r.init(),e.mix(this,r);for(n=0,s=this._queuedEvents.length;n<s;n++)o=this._queuedEvents.shift(),o.eventType==="beaconClick"?this.beaconClick(o.view,o.action,i,o.keys,o.outcome):o.eventType==="beaconPerformanceData"?this.beaconPerformanceData(o.obj):o.eventType==="beaconEvent"&&this.beaconEvent(o.eventName,o.pageParams);e.rapidTracker.ok=!0}catch(u){e.rapidTracker.ok=!1}},destroy:function(){e.rapidTracker.ok&&(r&&r.destroy(),e.rapidTracker.ok=!1)},getConf:function(t,r,i){var o,u,a="",f={},l=r.getUA(),c=r.getViewer(),h=["signed_out_home_page_no_scroll","enable_personalized_group_recommendations"];return i=i||{},i.trackedElements=i.trackedElements||[],o=e.merge(s,t.get("rapidConf")||{},i),o.trackedElements=s.trackedElements.concat(t.get("trackedElementIDs"),i.trackedElements),r.buckets&&(a=Object.keys(r.buckets).reduce(function(e,t){return h.indexOf(t)!==-1?e+t+":"+r.buckets[t]+",":e},"").slice(0,-1),a.length>300&&(n.warn("Rapid bucket data exceeded the 300 character limit."),a=a.substr(0,300))),f=e.QueryString.parse(window.location.search.replace("?","")),u=e.merge({pageType:t.name,intl:r.lang,bx:r.getCookie("BX"),buckets:a,isStaff:c&&c.isInsecureGod?1:0,renderer:r.hasClientSideRouted()?"c":"s",loggedIn:c&&c.signedIn?1:0,slice:r.slice,groupUsr:r.auth&&r.auth.activeGroupMembership?1:0,density:window.devicePixelRatio||1,dimensns:"innerWidth"in window?window.innerWidth+"x"+window.innerHeight:"unknown",isPro:0,isbot:l.isBot,isunsptd:l.isUnsupportedBrowser||l.isReallyUnsupportedBrowser,campaignID:decodeURIComponent(f.campaignID)||"",linkID:decodeURIComponent(f.linkID)||""},t.getTrackingSegments()),new e.Promise(function(n,i){var s,a=u.isunsptd&&t.get("isPanda")?"p#"+t.get("spaceid"):t.get("spaceid"),f=e.config.flickr.performance_samples[t.name.replace(/-/g,"_")];f?f.signedIn&&(f=f[c&&c.signedIn?"signedIn":"signedOut"]||0):f=0,f*=100,s={debug:o.debug,spaceid:a,client_only:o.client_only||1,compr_on:!1,tracked_mods:o.trackedElements,async_all_clicks:!0,lt_attr:"data-track",keys:u,perf_navigationtime:2,sample:{perf_navigationtime:f}},o.ex&&(s.ex=!0),typeof o.oo!="undefined"&&(s.oo=o.oo),c.signedIn?r.getModel("person-models",c.nsid).then(function(e){s.keys.joindate=e.getValue("dateCreated").format("YYYY-MM-DD"),s.keys.isPro=e.getValue("isPro")?1:0,n(s)}):n(s)})},beacon:function(e,t,n,s){n=n||{},s=s||"",r?r.beaconClick(e,t,i,n,s):this._queuedEvents.push({eventType:"beaconClick",view:e,action:t,keys:n,outcome:s})},beaconPerformanceData:function(e){r?r.beaconPerformanceData(e):this._queuedEvents.push({eventType:"beaconPerformanceData",obj:e})},beaconEvent:function(e,t){r?r.beaconEvent(e,t):this._queuedEvents.push({eventType:"beaconEvent",eventName:e,pageParams:t})},refreshTracker:function(){r&&e.rapidTracker.ok&&r.refreshModule(s.trackedElements[0],!1,!1,{})},beaconScroll:function(t){t.registerEventHandler(e.globalEvents.subscribe("window:scroll",function(n){t.verticalScrollTimer&&clearTimeout(t.verticalScrollTimer),t.verticalScrollTimer=setTimeout(function(){e.rapidTracker.beaconEvent("verticalScroll",{view:t.name,scrollY:window.pageYOffset,scrollTo:e.rapidTracker.getScrollSection(t,window.innerWidth/2,window.innerHeight/2)})},o)}))},getScrollSection:function(t,n,r){var i=e.one(document.elementFromPoint(n,r)),s=i.ancestor("[data-scroll-section]",!0);if(s)return s.getAttribute("data-scroll-section");var o=i.ancestor(".view",!0),u;if(o){u=o.getAttribute("class").match(/[\S]+-view/)[0];if(u===t.name&&n===window.innerWidth/2){var a=e.rapidTracker.getScrollSection(t,n/2,r);return a!==t.name?a:e.rapidTracker.getScrollSection(t,n+n/2,r)}return u}}}},"@VERSION@",{affinity:"client",requires:["querystring-parse-simple","global-events"]});
YUI.add("storage-helper",function(e){e.StorageHelper={setItem:function(t,n,r){var i=r?"sessionStorage":"localStorage";if(e.config.win)try{e.config.win[i][t]=n}catch(s){}},getItem:function(t,n){var r=n?"sessionStorage":"localStorage",i;if(e.config.win)try{i=e.config.win[r][t]}catch(s){}return i},remove:function(t,n){var r=n?"sessionStorage":"localStorage";if(e.config.win)try{e.config.win[r].removeItem(t)}catch(i){}},hasEntries:function(t,n){var r=n?"sessionStorage":"localStorage",i=!1;if(e.config.win)try{i=typeof e.config.win[r][t]!="undefined"}catch(s){}return i},isLocalStorageAvailable:function(){var t="checkLSCompat",n=!1;try{e.config.win.localStorage[t]="checkLSCompatValue",e.config.win.localStorage.removeItem(t),n=!0}catch(r){n=!1}return n}},e.Storage={Instance:{_cache:{},_hasSessionStorage:!0,_clientIdKey:"",getClientIdKey:function(){return this._clientIdKey||(this._clientIdKey=e.config.win.appContext.clientId+"_"),this._clientIdKey},get:function(t){var n,r;try{t=t||"",n=this.getClientIdKey()+t,this._hasSessionStorage?r=e.config.win.sessionStorage.getItem(n):r=this._cache[n]}catch(i){this._hasSessionStorage=!1}return r},set:function(t,n){var r;try{t&&(r=this.getClientIdKey()+t,this._hasSessionStorage?e.config.win.sessionStorage.setItem(r,n):this._cache[r]=n)}catch(i){this._cache[r]=n,this._hasSessionStorage=!1}},has:function(t){var n=!1,r;try{r=this.getClientIdKey()+t,this._hasSessionStorage?n=!!e.config.win.sessionStorage.getItem(r):n=!!this._cache[r]}catch(i){this._hasSessionStorage=!1}return n},remove:function(t){var n;try{t=t||"",n=this.getClientIdKey()+t,this._hasSessionStorage?e.config.win.sessionStorage.removeItem(n):this._cache[n]=undefined}catch(r){this._hasSessionStorage=!1}},clear:function(){this.clearByKey(this.getClientIdKey())},clearByKey:function(t){var n,r,i,s=[];try{if(t)if(this._hasSessionStorage){for(n=0,i=e.config.win.sessionStorage.length;n<i;n++)r=e.config.win.sessionStorage.key(n),r&&r.indexOf(t)===0&&s.push(r);for(n=0,i=s.length;n<i;n++)e.config.win.sessionStorage.removeItem(s[n])}else{e.Object.each(this._cache,function(e,n){n.indexOf(t)===0&&s.push(n)});for(n=0,i=s.length;n<i;n++)this._cache[s[n]]=undefined}}catch(o){this._hasSessionStorage=!1}}}}},"@VERSION@",{requires:[]});
YUI.add("keyboard-manager",function(e){var t=e.KeyboardManager=function(){var t=this;this.keyEventScope=["*"],e.on("flickr:setKeyEventScope",function(e){t.setCurrentKeyEventScope(e)}),e.on("flickr:removeKeyEventScope",function(e){t.removeCurrentKeyEventScope(e)})},n;t.prototype={on:function(t,n,r){return typeof r=="undefined"&&(r=n,n=null),e.one("doc").on("key",this.handleKey.bind(this,r,n),t)},handleKey:function(e,t,r){if(r.metaKey||r.altKey||r.shiftKey||r.ctrlKey)return;if(this.inputHasFocus())return;var i=n.get(r,"keyEventScope");i||(i=this.getCurrentKeyEventScope(),n.add(r,{keyEventScope:i})),(t==="*"||t===i)&&e(r)},inputHasFocus:function(){var t,n=/^text|search|tel|url|email|password|datetime|date|month|week|time|datetime-local|number|range|color$/i,r;try{t=e.one(document.activeElement)}catch(i){return!1}return t?(r=t.get("tagName").toUpperCase(),r==="INPUT"?n.test(t.get("type")):r==="TEXTAREA"||r==="SELECT"?!0:t.getAttribute("contenteditable")||!1):!1},setCurrentKeyEventScope:function(e){var t=this.keyEventScope.indexOf(e);t===-1?this.keyEventScope.push(e):this.keyEventScope=this.keyEventScope.slice(0,t+1)},getCurrentKeyEventScope:function(){return this.keyEventScope.slice(-1)[0]},getKeyEventScopeStack:function(){return this.keyEventScope},removeCurrentKeyEventScope:function(e){var t=this.keyEventScope.indexOf(e);t>-1&&(this.keyEventScope=this.keyEventScope.slice(0,t))},resetCurrentKeyEventScope:function(e){this.keyEventScope=["*"]}},n=function(){function r(e){var t;switch(e.type){case"key":t=e.which+e.pageX+e.pageY;break;default:t=e.type+e.pageX+e.pageY}return t}function i(e){delete t[e]}var t={},n=1;return{add:function(s,o){var u,a=r(s),f;e.Lang.isObject(s)&&e.Lang.isObject(s._event)&&e.Lang.isObject(o)&&(f=e.later(n,this,i,a),u=t[a]||{},e.mix(u,o,!0),u.timer&&u.timer.cancel(),u.timer=f,t[a]=u)},get:function(s,o){var u=r(s),a=t[u]||{};return a.timer&&a.timer.cancel(),a.timer=e.later(n,this,i,u),o?a[o]:a}}}()},"@VERSION@",{requires:["event-key"]});
YUI.add("overflow-helper",function(e){function t(t){var n=0,r;return YUI.Env.isServer||(r=e.Node.create("<div></div>"),r.setStyle("width",100).setStyle("height",100).setStyle("overflow","scroll").setStyle("position","absolute").setStyle("top",-9999),t.append(r),n=r._node.offsetWidth-r._node.clientWidth,r.remove(!0)),n}function n(t,n){var r,i,s;YUI.Env.isServer||(r=e.Node.create("<div>test event</div>"),r.setStyle("height: 1px").setStyle("width","1px").setStyle("opacity",0).setStyle("position","absolute").setStyle("top",-99999).setStyle("left",-99999).setStyle("overflow","auto"),t.append(r),i=setTimeout(function(){r._node.removeEventListener("overflow",s),r.remove(!0),n(!1)},10),s=function(e){clearTimeout(i),r._node.removeEventListener("overflow",s),r.remove(!0),n(!0)},r._node.addEventListener("overflow",s,!1))}function r(e,t,r,i){var s=t==="over",o,u,a,f;"OverflowEvent"in window?(f=function(e){if(e.type===t+"flow"||e.orient===0&&e.horizontalOverflow===s||e.orient===1&&e.verticalOverflow===s||e.orient===2&&e.horizontalOverflow===s&&e.verticalOverflow===s)return r.call(this,e)},a=e._node.addEventListener("overflowchanged",f,!1),i({detach:function(){e._node.removeEventListener("overflowchanged",f)}})):n(e,function(n){n?(f=function(e){if(e.type===t+"flow"||e.orient===0&&e.horizontalOverflow===s||e.orient===1&&e.verticalOverflow===s||e.orient===2&&e.horizontalOverflow===s&&e.verticalOverflow===s)return r.call(this,e)},a=e._node.addEventListener(t+"flow",f,!1),i({detach:function(){e._node.removeEventListener(t+"flow",f)}})):(u=function(){e._node.scrollHeight>e._node.clientHeight?t==="over"&&r.call(e._node,{}):t==="under"&&r.call(e._node,{})},"MutationObserver"in window?(o=new MutationObserver(function(e){e.some(function(e){return u(),!0})}),o.observe(e._node,{attributes:!1,subtree:!0,childList:!0}),i({detach:function(){o.disconnect()}})):"MutationEvent"in window&&(f=function(e){setTimeout(function(){u()},10)},a=e._node.addEventListener("DOMSubtreeModified",f,!1),i({detach:function(){e._node.removeEventListener("DOMSubtreeModified",f)}})))})}e.OverflowHelper={detectScrollbarSize:t,addFlowListener:r}},"@VERSION@",{requires:[]});
YUI.add("priority-queue",function(e,t){var n,r;e.PriorityQueue=n=function(e){this._comp=e||r,this._elts=[]},r=function(e,n){var r=typeof e,i=typeof n;if(r==="number"&&i==="number")return e-n;if(r!=="string"||i!=="string")throw new Error("["+t+"] can't sort items of type "+r+" and "+i);if(e===n)return 0;if(e>n)return 1;-1},n.prototype.size=function(){return this._elts.length},n.prototype.isEmpty=function(){return this._elts.length===0},n.prototype.push=function(){var e=Array.prototype.slice.call(arguments);e.length===1?this._elts.push(e[0]):this._elts=this._elts.concat(e),this.sort()},n.prototype.pop=function(){return this._elts.pop()},n.prototype.peek=function(){return this._elts[this._elts.length-1]},n.prototype.sort=function(e){e&&(this._comp=e),this._elts.sort(this._comp)},n.prototype.clear=function(e){this._elts=[]},n.prototype.map=function(e){return this._elts.map(e)}},"@VERSION@",{requires:[]});
YUI.add("defer-images",function(e,t){function p(){if(c)return;f=new Array(n),u=new e.PriorityQueue(function(e,t){return E(l,t)-E(l,e)}),h=!0,S(),g(),y(),e.globalEvents.subscribe("window:scroll",function(){S(),u.sort()}),c=!0}function d(){if(!c){p();return}u.clear(),g(),y()}function v(){h=!1}function m(){h=!0,y()}function g(){var t=[];a=e.all(o),a.each(function(e,n){var r=e.getXY();t.push({x:r[0],y:r[1],url:e.getAttribute(s),node:e,errorCount:0})}),u.push.apply(u,t)}function y(){var e,t,r;if(!h)return;for(e=0;e<n;e++){t=f[e];if(t&&!t.complete)continue;r=u.pop(),r&&(f[e]=t={task:r,complete:!1},b(t))}}function b(e){var t=new Image,n=w.bind(this,e);t.onload=n,t.onerror=function(){var t;e.task.errorCount++,e.task.errorCount>r?(t=/[a-f0-9]+(_[a-z]{1,2})?\.[a-z]{3,4}$/.exec(e.task.url),e.task.url="https://s.yimg.com/pw/images/"+this.appContext.lang.toLowerCase()+"/photo_unavailable"+(t[1]?t[1]:"")+".png",n()):b(e)},t.src=e.task.url,t.complete&&n()}function w(e){var t=e.task.node;switch(t.get("tagName").toLowerCase()){case"img":t.setAttribute("src",e.task.url);break;case"video":t.setAttribute("poster",e.task.url);break;default:t.setStyle("backgroundImage","url("+e.task.url+")")}t.setAttribute(s,i),e.complete=!0,y()}function E(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function S(){l={x:e.config.win.pageXOffset+e.config.win.innerWidth/2,y:e.config.win.pageYOffset+e.config.win.innerHeight/2}}var n=4,r=3,i="loaded",s="data-defer-src",o="["+s+"]:not(["+s+'="'+i+'"])',u,a,f,l={x:0,y:0},c=!1,h=!1;e.DeferImages={init:p,update:d,pause:v,resume:m}},"@VERSION@",{requires:["priority-queue","app-context","global-events"]});
YUI.add("accessibility",function(e,t){function n(e){e.registerEventHandler(e.get("container").on("mouseup",r)),e.registerEventHandler(e.get("container").on("focus",i))}function r(){var t=e.one(document.activeElement);t&&t.addClass("no-outline")}function i(){var t=e.one(document.activeElement);t&&t.removeClass("no-outline")}e.Accessibility={manageFocusOutlines:n}},"@VERSION@",{requires:[]});
YUI.add("client-app",function(e,t){function a(t){var n=window.location,r=window.history,i,s,o=!1;if(n.search&&r.replaceState){i=e.QueryString.parse(n.search.replace("?","")),t.forEach(function(e){e in i&&(delete i[e],o=!0)});if(o){s=e.QueryString.stringify(i);try{r.replaceState({},"",n.pathname+(s?"?"+s:""))}catch(u){}}}}function f(e,t){return t.betterUse(e,t)}function l(){return new e.FlickrRouter(u,e.config.flickr.routes)}function c(t){return window.appContext=new e.AppContext(t),window.appContext}function h(t){var n,i,s=[],o,u,a=["flickr.photos.addView","flickr.groups.updateViewDate","flickr.photos.getPhotos","flickr.people.addView","flickr.photosets.addView"];r.getViewCounter().flushQueue();if(r.uploadIsInProgress())u=this.intlMessage({intlName:"client-app.UPLOAD_IN_PROGRESS"});else{for(n in r.writeAPICallsMadeOnThisPage)i=r.writeAPICallsMadeOnThisPage[n],i.completed||s.push(i);s.length&&(s.every(function(e){return a.indexOf(e.methodName)!==-1})||(e.config.flickr.requestConfig&&e.config.flickr.requestConfig.auth&&e.config.flickr.requestConfig.auth.isInsecureGod?(o=s.map(function(e){return e.methodName}).join(", "),u=this.intlMessage({intlName:"client-app.SAVING_LAST_ACTIONS"})+" In progress API Methods: "+o):u=this.intlMessage({intlName:"client-app.SAVING_LAST_ACTIONS"})))}return e.Storage.Instance.clear(),u&&((t||window.event).returnValue=u),u}function p(t){r.setClientSideRouted(!0),r.setPreviousLocation(),r.adManager.hideAd(),r.updateModelRefetchState(t.url,t.originEvent&&t.originEvent.currentTarget&&t.originEvent.currentTarget.hasClass("do-not-evict")),r.clearWriteAPICallCache(),r.setGPCredentials(null),e.loaderBar.start(),r.clientMetrics.clearPendingMeasurements(),r.clientMetrics.start(t.details[0].url),r.adManager.isEnabled()&&r.adManager.currentlyShowingAd&&r.adManager.adIsUnloading(),r.getKeyboardManager().resetCurrentKeyEventScope(),e.Object.each(r.modelRegistries,function(e,t){e.hasWeakSubscribers&&e.removeWeakSubscribers()}),i=!0}function d(){e.UA.chrome>0&&(window.scrollTo(window.scrollX,window.scrollY+1),window.scrollTo(window.scrollX,window.scrollY-1))}function v(t){e.Object.each(r.modelRegistries,function(e,t){e.hasWeakSubscribers&&e.removeWeakSubscribers()}),t.src==="popstate"&&d(),t.src==="popstate"&&!u.hasRoute(u.getPath())&&!e.Object.isEmpty(t.newVal)&&u.navigate(u.getPath()),r.getViewCounter().flushQueue({resetDuplicateTracking:!0}),i||r.updateModelRefetchState(),i=!1}function m(e){u.set("previousView",e.prevVal)}function g(t,n){var i={spaceId:n,pageId:t.replace(/-/g,"_"),serverip:e.config.flickr.lighthouse.serverip,uuid:e.config.flickr.lighthouse.uuid,paft:!0,clientMetrics:r.clientMetrics,signedIn:r.getViewer().signedIn,rapidOnly:o,beaconToRapid:s,rapid:e.rapidTracker};r.Lighthouse=new e.Lighthouse(i)}function y(){var t=r.getViewer().intl;t==="de"&&e.use("hermes-template-agof",function(){var t=u.get("activeView"),r,i;r=e.config.flickr.agof.spaceids[t.name]||e.config.flickr.agof.spaceids["default"],i=e.Template.get("hermes/agof")({spaceid:r}),e.one(".agof").set("innerHTML",i),n.log("AGOF",{spaceid:r})})}function b(t,n){n=n||u.get("activeView"),e.rapidTracker.getConf(n,r,t).then(function(t){e.rapidTracker.init(t)})}function w(t,n){e.rapidTracker&&e.rapidTracker.destroy&&e.rapidTracker.destroy(),b(t,n)}function E(){try{ga&&(ga("set","page",document.location.href),ga("send","pageview"))}catch(e){}}function S(){a(["campaignID","linkID"])}function x(t){var n=t.pathname||"",r=(n.match(/^\/photos\/([^\/]+)/)||[])[1]||null,i;return r&&r!=="friends"&&(i=e.murmurhash(r,r+"secret insecure salt"),n=n.replace(r,i)),e.config.flickr.url.host+n}function T(){var t={c1:2,c2:7241469,c3:"",c4:encodeURIComponent(x(document.location)),c5:u.get("activeView").get("spaceid"),c6:"",c15:""};e.comscore&&e.comscore.beacon&&e.comscore.beacon(t)}function N(t){var i=this.get("activeView");i.getViewDataFromHistory("referrer")===undefined&&i.setViewDataOnHistory("referrer",r.getPreviousURL()),r.clientMetrics.end(),w(),T(),E(),y(),e.DeferImages.update(),e.config.win.DARLA&&e.config.win.DARLA.event&&typeof e.config.win.DARLA.event=="function"&&e.soon(function(){try{e.config.win.DARLA.event("AGOF")}catch(t){n.error("error firing secureFrame event",{err:t})}}),r.adManager.setAdCouldBeShown(!1);if(e.config.win.onappclientnav)try{e.config.win.onappclientnav()}catch(t){}e.Accessibility.manageFocusOutlines(i),e.rapidTracker.beaconScroll(i)}function C(t){return new e.Promise(function(i,s){var o=setTimeout(function(){s(new Error("Initial View Timeout"))},1e4);t.params.appContext=r,u.showContent(e.one("#content > .view"),{view:{name:t.name,config:t.params}},function(u){e.one("body").removeClass("dark-loader"),u._params&&(u._params.keyEventScope=u.name+u._yuid),u.setViewDataOnHistory("referrer",document.referrer),g(t.name,t.spaceId),u.set("isRootView",!0),u.initialize().then(function(){b(),T(),y(),r.getKeyboardManager().setCurrentKeyEventScope(u.name+u._yuid),d(),e.DeferImages.init(),e.Accessibility.manageFocusOutlines(u),e.rapidTracker.beaconScroll(u),S(),clearTimeout(o),i()}).then(null,function(e){throw n.error("There was a problem initializing or activating the view.",{err:e}),s(),e})}),u.before("navigate",p),u.before("activeViewChange",m),e.on("history:change",v),u.after("activeViewChange",N)})}function k(t,n,i,a){var f={},h;return e.Views&&e.Views[t]&&(f[t]={type:e.Views[t],preserve:!1}),u=new e.App({serverRouting:!0,viewContainer:"#content",container:"#content",linkSelector:":not(.server-only-link)",scrollToTop:!1,views:f}),s=a.flipper["enable-lighthouse-and-rapid-performance-beaconing"],o=a.flipper["enable-rapid-only-performance-beaconing"],o||e.FlickrClientMetrics.gatherColdStartData(),h=l(),a.auth=n,a.flapp=u,r=c(a),r.clientMetrics=new e.FlickrClientMetrics(r),o||(r.apiMetrics=new e.FlickrAPIMetrics(r)),r.routeTiming=a.routeTiming,r.routeConfig=a.routeConfig,r.getHealthBeaconer(),e.mix(e.Node.DOM_EVENTS,{transitionend:!0,webkitTransitionEnd:!0}),e.ClientTransport.authorize(r),window.addEventListener("unload"
,function(t){e.ClientTransport.unloading=!0}),window.addEventListener("load",function(t){e.ClientTransport.unloading=!1}),r.modelImportExport.importAll(i)}function L(t){if(typeof t=="undefined")return e.Promise.reject({message:"Invalid config object supplied, was undefined."});var n=t.initialView,r=t.modelExport,i,s,o=t.auth,u=this;return o&&t.auth.signedIn?i=t.auth.csrf:i=null,e.config.flickr.csrf.token=i,e.config.flickr.requestConfig={auth:o},t.params.routeTiming=t.routeTiming,t.params.routeConfig=t.routeConfig,a(["rb","welcome","rd","cr"]),window.location.search&&window.location.search.match(/yc=/)&&(s=e.QueryString.parse(window.location.search.replace("?","")),e.config.flickr.ycParam=s.yc),e.transportFactory=function(n,r){return new e.ClientTransport(r)},f(n.name,e).then(function(){return k(n.name,o,r,t.params)}).then(function(){return C(n)}).then(function(){e.config.win.addEventListener("beforeunload",h.bind(u))}).then(e.config.win.onappinit)}var n=require("lib/flog")(t),r,i=!1,s,o,u;e.ClientApp={init:L,beforeUnload:h,beforeNavigate:p,_loadInitialView:f,langBundles:["client-app"],updateRapidTracker:w},e.mix(e.ClientApp,e.Localizable)},"@VERSION@",{requires:["app-base","app-content","router","app-context","client-transport","flickr-router","flickr-client-metrics","flickr-api-metrics","handlebars-helpers","lighthouse","comscore","loader-bar","murmurhash","node","rapid","site-key","csrf-updater","better-use","flickr-promise","global-events","querystring-parse-simple","querystring-stringify-simple","storage-helper","keyboard-manager","dom","overflow-helper","defer-images","accessibility"],affinity:"client",langBundles:["client-app"]});
/*
YUI 3.16.0 (build 76f0e08)
Copyright 2014 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("intl",function(e,t){var n={},r="yuiRootLang",i="yuiActiveLang",s=[];e.mix(e.namespace("Intl"),{_mod:function(e){return n[e]||(n[e]={}),n[e]},setLang:function(e,t){var n=this._mod(e),s=n[i],o=!!n[t];return o&&t!==s&&(n[i]=t,this.fire("intl:langChange",{module:e,prevVal:s,newVal:t===r?"":t})),o},getLang:function(e){var t=this._mod(e)[i];return t===r?"":t},add:function(e,t,n){t=t||r,this._mod(e)[t]=n,this.setLang(e,t)},get:function(t,n,r){var s=this._mod(t),o;return r=r||s[i],o=s[r]||{},n?o[n]:e.merge(o)},getAvailableLangs:function(t){var n=e.Env._loader,r=n&&n.moduleInfo[t],i=r&&r.lang;return i?i.concat():s}}),e.augment(e.Intl,e.EventTarget),e.Intl.publish("intl:langChange",{emitFacade:!0})},"3.16.0",{requires:["intl-base","event-custom"]});
/*
YUI 3.16.0 (build 76f0e08)
Copyright 2014 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("base-pluginhost",function(e,t){var n=e.Base,r=e.Plugin.Host;e.mix(n,r,!1,null,1),n.plug=r.plug,n.unplug=r.unplug},"3.16.0",{requires:["base-base","pluginhost"]});
/*
YUI 3.16.0 (build 76f0e08)
Copyright 2014 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("template-base",function(e,t){function n(t,n){this.defaults=n,this.engine=t||e.Template.Micro,this.engine||e.error("No template engine loaded.")}n._registry={},n.register=function(e,t){return n._registry[e]=t,t},n.get=function(e){return n._registry[e]},n.render=function(t,r,i){var s=n._registry[t],o="";return s?o=s(r,i):e.error('Unregistered template: "'+t+'"'),o},n.prototype={compile:function(t,n){return n=n?e.merge(this.defaults,n):this.defaults,this.engine.compile(t,n)},precompile:function(t,n){return n=n?e.merge(this.defaults,n):this.defaults,this.engine.precompile(t,n)},render:function(t,n,r){return r=r?e.merge(this.defaults,r):this.defaults,this.engine.render?this.engine.render(t,n,r):this.engine.compile(t,r)(n,r)},revive:function(t,n){return n=n?e.merge(this.defaults,n):this.defaults,this.engine.revive?this.engine.revive(t,n):t}},e.Template=e.Template?e.mix(n,e.Template):n},"3.16.0",{requires:["yui-base"]});
YUI.add("flickr-view",function(e,t){function r(t,r,i,s,o){e.namespace("Views"),e.Views[t]&&n.warn("A view with this name already exists. Did you mean to redefine it?",{view:t}),s.destroy&&s.destroy!==e.FlickrView.prototype.destroy&&n.warn("`destroy` method was overridden. Did you mean `destructor`?",{view:t}),s.initialize&&s.initialize!==e.FlickrView.prototype.initialize&&n.warn("`initialize` method was overridden. Did you mean `initializer`?",{view:t});try{e.Views[t]=e.Base.create(t,r,i,s,o)}catch(u){throw n.warn("`Base.create` method failed, maybe because of Chrome 51?",{view:t}),!YUI.Env.isServer&&e.config.win.beaconError&&e.config.win.beaconError("`Base.create` method failed, maybe because of Chrome 51?",e.config.win.location.href,u),u}if(r&&r!==e.FlickrView&&r.prototype&&r.prototype.langBundles){var a=[],f=(e.Views[t].prototype.langBundles||[]).concat(r.prototype.langBundles);a=e.Array.dedupe(f),e.Views[t].prototype.langBundles=a}return e.Views[t]}var n=require("lib/flog")(t);e.FlickrView=e.Base.create("flickrView",e.Base,[],{viewState:null,subviews:{},subviewConfig:null,_eventHandles:null,initializer:function(e){return this.appContext=e.appContext,delete e.appContext,this.get("container").get("innerHTML")===""&&this.setContainerHTML(""),this.set("headContainer",""),this.isBuilt=!1,this.isActivated=!1,this.isErrorBuilt=!1,this.subviewsWithLoadingError={},this._params=e||{},this.isMobile=e.isMobile,this.subviews={},this._eventHandles=[],this.appContext&&!this.appContext.viewTiming&&(this.appContext.viewTiming={}),this.appContext&&(this.appContext.viewTiming[this.name]={initialize:0,loadState:0,buildContainer:0,buildHeadContainer:0,activate:0}),this},initialize:function(t){var r=this;return this.initializeStartTime=Date.now(),this.isErrorBuilt=!1,this.serverRendered=t&&t.serverRendered?t.serverRendered:!1,r.beforeDestroy&&(r.beforeDestroyHandler=r.before("destroy",r.beforeDestroy)),YUI.Env.isServer||this.registerEventHandler(this.appContext.flapp.after("activeViewChange",function(e){r.normalizedActivate()})),this.on("parentViewEvent",this.handleParentViewEvent.bind(this,this.name)),this.setupSubviews().then(function(){var e,t;if(r.isErrorBuilt)throw r.error.is404?r.error:(t=new Error("Subview of "+r.name+" causing loadState error"),r.error&&(t.message+=": "+r.error.message,r.error.method&&(t.message+=", method="+r.error.method),t.message+=" | subview failure: "+r.error.fatal,r.error.wasDealbreaker&&(t.message+=" dealbreaker failed "),r.error.wasMultipleSubviews&&(t.message+=" multiple subviews failed "),t.fatal=r.error.fatal),t);r.loadStateTimingStart=Date.now(),e=r.loadState();if(!e)throw new Error("View "+r.name+" loadState function does not return a promise");return e}).then(function(){r.appContext&&r.appContext.viewTiming&&r.appContext.viewTiming[r.name]&&(r.appContext.viewTiming[r.name].loadState=Date.now()-r.loadStateTimingStart);if(YUI.Env.isServer||!r.get("container").hasClass("requiredToShowOnServer")||t&&t.wasDeferred){var e=Date.now();try{r.buildContainer()}catch(i){throw n.error("Error building",{topic:r.name,err:i}),r.fire("loadingError",{message:i.message,fatal:!0,wasDealbreaker:!0}),r.buildErrorContainer(),r.isErrorBuilt=!0,i}r.appContext&&r.appContext.viewTiming&&r.appContext.viewTiming[r.name]&&(r.appContext.viewTiming[r.name].buildContainer=Date.now()-e);if(r.get("isRootView")){r._buildFullRootViewAdditionalViewClasses();var s=r.get("rootViewAdditionalViewClasses");s&&s.length>0&&r.get("container").addClass(s.join(" "))}}r.isBuilt=!0,r.isErrorBuilt=!1,r.fire("loadingSuccess")},function(e){throw r.fire("loadingError",{message:e.message,fatal:e.fatal,is404:e.is404,wasMultipleSubviews:e.wasMultipleSubviews,wasDealbreaker:e.wasDealbreaker}),r.buildErrorContainer(),r.isErrorBuilt=!0,n.error("Error loading state",{topic:r.name,err:e}),e}).then(function(){var t,n;return!r.isErrorBuilt&&!r.get("isActiveViewAgnostic")&&(t=Date.now(),r._buildFullHeadMeta(),r.buildHeadContainer=Date.now()-t),YUI.Env.isServer||(r.shouldDeferSubviews&&r._setupDeferredSubviewsInitialization(),n=Date.now(),r.normalizedActivate(),r.appContext&&r.appContext.viewTiming&&r.appContext.viewTiming[r.name]&&(r.appContext.viewTiming[r.name].activate=Date.now()-n)),r.appContext&&r.appContext.viewTiming&&r.appContext.viewTiming[r.name]&&(r.appContext.viewTiming[r.name].initialize=Date.now()-r.initializeStartTime),!YUI.Env.isServer&&r._params.logViewTimings&&r.wasRequiredToShow&&e.fletrics.set(r.name.replace(/\-/g,".")+".viewtiming",r.appContext.viewTiming[r.name].initialize),r},function(e){throw YUI.Env.isServer||(r.shouldDeferSubviews&&r._setupDeferredSubviewsInitialization(),r.normalizedActivate()),e}).catch(e.PromiseCatcher(this.name))},render:function(){return this},buildHeadContainer:function(){return this.set("headContainer",""),this},_buildSubviewHeadContainers:function(){var e=[],t=this,n="<script";return Object.keys(this.subviews).forEach(function(n){e.indexOf(t.subviews[n].get("headContainer"))===-1&&e.push(t.subviews[n].get("headContainer"))}),e.sort(function(e,t){var r=e.toLowerCase().indexOf(n)>-1,i=t.toLowerCase().indexOf(n)>-1;return r&&!i?1:!r&&i?-1:0}).join("")},_buildFullHeadMeta:function(){var e,t="";return this.buildHeadContainer(),e=this.get("headContainer"),e=e.concat(this._buildSubviewHeadContainers()),this.set("headContainer",e.concat(t)),this},setRootViewAdditionalViewClasses:function(){return this.set("rootViewAdditionalViewClasses",[]),this},_buildFullRootViewAdditionalViewClasses:function(){var e=[];return e=e.concat(this._buildSubviewRootViewAdditionalViewClasses()),this.set("rootViewAdditionalViewClasses",e),this},_buildSubviewRootViewAdditionalViewClasses:function(){this.setRootViewAdditionalViewClasses();var e=this.get("rootViewAdditionalViewClasses")||[],t=this;return Object.keys(this.subviews).forEach(function(n){var r=t.subviews[n]._buildSubviewRootViewAdditionalViewClasses();e=e.concat(r)}),e},_setupDeferredSubviewsInitialization:function(){setTimeout(function(){var t=e.config
.win.document.body;t.scrollTop>0||t.clientHeight-50<=t.scrollHeight?this._loadDeferredSubviews():(this.deferredViewScrollListener=e.globalEvents.subscribe("window:scroll",this._loadDeferredSubviews.bind(this)),this.registerEventHandler(this.deferredViewScrollListener))}.bind(this),10)},_loadDeferredSubviews:function(){this.loadingDeferred||(this.loadingDeferred=!0,this._removeDeferredViewScrollListener(),this._recursivelyLoadDeferredSubview(0,!1))},_removeDeferredViewScrollListener:function(){this.deferredViewScrollListener&&(this.deferredViewScrollListener.detach(),this.deferredViewScrollListener=null)},_recursivelyLoadDeferredSubview:function(t,r){var i=Object.keys(this.subviewConfig||[]).filter(function(e){var t=this.subviewConfig[e];return t.disabled===!0?!1:typeof t.disabled=="function"&&t.disabled.call(this,this._params)?!1:this.subviewConfig[e].canDefer}.bind(this)),s=this;if(t<=i.length-1){var o=i[t],u=e.merge(this._params,this.subviewConfig[o]),a;u.container=null,u.wasDeferred=!0,n.log("Loading deferred view",{topic:s.name,view:o});try{a=this.appContext.getView(o,u)}catch(f){this._onDeferredViewLoadingError(t,r,f);return}a.then(function(e){if(!e){n.error("An error occured trying to load the deferred view.",{topic:s.name}),r?(t++,r=!1):r=!0,s._recursivelyLoadDeferredSubview(t,r);return}e.initialize(u).then(function(){e.on("subviewViewEvent",function(t){t&&t.details&&t.details.length&&s.onSubviewEvent.call(s,e.name,t.details)}),u&&u.additionalViewClasses&&u.additionalViewClasses.forEach(function(t){e.get("container").addClass(t)}),s._addDeferredViewToDOM(e),e.normalizedActivate(),t++,s._recursivelyLoadDeferredSubview(t,!1)}).catch(s._onDeferredViewLoadingError.bind(this,t,r))})}},_onDeferredViewLoadingError:function(e,t,r){n.error("An error occured trying to initialize the deferred view",{topic:this.name,err:r}),t?(e++,t=!1):t=!0,this._recursivelyLoadDeferredSubview(e,t)},_addDeferredViewToDOM:function(e){if(!e){n.error("Non-view passed to _addDeferredViewToDOM.",{topic:this.name});return}var t=this.get("container").one("."+e.name),r=e.get("container");t&&r?t.replace(r):n.error("Could not add view to DOM in _addDeferredViewToDOM",{topic:this.name,view:e.name})},attachKeyEvent:function(e,t,n){return this.registerEventHandler(this.appContext.getKeyboardManager().on(e,n||this._params.keyEventScope||"*",t.bind(this)))},setContainerHTML:function(e){var t=this;return this.get("container").setHTML(e),YUI.Env.isServer||(this.get("container").generateID(),Object.keys(this.subviews||{}).forEach(function(e,n,r){var i=t.subviews[e],s=i.get("container"),o=i.getId?i.getId():s._yuid,u=t.get("container").one("#"+o);u&&u.replace(s)})),this},setupSubviews:function(){var t=this,r,i=[],s=[],o=[],u=this.appContext.flipper.isFlipped("enable-non-blocking-on-non-required-views"),a,f={};if(!this.subviewConfig)return e.Promise.resolve();Object.keys(this.subviewConfig).forEach(function(e){if(t.subviewConfig[e].disabled===!0)return;if(typeof t.subviewConfig[e].disabled=="function"&&t.subviewConfig[e].disabled.call(t,t._params))return;f[e]=t.subviewConfig[e]}),r=Object.keys(f).map(function(r){YUI.Env.isServer?a=f[r].requiredToShowOnServer||f[r].requiredToShow||t.appContext.forceServerRender&&!f[r].neverShowOnServer:a=f[r].requiredToShowOnClient||f[r].requiredToShow;var l=e.merge(t._params,f[r]);!t.shouldDeferSubviews&&l.canDefer&&delete l.canDefer;if(t.shouldDeferSubviews&&l.canDefer){n.log("Deferring subview.",{topic:t.name,view:r});var c=u?o:i;c.push(t.instantiateSubview(r,l).then(function(e){return e.setContainerHTML(""),e.get("container").addClass("deferred-view"),e}))}else if(a){var h=u?s:i;h.push(t.instantiateSubview(r,l).then(function(e){return e.wasRequiredToShow=!0,t.setupSubview(r,l,e)}))}else{var p=u?o:i;p.push(t.instantiateSubview(r,l).then(function(n){n.wasRequiredToShow=!1,YUI.Env.isServer||e.soon(function(){t.setupSubview(r,l,n)})}))}}).filter(function(e){return!!e});if(u){var l=s.length?e.Promise.all(s):e.Promise.resolve();return l.then(function(){o.length&&!YUI.Env.isServer&&e.Promise.all(o).then(function(){t.buildContainer(),t.normalizedActivate()})})}return i.length?e.Promise.all(i):e.Promise.resolve()},registerSubview:function(e,t){t||(t=e.name),this.subviews[t]=e},instantiateSubview:function(t,r){var i=this;return r.container=this.getContainer({isSubview:!0,subviewName:t,subviewParams:r}),this.appContext.getView(t,r).then(null,function(){return n.log("getView failed to load view, retrying once more."),i.appContext.getView(t,r)}).then(function(e){return e.on("loadingError",i.handleSubviewLoadingError.bind(i)),e.on("loadingSuccess",i.handleSubviewLoadingSuccess.bind(i)),e.on("subviewViewEvent",i.handleSubviewEvent.bind(i,e.name)),i.registerSubview(e,t),e._params&&(e._params.keyEventScope=i._params.keyEventScope),e}).catch(e.PromiseCatcher(this.name))},onSubviewEvent:function(e,t){return!0},onParentViewEvent:function(e,t){return!0},handleSubviewEvent:function(e,t){var n=t?t.details||[]:[];this.onSubviewEvent(e,n)!==!1&&this.fire.apply(this,["subviewViewEvent"].concat(n))},handleParentViewEvent:function(e,t){var n=t?t.details||[]:[],r,i=this;if(this.onParentViewEvent(e,n)!==!1)for(r in this.subviews)i.subviews[r].fire.apply(i.subviews[r],["parentViewEvent"].concat(n))},handleSubviewLoadingSuccess:function(e){this.subviewsWithLoadingError[e.target.name]&&delete this.subviewsWithLoadingError[e.target.name]},handleSubviewLoadingError:function(e){var t;this.subviewConfig[e.target.name].dealbreaker&&(this.hasDealbreakerSubviewLoadingError=!0),this.subviewsWithLoadingError[e.target.name]=e.details[0];if(!this.isErrorBuilt){t=Object.keys(this.subviewsWithLoadingError);if(this.hasDealbreakerSubviewLoadingError||t.length>=2)this.error={message:"",fatal:!0},t.forEach(function(e,n){var r=this.subviewsWithLoadingError[e];n!==t.length-1?this.error.message+="["+e+"] "+r.message+" | ":this.error.message+="["+e+"] "+r.message,r.is404&&(this.error.is404=!0),r.method&&(this.error.method+=r.method),r.fatal||(this
.error.fatal=!1)}.bind(this)),this.fire("loadingError",{message:this.error.message,fatal:this.error.fatal,is404:this.error.is404,wasDealbreaker:this.hasDealbreakerSubviewLoadingError,wasMultipleSubviews:t&&t.length>=2}),this.buildErrorContainer(),this.isErrorBuilt=!0,n.error("subview forced the error loading state",{topic:this.name,view:e.target.name})}},setupSubview:function(t,r,i){var s=this;return r=e.merge(r||{}),r.alreadyRendered=s.alreadyRendered,i.set("isActiveViewAgnostic",s.get("isActiveViewAgnostic")),i.initialize(r).then(function(){return s.subviews[t]},function(e){n.error("Error getting/initializing view",{topic:s.name,err:e,view:t})}).catch(e.PromiseCatcher(this.name))},attachEvents:function(t){if(!t)return;var n={},r=this;Object.keys(t).forEach(function(i){var s,o;s={selector:(i.match(/([\w-_#\.\[\]~|$^*= ]+) /i)||[])[1]||"[data-action]",type:(i.match(/([\w]+):/i)||[])[1]||"click",action:(i.match(/:([\w]+)/i)||[])[1]||"_default_"},o=s.selector+"/"+s.type,n[o]||(n[o]={},r.registerEventHandler(r.get("container").delegate(s.type,function(t){var i,u,a,f;i=t.target.ancestor(s.selector,!0);if(s.type==="click"){u=t.target.ancestor(".server-only-link",!0);if(u){if(t.metaKey===!0||t.ctrlKey===!0)return;e.config.win.location=u.get("href");return}}if(!i)return;a=i.getData()||{},f=a.action||"_default_";if(!n[o].hasOwnProperty(f))return;if(!n[o][f])throw new Error('Handler for "'+f+'" UI event is undefined');n[o][f].call(r,t,a)},s.selector))),n[o][s.action]=t[i]})},registerEventHandler:function(t){if(e.Lang.isFunction(t.detach))return this._eventHandles.push(t),t},detachRegisteredEvent:function(t){var n=this._eventHandles.indexOf(t);n!==-1&&e.Lang.isFunction(t.detach)&&(t.detach(),this._eventHandles.splice(n,1))},detachRegisteredEvents:function(){this._eventHandles.length&&(this._eventHandles.forEach(function(e){e.detach()}),this._eventHandles=[])},generateSignature:function(t,n){var r={},i,s,o=function(e){var t=0;if(e.length===0)return t;for(var n=0;n<e.length;n++)s=e.charCodeAt(n),t=(t<<5)-t+s,t&=t;return t};return e.Object.each(n,function(e,t){t!=="container"&&t!=="appContext"&&t!=="context"&&t!=="parentView"&&t!=="keyEventScope"&&typeof e!="undefined"&&typeof e!="function"&&(r[t]=typeof e=="object"?1:e)}),i=t+"__"+Object.keys(r).sort().map(function(e){var t,n;try{t=encodeURIComponent(e)}catch(i){t=encodeURIComponent(o(e))}try{n=encodeURIComponent(r[e])}catch(i){t=encodeURIComponent(o(r[e]))}return t+"_"+n}).join("__"),i},getContainer:function(t){t=t||{},t.subviewParams=t.subviewParams||{};var n,r,i=["view",t.subviewName||t.viewName||this.name],s,o=t.subviewName?t.subviewParams.additionalViewClasses:this.additionalViewClasses,u,a=t.subviewParams.preferredViewTag||"div";return(!t.isSubview||t.subviewParams.requiredToShowOnServer||t.subviewParams.requiredToShow)&&YUI.Env.isServer&&i.push("requiredToShowOnServer"),this.theme&&i.push(this.theme),e.Lang.isArray(o)&&o.length?i=i.concat(o):e.Lang.isFunction(o)&&(u=o.call(this),e.Lang.isArray(u)&&u.length&&(i=i.concat(u))),t.subviewName||i.push(e.FlickrView.ROOT_VIEW_CLASS_NAME),i=' class="'+i.join(" ")+'"',t.subview?n=t.subview.getId():t.subviewName&&t.subviewParams&&(n=this.generateSignature(t.subviewName,t.subviewParams)),YUI.Env.isServer?r={html:"",setHTML:function(e){this.html=e},getHTML:function(e){return this.html},get:function(e){switch(e){case"innerHTML":return this.html;case"outerHTML":return"<"+a+" "+i+(s?' style="'+Object.keys(s).reduce(function(e,t,n,r){return e+t+": "+s[t]+(n<r.length-1?"; ":"")},"")+'"':"")+(n?' data-view-signature="'+n+'"':"")+">"+this.html+"</"+a+">"}return null},hasChildNodes:function(){return!1},addClass:function(e){e=e.trim();if(e==="")return;i=i.slice(0,-1)+" "+e+'"'},hasClass:function(e){var t=i.split('"')[1],n=t.split(" ");return n.indexOf(e)>-1},removeClass:function(e){var t=i.split('"')[1],n=t.split(" "),r=n.indexOf(e);r!==-1&&(n.splice(r,1),i=' class="'+n.join(" ")+'"')},setStyle:function(e,t){s||(s={}),s[e]=t},setStyles:function(e){s||(s={}),Object.keys(e).forEach(function(t){s[t]=e[t]})},appendChild:function(e){this.html+=e.html},all:function(){return{each:function(){}}},one:function(){return null}}:(n&&(r=this.get("container").one('[data-view-signature="'+n+'"]')),r?r.removeAttribute("data-view-signature"):r=e.Node.create("<"+a+" "+i+"></"+a+">")),r},renderSubviews:function(){var e={},t=this;return Object.keys(this.subviews).forEach(function(e,r,i){try{t.subviews[e].render()}catch(s){n.error("Error rendering view",{topic:t.name,err:s,view:e})}}),e},templates:function(t){var r=e.Template.get("hermes/"+t),i=this.getLangBundles(),s=this,o;i.locales=this.appContext.lang||this.defaultLang;if(typeof r!="function")throw n.error("Template not found",{topic:this.name,template:t}),new Error("Template not found: "+t);return this.appContext.flipper&&(o=this.appContext.flipper),function(e){return e=e||{},!e.flippers&&o&&(e.flippers=o.toJSON()),e.isMobile=s._params.isMobile,s.appContext.forceServerRender&&(e.isServerRendered=!0),Object.keys(s.subviewConfig||{}).forEach(function(t){e[t]||(e[t]=s.subviews[t]?s.subviews[t].get("container"):"")}),r(e,{data:{intl:i,flippers:e.flippers}})}},loadState:function(){return e.Promise.resolve()},updateHead:function(){this.get("headContainer")!==null&&(e.one("head").all('[data-dynamic="true"]').remove(!0),e.one("head").append(this.get("headContainer")))},canActivate:function(){var e=!1;return(this.isBuilt||this.isErrorBuilt)&&!this.isActivated&&!this.isErrorActivated&&this.isActiveAndInDOM()&&(e=!0),e},isActiveAndInDOM:function(){var e=this.get("container");return e&&(this.get("isActiveViewAgnostic")||this.appContext.flapp.get("activeView").get("container").contains(e))&&e.inDoc()},activate:function(){return this},activateSubviews:function(){var e,t,r=this;for(e in this.subviews){t=r.subviews[e];try{t.normalizedActivate(),t.recursivelyActivateSubviews()}catch(i){n.error("Error activating view",{topic:this.name,err:i,view:e})}}return this},recursivelyActivateSubviews:function(
e){var t,r,i=e||this.subviews,s=this;for(t in i){r=i[t];if(r.canActivate()){r.normalizedActivate();try{r.normalizedActivate(),s.recursivelyActivateSubviews(r.subviews)}catch(o){n.error("Error activating view",{topic:this.name,err:o,view:r})}}}return this},normalizedActivate:function(){this.canActivate()&&(this.isErrorBuilt?(this.isErrorActivated=!0,this.activateErrorContainer()):(e.rapidTracker.refreshTracker(),this.activate(),this.isActivated=!0,this.activateSubviews()))},buildErrorContainer:function(){this.setContainerHTML("")},activateErrorContainer:function(){var e=this,t=this.get("container").one(".retry");t&&t.on("click",function(t){t.preventDefault(),e.isErrorActivated=!1,e.initialize()})},setViewDataOnHistory:function(t,n){return e.HistoryHelper.setData(this.name,t,n)},getViewDataFromHistory:function(t){return e.HistoryHelper.getData(this.name,t)},getTrackingSegments:function(){return{}},reload:function(t,n){var r=this,i=[];if(!t.length)return e.Promise.resolve();for(var s=0;s<t.length;s++)i.push(this.appContext.getModelRegistry(t[s]));return e.Promise.all(i).then(function(e){for(var t=0;t<e.length;t++)Array.isArray(n)?e[t].remove(n[t]):e[t].remove(n);YUI.Env.isServer||r.appContext.flapp.navigate(r.appContext.getLocation().href)}).catch(e.PromiseCatcher(this.name))},destroy:function(t){this.set("destroyed",!0);var n=this.get("container"),r;this.detachRegisteredEvents();if(!YUI.Env.isServer&&this.isActiveAndInDOM()){this.setRootViewAdditionalViewClasses();var i=this.get("rootViewAdditionalViewClasses")||[],s=e.one("."+e.FlickrView.ROOT_VIEW_CLASS_NAME);i&&s&&i.forEach(function(e){s.removeClass(e)})}return this._removeDeferredViewScrollListener(),e.Node&&n&&(n.detach&&n.detach(),t&&(t.remove||t["delete"])&&n.remove&&n.remove(!0),this.set("container",null)),this.destroySubviews(),r=e.FlickrView.superclass.destroy.call(this),this.beforeDestroyHandler&&this.beforeDestroyHandler.detach(),r},destroySubviews:function(){var e=this;Object.keys(this.subviews||{}).forEach(function(t,n,r){e.subviews[t].destroy()})},bringIntoFocus:function(){var e=this.get("container"),t=e.getAttribute("tabindex")||null;e.setAttribute("tabindex","-1"),e.focus(),e.blur(),t?e.setAttribute("tabindex",t):e.removeAttribute("tabindex")},setContainerWithTemplate:function(e,t){this.setContainerHTML(this.templates(e)(t))},godMessage:e.godMessage},{ATTRS:{container:{value:"",setter:function(e){return e||this.getContainer()}},spaceid:{value:792600503,validator:function(t){return e.Lang.isNumber(t)||e.Lang.isString(t)},setter:function(e){return parseInt(e,10)}},trackedElementIDs:{value:[],validator:function(t){return e.Lang.isArray(t)}},rapidConf:{value:{},validator:function(t){return e.Lang.isObject(t)}},isActiveViewAgnostic:{value:!1},isRootView:{value:!1},rootViewAdditionalViewClasses:{value:[],validator:function(t){return e.Lang.isArray(t)}}},create:r,ROOT_VIEW_CLASS_NAME:"flickr-view-root-view"}),e.mix(e.FlickrView.prototype,e.Localizable)},"@VERSION@",{requires:["base","template-base","flickr-promise","handlebars-base","handlebars-helpers","localizable","history-helper","god-message","fletrics"]});
YUI.add("hermes-template-sohp",function(e,t){var n=e.Template.Handlebars.revive({compiler:[7,">= 4.0.0"],main:function(e,t,n,r,i){var s,o=t!=null?t:{},u=n.helperMissing,a=e.escapeExpression,f="function";return a((n.outlet||t&&t.outlet||u).call(o,t!=null?t["global-nav-view"]:t,{name:"outlet",hash:{},data:i}))+'\n\n<div class="autoscroll-container" itemscope itemtype="http://schema.org/ImageObject" data-scroll-section="sohp-grid">\n	<div class="background-overlay fluid-modal-overlay dark-overlay"></div>\n	<div class="content">\n		<div class="copy">\n			<h1>'+a((n.intlMessage||t&&t.intlMessage||u).call(o,{name:"intlMessage",hash:{intlName:"sohp.SOHP_TITLE_INSPIRATION"},data:i}))+"</h1>\n			<h3>"+a((n.intlMessage||t&&t.intlMessage||u).call(o,{name:"intlMessage",hash:{intlName:"sohp.SOHP_BODY_INSPIRATION_MOD"},data:i}))+'</h3>\n			<a href="/signup" class="medium-ass butt large white" data-track="signup-main">'+a((n.intlMessage||t&&t.intlMessage||u).call(o,{name:"intlMessage",hash:{intlName:"common.SIGN_UP"},data:i}))+'</a>\n		</div>\n	</div>\n	<div class="autoscroll-bg" style="background-image: url(\''+a((s=(s=n.assetRoot||(t!=null?t.assetRoot:t))!=null?s:u,typeof s===f?s.call(o,{name:"assetRoot",hash:{},data:i}):s))+'/images/sohp/sohp-grid-resized.jpg\'); height: 110%;"></div>\n	<div class="autoscroll-bg" style="background-image: url(\''+a((s=(s=n.assetRoot||(t!=null?t.assetRoot:t))!=null?s:u,typeof s===f?s.call(o,{name:"assetRoot",hash:{},data:i}):s))+"/images/sohp/sohp-grid-resized.jpg'); height: 110%;\"></div>\n</div>\n\n"+a((n.outlet||t&&t.outlet||u).call(o,t!=null?t["footer-full-view"]:t,{name:"outlet",hash:{},data:i}))+"\n"},useData:!0}),r={};e.Array.each([],function(t){var n=e.Template.get("hermes/"+t);n&&(r[t]=n)}),e.Template.register("hermes/sohp",function(t,i){return i=i||{},i.partials=i.partials?e.merge(r,i.partials):r,n(t,i)})},"@VERSION@",{requires:["template-base","handlebars-base"]});
YUI.add("hermes-template-head-meta",function(e,t){var n=e.Template.Handlebars.revive({1:function(e,t,n,r,i){return'name="'},3:function(e,t,n,r,i){return'property="'},5:function(e,t,n,r,i){return'description="'+e.escapeExpression(e.lambda(t,t))+'"'},compiler:[7,">= 4.0.0"],main:function(e,t,n,r,i){var s,o,u,a=t!=null?t:{},f=n.helperMissing,l="function",c=e.escapeExpression,h="<meta "+((s=n["if"].call(a,t!=null?t.isName:t,{name:"if",hash:{},fn:e.program(1,i,0),inverse:e.program(3,i,0),data:i}))!=null?s:"")+c((o=(o=n.metaName||(t!=null?t.metaName:t))!=null?o:f,typeof o===l?o.call(a,{name:"metaName",hash:{},data:i}):o))+'" content="'+c((n.renderMetaInfo||t&&t.renderMetaInfo||f).call(a,t!=null?t.metaValue:t,{name:"renderMetaInfo",hash:{},data:i}))+'" ';return s=(o=(o=n.metaDescription||(t!=null?t.metaDescription:t))!=null?o:f,u={name:"metaDescription",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i},typeof o===l?o.call(a,u):o),n.metaDescription||(s=n.blockHelperMissing.call(t,s,u)),s!=null&&(h+=s),h+' data-dynamic="true">\n'},useData:!0}),r={};e.Array.each([],function(t){var n=e.Template.get("hermes/"+t);n&&(r[t]=n)}),e.Template.register("hermes/head-meta",function(t,i){return i=i||{},i.partials=i.partials?e.merge(r,i.partials):r,n(t,i)})},"@VERSION@",{requires:["template-base","handlebars-base"]});
YUI.add("hermes-template-head-link",function(e,t){var n=e.Template.Handlebars.revive({1:function(e,t,n,r,i){var s;return'id="'+e.escapeExpression((s=(s=n.id||(t!=null?t.id:t))!=null?s:n.helperMissing,typeof s=="function"?s.call(t!=null?t:{},{name:"id",hash:{},data:i}):s))+'"'},3:function(e,t,n,r,i){var s;return'rev="'+e.escapeExpression((s=(s=n.rev||(t!=null?t.rev:t))!=null?s:n.helperMissing,typeof s=="function"?s.call(t!=null?t:{},{name:"rev",hash:{},data:i}):s))+'"'},5:function(e,t,n,r,i){var s;return'rel="'+e.escapeExpression((s=(s=n.rel||(t!=null?t.rel:t))!=null?s:n.helperMissing,typeof s=="function"?s.call(t!=null?t:{},{name:"rel",hash:{},data:i}):s))+'"'},7:function(e,t,n,r,i){var s;return'type="'+e.escapeExpression((s=(s=n.type||(t!=null?t.type:t))!=null?s:n.helperMissing,typeof s=="function"?s.call(t!=null?t:{},{name:"type",hash:{},data:i}):s))+'"'},9:function(e,t,n,r,i){var s;return'media="'+e.escapeExpression((s=(s=n.media||(t!=null?t.media:t))!=null?s:n.helperMissing,typeof s=="function"?s.call(t!=null?t:{},{name:"media",hash:{},data:i}):s))+'"'},11:function(e,t,n,r,i){var s;return'href="'+e.escapeExpression((s=(s=n.href||(t!=null?t.href:t))!=null?s:n.helperMissing,typeof s=="function"?s.call(t!=null?t:{},{name:"href",hash:{},data:i}):s))+'"'},13:function(e,t,n,r,i){return'data-dynamic-added-by="'+e.escapeExpression((n.obfuscateInternals||t&&t.obfuscateInternals||n.helperMissing).call(t!=null?t:{},t!=null?t.addedBy:t,{name:"obfuscateInternals",hash:{},data:i}))+'"'},compiler:[7,">= 4.0.0"],main:function(e,t,n,r,i){var s,o=t!=null?t:{};return"<link "+((s=n["if"].call(o,t!=null?t.id:t,{name:"if",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i}))!=null?s:"")+" "+((s=n["if"].call(o,t!=null?t.rev:t,{name:"if",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))!=null?s:"")+" "+((s=n["if"].call(o,t!=null?t.rel:t,{name:"if",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i}))!=null?s:"")+" "+((s=n["if"].call(o,t!=null?t.type:t,{name:"if",hash:{},fn:e.program(7,i,0),inverse:e.noop,data:i}))!=null?s:"")+" "+((s=n["if"].call(o,t!=null?t.media:t,{name:"if",hash:{},fn:e.program(9,i,0),inverse:e.noop,data:i}))!=null?s:"")+" "+((s=n["if"].call(o,t!=null?t.href:t,{name:"if",hash:{},fn:e.program(11,i,0),inverse:e.noop,data:i}))!=null?s:"")+" "+((s=n["if"].call(o,t!=null?t.addedBy:t,{name:"if",hash:{},fn:e.program(13,i,0),inverse:e.noop,data:i}))!=null?s:"")+' data-dynamic="true" />'},useData:!0}),r={};e.Array.each([],function(t){var n=e.Template.get("hermes/"+t);n&&(r[t]=n)}),e.Template.register("hermes/head-link",function(t,i){return i=i||{},i.partials=i.partials?e.merge(r,i.partials):r,n(t,i)})},"@VERSION@",{requires:["template-base","handlebars-base"]});
YUI.add("hermes-template-global-nav-restyle",function(e,t){var n=e.Template.Handlebars.revive({1:function(e,t,n,r,i){return" optimized-mobile-nav-hidden"},3:function(e,t,n,r,i){return" optimized-flickr-logo-push-left"},5:function(e,t,n,r,i){var s;return(s=n.unless.call(t!=null?t:{},(s=t!=null?t.elements:t)!=null?s.right_side_signup:s,{name:"unless",hash:{},fn:e.program(6,i,0),inverse:e.noop,data:i}))!=null?s:""},6:function(e,t,n,r,i){var s=t!=null?t:{},o=n.helperMissing,u=e.escapeExpression;return'				<li role="menuitem"\n					class="gn-signup"\n					aria-label="'+u((n.intlMessage||t&&t.intlMessage||o).call(s,{name:"intlMessage",hash:{intlName:"common.SIGN_UP"},data:i}))+'">\n					<a data-track="gnSignupClick"\n						class="gn-title butt"\n						href="/signup">'+u((n.intlMessage||t&&t.intlMessage||o).call(s,{name:"intlMessage",hash:{intlName:"common.SIGN_UP"},data:i}))+"</a>\n				</li>\n"},8:function(e,t,n,r,i){var s,o=t!=null?t:{},u=n.helperMissing,a=e.escapeExpression;return'				<li role="menuitem"\n					data-context="you"\n					aria-label="'+a((n.intlMessage||t&&t.intlMessage||u).call(o,{name:"intlMessage",hash:{intlName:"common.YOU"},data:i}))+'">\n					<a data-track="gnYouMainClick"\n						class="gn-title you"\n						href="'+a(e.lambda((s=t!=null?t.viewer:t)!=null?s.url:s,t))+'"\n						aria-haspopup="true"\n						aria-expanded="false">'+a((n.intlMessage||t&&t.intlMessage||u).call(o,{name:"intlMessage",hash:{intlName:"common.YOU"},data:i}))+"</a>\n\n"+((s=(n.isFlipped||t&&t.isFlipped||u).call(o,"enable-updated-navigation-profile",{name:"isFlipped",hash:{},fn:e.program(9,i,0),inverse:e.program(16,i,0),data:i}))!=null?s:"")+"				</li>\n"},9:function(e,t,n,r,i){var s,o=t!=null?t:{},u=n.helperMissing,a=e.escapeExpression,f=e.lambda;return'						<ul class="gn-submenu" role="menu" aria-label="submenu">\n							<li class="menuitem"\n								role="menuitem"\n								aria-label="'+a((n.intlMessage||t&&t.intlMessage||u).call(o,{name:"intlMessage",hash:{intlName:"common.ABOUT"},data:i}))+'">\n								<a data-track="gnYouAboutClick" href="'+a(f((s=(s=t!=null?t.viewer:t)!=null?s.urls:s)!=null?s.profile:s,t))+'">'+a((n.intlMessage||t&&t.intlMessage||u).call(o,{name:"intlMessage",hash:{intlName:"common.ABOUT"},data:i}))+'</a>\n							</li>\n							<li class="menuitem"\n								role="menuitem"\n								aria-label="'+a((n.intlMessage||t&&t.intlMessage||u).call(o,{name:"intlMessage",hash:{intlName:"common.PHOTOSTREAM"},data:i}))+'">\n								<a data-track="gnYouPhotostreamClick" href="'+a(f((s=t!=null?t.viewer:t)!=null?s.url:s,t))+'">'+a((n.intlMessage||t&&t.intlMessage||u).call(o,{name:"intlMessage",hash:{intlName:"common.PHOTOSTREAM"},data:i}))+'</a>\n							</li>\n							<li class="menuitem"\n								role="menuitem"\n								aria-label="'+((s=n["if"].call(o,(s=t!=null?t.elements:t)!=null?s.set_not_album:s,{name:"if",hash:{},fn:e.program(10,i,0),inverse:e.program(12,i,0),data:i}))!=null?s:"")+'">\n								<a data-track="gnYouSetsClick" href="'+a(f((s=(s=t!=null?t.viewer:t)!=null?s.urls:s)!=null?s.albums:s,t))+'">'+((s=n["if"].call(o,(s=t!=null?t.elements:t)!=null?s.set_not_album:s,{name:"if",hash:{},fn:e.program(10,i,0),inverse:e.program(12,i,0),data:i}))!=null?s:"")+'</a>\n							</li>\n							<li class="menuitem"\n								role="menuitem"\n								aria-label="'+a((n.intlMessage||t&&t.intlMessage||u).call(o,{name:"intlMessage",hash:{intlName:"common.FAVES_SHORT"},data:i}))+'">\n								<a data-track="gnYouFavoritesClick" href="'+a(f((s=(s=t!=null?t.viewer:t)!=null?s.urls:s)!=null?s.favorites:s,t))+'">'+a((n.intlMessage||t&&t.intlMessage||u).call(o,{name:"intlMessage",hash:{intlName:"common.FAVES_SHORT"},data:i}))+'</a>\n							</li>\n							<li class="menuitem"\n								role="menuitem"\n								aria-label="'+a((n.intlMessage||t&&t.intlMessage||u).call(o,{name:"intlMessage",hash:{intlName:"common.GALLERIES"},data:i}))+'">\n								<a data-track="gnYouGalleriesClick" href="'+a(f((s=(s=t!=null?t.viewer:t)!=null?s.urls:s)!=null?s.galleries:s,t))+'">'+a((n.intlMessage||t&&t.intlMessage||u).call(o,{name:"intlMessage",hash:{intlName:"common.GALLERIES"},data:i}))+'</a>\n							</li>\n							<li class="menuitem"\n								role="menuitem"\n								aria-label="'+a((n.intlMessage||t&&t.intlMessage||u).call(o,{name:"intlMessage",hash:{intlName:"global-nav.GROUPS"},data:i}))+'">\n								<a data-track="gnYouGroupsClick" href="/groups">'+a((n.intlMessage||t&&t.intlMessage||u).call(o,{name:"intlMessage",hash:{intlName:"global-nav.GROUPS"},data:i}))+"</a>\n							</li>\n"+((s=n["if"].call(o,(s=t!=null?t.elements:t)!=null?s.stats:s,{name:"if",hash:{},fn:e.program(14,i,0),inverse:e.noop,data:i}))!=null?s:"")+'\n							<li class="menuitem"\n								role="menuitem"\n								aria-label="'+a((n.intlMessage||t&&t.intlMessage||u).call(o,{name:"intlMessage",hash:{intlName:"global-nav.CAMERAROLL"},data:i}))+'">\n								<a data-track="gnYouCameraRollClick" href="'+a(f((s=(s=t!=null?t.viewer:t)!=null?s.urls:s)!=null?s.cameraroll:s,t))+'" class="with-separator">'+a((n.intlMessage||t&&t.intlMessage||u).call(o,{name:"intlMessage",hash:{intlName:"global-nav.CAMERAROLL"},data:i}))+'</a>\n							</li>\n							<li class="menuitem"\n								role="menuitem"\n								aria-label="'+a((n.intlMessage||t&&t.intlMessage||u).call(o,{name:"intlMessage",hash:{intlName:"global-nav.RECENT_ACTIVITY"},data:i}))+'">\n								<a data-track="gnYouRecentActivityClick" href="/activity" class="below-separator">'+a((n.intlMessage||t&&t.intlMessage||u).call(o,{name:"intlMessage",hash:{intlName:"global-nav.RECENT_ACTIVITY"},data:i}))+'</a>\n							</li>\n							<li class="menuitem"\n								role="menuitem"\n								aria-label="'+a((n.intlMessage||t&&t.intlMessage||u).call(o,{name:"intlMessage",hash:{intlName:"common.PEOPLE"},data:i}))+'">\n								<a data-track="gnYouPeopleClick" href="'+a(f((s=(s=t!=null?t.viewer:t)!=null?s.urls:s)!=null?s.people:s,t))+'">'+a((n.intlMessage||t&&t.intlMessage||u).call(o,{name:"intlMessage",hash:{intlName:"common.PEOPLE"},data
:i}))+'</a>\n							</li>\n							<li class="menuitem"\n								role="menuitem"\n								aria-label="'+a((n.intlMessage||t&&t.intlMessage||u).call(o,{name:"intlMessage",hash:{intlName:"global-nav.ORGANIZE"},data:i}))+'">\n								<a data-track="gnYouOrganizeClick" href="/photos/organize">'+a((n.intlMessage||t&&t.intlMessage||u).call(o,{name:"intlMessage",hash:{intlName:"global-nav.ORGANIZE"},data:i}))+"</a>\n							</li>\n						</ul>\n"},10:function(e,t,n,r,i){return e.escapeExpression((n.intlMessage||t&&t.intlMessage||n.helperMissing).call(t!=null?t:{},{name:"intlMessage",hash:{intlName:"common.SETS"},data:i}))},12:function(e,t,n,r,i){return e.escapeExpression((n.intlMessage||t&&t.intlMessage||n.helperMissing).call(t!=null?t:{},{name:"intlMessage",hash:{intlName:"common.ALBUMS"},data:i}))},14:function(e,t,n,r,i){var s,o=t!=null?t:{},u=n.helperMissing,a=e.escapeExpression;return'								<li class="menuitem"\n									role="menuitem"\n									aria-label="'+a((n.intlMessage||t&&t.intlMessage||u).call(o,{name:"intlMessage",hash:{intlName:"global-nav.STATS"},data:i}))+'">\n									<a data-track="gnYouStatsClick" href="'+a(e.lambda((s=(s=t!=null?t.viewer:t)!=null?s.urls:s)!=null?s.stats:s,t))+'">'+a((n.intlMessage||t&&t.intlMessage||u).call(o,{name:"intlMessage",hash:{intlName:"global-nav.STATS"},data:i}))+"</a>\n								</li>\n"},16:function(e,t,n,r,i){var s,o=t!=null?t:{},u=n.helperMissing,a=e.escapeExpression,f=e.lambda;return'						<ul class="gn-submenu" role="menu" aria-label="submenu">\n							<li class="menuitem"\n								role="menuitem"\n								aria-label="'+a((n.intlMessage||t&&t.intlMessage||u).call(o,{name:"intlMessage",hash:{intlName:"global-nav.CAMERAROLL"},data:i}))+'">\n								<a data-track="gnYouCameraRollClick" href="'+a(f((s=(s=t!=null?t.viewer:t)!=null?s.urls:s)!=null?s.cameraroll:s,t))+'">'+a((n.intlMessage||t&&t.intlMessage||u).call(o,{name:"intlMessage",hash:{intlName:"global-nav.CAMERAROLL"},data:i}))+'</a>\n							</li>\n							<li class="menuitem"\n								role="menuitem"\n								aria-label="'+a((n.intlMessage||t&&t.intlMessage||u).call(o,{name:"intlMessage",hash:{intlName:"common.PHOTOSTREAM"},data:i}))+'">\n								<a data-track="gnYouPhotostreamClick" href="'+a(f((s=t!=null?t.viewer:t)!=null?s.url:s,t))+'">'+a((n.intlMessage||t&&t.intlMessage||u).call(o,{name:"intlMessage",hash:{intlName:"common.PHOTOSTREAM"},data:i}))+'</a>\n							</li>\n							<li class="menuitem"\n								role="menuitem"\n								aria-label="'+((s=n["if"].call(o,(s=t!=null?t.elements:t)!=null?s.set_not_album:s,{name:"if",hash:{},fn:e.program(10,i,0),inverse:e.program(12,i,0),data:i}))!=null?s:"")+'">\n								<a data-track="gnYouSetsClick" href="'+a(f((s=(s=t!=null?t.viewer:t)!=null?s.urls:s)!=null?s.albums:s,t))+'">'+((s=n["if"].call(o,(s=t!=null?t.elements:t)!=null?s.set_not_album:s,{name:"if",hash:{},fn:e.program(10,i,0),inverse:e.program(12,i,0),data:i}))!=null?s:"")+'</a>\n							</li>\n							<li class="menuitem"\n								role="menuitem"\n								aria-label="'+a((n.intlMessage||t&&t.intlMessage||u).call(o,{name:"intlMessage",hash:{intlName:"common.FAVORITES"},data:i}))+'">\n								<a data-track="gnYouFavoritesClick" href="'+a(f((s=(s=t!=null?t.viewer:t)!=null?s.urls:s)!=null?s.favorites:s,t))+'">'+a((n.intlMessage||t&&t.intlMessage||u).call(o,{name:"intlMessage",hash:{intlName:"common.FAVORITES"},data:i}))+'</a>\n							</li>\n							<li class="menuitem"\n								role="menuitem"\n								aria-label="'+a((n.intlMessage||t&&t.intlMessage||u).call(o,{name:"intlMessage",hash:{intlName:"global-nav.GROUPS"},data:i}))+'">\n								<a data-track="gnYouGroupsClick" href="/groups">'+a((n.intlMessage||t&&t.intlMessage||u).call(o,{name:"intlMessage",hash:{intlName:"global-nav.GROUPS"},data:i}))+'</a>\n							</li>\n							<li class="menuitem"\n								role="menuitem"\n								aria-label="'+a((n.intlMessage||t&&t.intlMessage||u).call(o,{name:"intlMessage",hash:{intlName:"common.GALLERIES"},data:i}))+'">\n								<a data-track="gnYouGalleriesClick" href="'+a(f((s=(s=t!=null?t.viewer:t)!=null?s.urls:s)!=null?s.galleries:s,t))+'">'+a((n.intlMessage||t&&t.intlMessage||u).call(o,{name:"intlMessage",hash:{intlName:"common.GALLERIES"},data:i}))+'</a>\n							</li>\n							<li class="menuitem"\n								role="menuitem"\n								aria-label="'+a((n.intlMessage||t&&t.intlMessage||u).call(o,{name:"intlMessage",hash:{intlName:"global-nav.CREATIONS"},data:i}))+'">\n								<a data-track="gnYouCreationsClick" href="'+a(f((s=(s=t!=null?t.viewer:t)!=null?s.urls:s)!=null?s.creations:s,t))+'">'+a((n.intlMessage||t&&t.intlMessage||u).call(o,{name:"intlMessage",hash:{intlName:"global-nav.CREATIONS"},data:i}))+'</a>\n							</li>\n							<li class="menuitem"\n								role="menuitem"\n								aria-label="'+a((n.intlMessage||t&&t.intlMessage||u).call(o,{name:"intlMessage",hash:{intlName:"common.PEOPLE"},data:i}))+'">\n								<a data-track="gnYouPeopleClick" href="'+a(f((s=(s=t!=null?t.viewer:t)!=null?s.urls:s)!=null?s.people:s,t))+'">'+a((n.intlMessage||t&&t.intlMessage||u).call(o,{name:"intlMessage",hash:{intlName:"common.PEOPLE"},data:i}))+'</a>\n							</li>\n							<li class="menuitem"\n								role="menuitem"\n								aria-label="'+a((n.intlMessage||t&&t.intlMessage||u).call(o,{name:"intlMessage",hash:{intlName:"global-nav.RECENT_ACTIVITY"},data:i}))+'">\n								<a data-track="gnYouRecentActivityClick" href="/activity">'+a((n.intlMessage||t&&t.intlMessage||u).call(o,{name:"intlMessage",hash:{intlName:"global-nav.RECENT_ACTIVITY"},data:i}))+"</a>\n							</li>\n"+((s=n["if"].call(o,(s=t!=null?t.elements:t)!=null?s.stats:s,{name:"if",hash:{},fn:e.program(14,i,0),inverse:e.noop,data:i}))!=null?s:"")+'							<li class="menuitem"\n								role="menuitem"\n								aria-label="'+a((n.intlMessage||t&&t.intlMessage||u).call(o,{name:"intlMessage",hash:{intlName:"global-nav.ORGANIZE"},data:i}))+'">\n								<a data-track="gnYouOrganizeClick" href="/photos/organize">'+a((n.intlMessage||t&&t.intlMessage||u).call(o,{name:"intlMessage"
,hash:{intlName:"global-nav.ORGANIZE"},data:i}))+"</a>\n							</li>\n						</ul>\n"},18:function(e,t,n,r,i){var s,o=t!=null?t:{},u=n.helperMissing,a=e.escapeExpression;return'				<li class="toplink"\n					role="menuitem"\n					aria-label="'+a((n.intlMessage||t&&t.intlMessage||u).call(o,{name:"intlMessage",hash:{intlName:"global-nav.CAMERAROLL"},data:i}))+'">\n					<a data-track="gnYouMainClick"\n					class="gn-link"\n					href="'+a(e.lambda((s=(s=t!=null?t.viewer:t)!=null?s.urls:s)!=null?s.cameraroll:s,t))+'"><span>'+a((n.intlMessage||t&&t.intlMessage||u).call(o,{name:"intlMessage",hash:{intlName:"global-nav.CAMERAROLL"},data:i}))+"</span></a>\n				</li>\n"},20:function(e,t,n,r,i){var s,o=t!=null?t:{},u=n.helperMissing,a=e.escapeExpression;return'				<li role="menuitem"\n					data-context="explore"\n					aria-label="'+a((n.intlMessage||t&&t.intlMessage||u).call(o,{name:"intlMessage",hash:{intlName:"common.EXPLORE"},data:i}))+'">\n					<a data-track="gnExploreMainClick"\n						class="gn-title explore"\n						href="/explore"\n						aria-haspopup="true"\n						aria-expanded="false">'+a((n.intlMessage||t&&t.intlMessage||u).call(o,{name:"intlMessage",hash:{intlName:"common.EXPLORE"},data:i}))+'</a>\n					<ul class="gn-submenu" role="menu" aria-label="submenu">\n						<li role="menuitem"\n							aria-label="'+a((n.intlMessage||t&&t.intlMessage||u).call(o,{name:"intlMessage",hash:{intlName:"global-nav.RECENT_PHOTOS"},data:i}))+'">\n							<a data-track="gnExploreRecentPhotosClick" href="/explore">'+a((n.intlMessage||t&&t.intlMessage||u).call(o,{name:"intlMessage",hash:{intlName:"global-nav.RECENT_PHOTOS"},data:i}))+'</a></li>\n						<li role="menuitem"\n							aria-label="'+a((n.intlMessage||t&&t.intlMessage||u).call(o,{name:"intlMessage",hash:{intlName:"common.TRENDING"},data:i}))+'">\n							<a data-track="gnExploreTagsClick" href="/photos/tags">'+a((n.intlMessage||t&&t.intlMessage||u).call(o,{name:"intlMessage",hash:{intlName:"common.TRENDING"},data:i}))+"</a></li>\n"+((s=n["if"].call(o,t!=null?t.enableVRLanding:t,{name:"if",hash:{},fn:e.program(21,i,0),inverse:e.noop,data:i}))!=null?s:"")+'						<li role="menuitem"\n							aria-label="'+a((n.intlMessage||t&&t.intlMessage||u).call(o,{name:"intlMessage",hash:{intlName:"global-nav.THE_COMMONS"},data:i}))+'">\n							<a data-track="gnExploreTheCommonsClick" href="/commons">'+a((n.intlMessage||t&&t.intlMessage||u).call(o,{name:"intlMessage",hash:{intlName:"global-nav.THE_COMMONS"},data:i}))+'</a>\n						</li>\n						<li role="menuitem"\n							aria-label="'+a((n.intlMessage||t&&t.intlMessage||u).call(o,{name:"intlMessage",hash:{intlName:"global-nav.GALLERIES"},data:i}))+'">\n							<a data-track="gnExploreGalleriesClick" href="/galleries">'+a((n.intlMessage||t&&t.intlMessage||u).call(o,{name:"intlMessage",hash:{intlName:"global-nav.GALLERIES"},data:i}))+'</a>\n						</li>\n						<li role="menuitem"\n							aria-label="'+a((n.intlMessage||t&&t.intlMessage||u).call(o,{name:"intlMessage",hash:{intlName:"global-nav.WORLD_MAP"},data:i}))+'">\n							<a data-track="gnExploreWorldMapClick" href="/map">'+a((n.intlMessage||t&&t.intlMessage||u).call(o,{name:"intlMessage",hash:{intlName:"global-nav.WORLD_MAP"},data:i}))+'</a>\n						</li>\n						<li role="menuitem"\n							aria-label="'+a((n.intlMessage||t&&t.intlMessage||u).call(o,{name:"intlMessage",hash:{intlName:"global-nav.CAMERA_FINDER"},data:i}))+'">\n							<a data-track="gnExploreCameraFinderClick" href="/cameras">'+a((n.intlMessage||t&&t.intlMessage||u).call(o,{name:"intlMessage",hash:{intlName:"global-nav.CAMERA_FINDER"},data:i}))+"</a>\n						</li>\n"+((s=n["if"].call(o,(s=t!=null?t.elements:t)!=null?s.weekly_flickr:s,{name:"if",hash:{},fn:e.program(23,i,0),inverse:e.noop,data:i}))!=null?s:"")+'						<li role="menuitem"\n							aria-label="'+a((n.intlMessage||t&&t.intlMessage||u).call(o,{name:"intlMessage",hash:{intlName:"global-nav.FLICKR_BLOG"},data:i}))+'">\n							<a data-track="gnExploreFlickrBlogClick" href="https://blog.flickr.net/">'+a((n.intlMessage||t&&t.intlMessage||u).call(o,{name:"intlMessage",hash:{intlName:"global-nav.FLICKR_BLOG"},data:i}))+"</a>\n						</li>\n					</ul>\n				</li>\n"},21:function(e,t,n,r,i){return'							<li role="menuitem"\n								aria-label="Flickr VR">\n								<a data-track="gnExploreVRLandingClick" href="/vr">Flickr VR</a></li>\n'},23:function(e,t,n,r,i){var s=t!=null?t:{},o=n.helperMissing,u=e.escapeExpression;return'							<li role="menuitem"\n								aria-label="'+u((n.intlMessage||t&&t.intlMessage||o).call(s,{name:"intlMessage",hash:{intlName:"global-nav.THE_WEEKLY_FLICKR"},data:i}))+'">\n								<a data-track="gnExploreWeeklyFlickrClick" href="/photos/flickr/albums/72157639868074114/">'+u((n.intlMessage||t&&t.intlMessage||o).call(s,{name:"intlMessage",hash:{intlName:"global-nav.THE_WEEKLY_FLICKR"},data:i}))+"</a>\n							</li>\n"},25:function(e,t,n,r,i){var s=t!=null?t:{},o=n.helperMissing,u=e.escapeExpression;return'				<li role="menuitem"\n					class="gn-create"\n					aria-label="'+u((n.intlMessage||t&&t.intlMessage||o).call(s,{name:"intlMessage",hash:{intlName:"global-nav.CREATE"},data:i}))+'">\n					<a data-track="gnCreateMainClick"\n					class="gn-title"\n					href="/create">'+u((n.intlMessage||t&&t.intlMessage||o).call(s,{name:"intlMessage",hash:{intlName:"global-nav.CREATE"},data:i}))+"</a>\n				</li>\n"},27:function(e,t,n,r,i){var s,o=t!=null?t:{},u=n.helperMissing,a=e.escapeExpression,f=e.lambda;return'				<li role="menuitem"\n					class="gn-create"\n					aria-haspopup="true"\n					aria-expanded="false"\n					aria-label="'+a((n.intlMessage||t&&t.intlMessage||u).call(o,{name:"intlMessage",hash:{intlName:"global-nav.CREATE"},data:i}))+'">\n					<a data-track="gnCreateMainClick"\n					class="gn-title"\n					href="/create">'+a((n.intlMessage||t&&t.intlMessage||u).call(o,{name:"intlMessage",hash:{intlName:"global-nav.CREATE"},data:i}))+'</a>\n\n					<ul class="gn-submenu" role="menu" aria-label="submenu">\n						<li role="menuitem"\n							aria-label="'+
a((n.intlMessage||t&&t.intlMessage||u).call(o,{name:"intlMessage",hash:{intlName:"global-nav.CREATE_NEW"},data:i}))+'">\n							<a data-track="gnCreateNew" href="/create">'+a((n.intlMessage||t&&t.intlMessage||u).call(o,{name:"intlMessage",hash:{intlName:"global-nav.CREATE_NEW"},data:i}))+'</a></li>\n						<li role="menuitem"\n							aria-label="'+a((n.intlMessage||t&&t.intlMessage||u).call(o,{name:"intlMessage",hash:{intlName:"global-nav.CREATE_MY_WALLART"},data:i}))+'">\n							<a data-track="gnCreateWallArt" href="'+a(f((s=(s=t!=null?t.viewer:t)!=null?s.urls:s)!=null?s.mywallart:s,t))+'">'+a((n.intlMessage||t&&t.intlMessage||u).call(o,{name:"intlMessage",hash:{intlName:"global-nav.CREATE_MY_WALLART"},data:i}))+'</a></li>\n						<li role="menuitem"\n							aria-label="'+a((n.intlMessage||t&&t.intlMessage||u).call(o,{name:"intlMessage",hash:{intlName:"global-nav.CREATE_MY_PHOTOS_BOOKS"},data:i}))+'">\n							<a data-track="gnCreatePhotoBooks" href="'+a(f((s=(s=t!=null?t.viewer:t)!=null?s.urls:s)!=null?s.myphotobooks:s,t))+'">'+a((n.intlMessage||t&&t.intlMessage||u).call(o,{name:"intlMessage",hash:{intlName:"global-nav.CREATE_MY_PHOTOS_BOOKS"},data:i}))+'</a></li>\n						<li role="menuitem"\n							aria-label="'+a((n.intlMessage||t&&t.intlMessage||u).call(o,{name:"intlMessage",hash:{intlName:"global-nav.CREATE_ORDER_HISTORY"},data:i}))+'">\n							<a data-track="gnCreateOrderHistory" href="'+a(f((s=(s=t!=null?t.viewer:t)!=null?s.urls:s)!=null?s.wallet:s,t))+'">'+a((n.intlMessage||t&&t.intlMessage||u).call(o,{name:"intlMessage",hash:{intlName:"global-nav.CREATE_ORDER_HISTORY"},data:i}))+"</a></li>\n					</ul>\n				</li>\n\n"},29:function(e,t,n,r,i){return" with-upload-icon"},31:function(e,t,n,r,i){return" with-notifs-icon"},33:function(e,t,n,r,i){return" optimized-gn-tools-push-left"},35:function(e,t,n,r,i){var s=t!=null?t:{},o=n.helperMissing,u=e.escapeExpression;return'				<li class="gn-upload"\n					role="menuitem"\n					aria-label="'+u((n.intlMessage||t&&t.intlMessage||o).call(s,{name:"intlMessage",hash:{intlName:"global-nav.UPLOAD"},data:i}))+'">\n					<a data-track="gnUploadMain"\n					class="gn-title"\n					href="/upload">'+u((n.intlMessage||t&&t.intlMessage||o).call(s,{name:"intlMessage",hash:{intlName:"global-nav.UPLOAD"},data:i}))+"</a>\n				</li>\n"},37:function(e,t,n,r,i){var s,o=t!=null?t:{};return'				<li class="gn-search-box'+((s=n["if"].call(o,t!=null?t.enableWideSearchBar:t,{name:"if",hash:{},fn:e.program(38,i,0),inverse:e.noop,data:i}))!=null?s:"")+'"\n					role="menuitem">\n					<svg class="icon icon-search mobile-search-button">\n						<use xlink:href="#icon-search"></use>\n					</svg>\n\n'+((s=n["if"].call(o,t!=null?t.enableNewAutosugest:t,{name:"if",hash:{},fn:e.program(40,i,0),inverse:e.program(42,i,0),data:i}))!=null?s:"")+'\n					<svg class="mobile-search-close-button"><use xlink:href="#icon-close"></use></svg>\n				</li>\n'},38:function(e,t,n,r,i){return" optimized-search-box-wide"},40:function(e,t,n,r,i){return"							"+e.escapeExpression((n.outlet||t&&t.outlet||n.helperMissing).call(t!=null?t:{},t!=null?t["search-autosuggest-field-view"]:t,{name:"outlet",hash:{},data:i}))+"\n"},42:function(e,t,n,r,i){var s,o=t!=null?t:{},u=n.helperMissing,a=e.escapeExpression;return'						<form method="get" role="search">\n							<input id="gn-search-field"\n								type="text"\n								placeholder="'+a((n.intlMessage||t&&t.intlMessage||u).call(o,{name:"intlMessage",hash:{intlName:"search.PHOTOS_PEOPLE_OR_GROUPS"},data:i}))+'"\n								name="text"\n								value="'+a((s=(s=n.searchValue||(t!=null?t.searchValue:t))!=null?s:u,typeof s=="function"?s.call(o,{name:"searchValue",hash:{},data:i}):s))+'"\n								autocomplete="off"\n								role="textbox"\n								aria-label="Search">\n							<label data-track="gnSearchSearchIcon"\n								aria-label="'+a((n.intlMessage||t&&t.intlMessage||u).call(o,{name:"intlMessage",hash:{intlName:"global-nav.SEARCH"},data:i}))+'">\n								<svg class="search-icon"\n									style="width: 22px; height: 22px;"\n									data-track="gnSearchSearchIcon"\n									aria-label="'+a((n.intlMessage||t&&t.intlMessage||u).call(o,{name:"intlMessage",hash:{intlName:"global-nav.SEARCH"},data:i}))+'">\n									<use xlink:href="#icon-search"></use>\n								</svg>\n								<input type="submit"\n									data-track="gnSearchSearchIcon"\n									class="search-icon-button"\n									tabindex="-1"\n									role="button"\n									aria-label="'+a((n.intlMessage||t&&t.intlMessage||u).call(o,{name:"intlMessage",hash:{intlName:"global-nav.SEARCH"},data:i}))+'">\n							</label>\n						</form>\n'},44:function(e,t,n,r,i){var s=t!=null?t:{},o=n.helperMissing,u=e.escapeExpression;return'				<li class="gn-upload"\n					role="menuitem">\n					<a data-track="gnUploadIconMain"\n						class="gn-title"\n						href="/upload"\n						aria-label="'+u((n.intlMessage||t&&t.intlMessage||o).call(s,{name:"intlMessage",hash:{intlName:"global-nav.UPLOAD"},data:i}))+'">\n						<i class="upload-icon" title="'+u((n.intlMessage||t&&t.intlMessage||o).call(s,{name:"intlMessage",hash:{intlName:"global-nav.UPLOAD"},data:i}))+'" aria-hidden="true">'+u((n.intlMessage||t&&t.intlMessage||o).call(s,{name:"intlMessage",hash:{intlName:"global-nav.UPLOAD"},data:i}))+"</i>\n					</a>\n				</li>\n"},46:function(e,t,n,r,i){return'				<li role="menuitem">\n					'+e.escapeExpression((n.outlet||t&&t.outlet||n.helperMissing).call(t!=null?t:{},t!=null?t["notifications-menu-view"]:t,{name:"outlet",hash:{},data:i}))+"\n				</li>\n"},48:function(e,t,n,r,i){return'				<li role="menuitem">\n					'+e.escapeExpression((n.outlet||t&&t.outlet||n.helperMissing).call(t!=null?t:{},t!=null?t["account-menu-view"]:t,{name:"outlet",hash:{},data:i}))+"\n				</li>\n"},50:function(e,t,n,r,i){var s,o=t!=null?t:{};return'				<li class="gn-signin'+((s=n["if"].call(o,t!=null?t.enableWideSearchBar:t,{name:"if",hash:{},fn:e.program(51,i,0),inverse:e.noop,data:i}))!=null?s:"")+'"\n					role="menuitem"\n					aria-label="'+e.escapeExpression((
n.intlMessage||t&&t.intlMessage||n.helperMissing).call(o,{name:"intlMessage",hash:{intlName:"global-nav.SIGN_IN"},data:i}))+'">\n					<a data-track="gnSignin"\n						class="gn-title"\n						href="/signin">'+((s=n["if"].call(o,t!=null?t.enableWideSearchBar:t,{name:"if",hash:{},fn:e.program(53,i,0),inverse:e.program(56,i,0),data:i}))!=null?s:"")+"</a>\n				</li>\n"},51:function(e,t,n,r,i){return" optimized-login-set-width"},53:function(e,t,n,r,i){var s;return(s=n["if"].call(t!=null?t:{},t!=null?t.isEnglish:t,{name:"if",hash:{},fn:e.program(54,i,0),inverse:e.program(56,i,0),data:i}))!=null?s:""},54:function(e,t,n,r,i){return e.escapeExpression((n.intlMessage||t&&t.intlMessage||n.helperMissing).call(t!=null?t:{},{name:"intlMessage",hash:{intlName:"global-nav.LOG_IN"},data:i}))},56:function(e,t,n,r,i){return e.escapeExpression((n.intlMessage||t&&t.intlMessage||n.helperMissing).call(t!=null?t:{},{name:"intlMessage",hash:{intlName:"global-nav.SIGN_IN"},data:i}))},58:function(e,t,n,r,i){var s;return(s=n["if"].call(t!=null?t:{},(s=t!=null?t.elements:t)!=null?s.right_side_signup:s,{name:"if",hash:{},fn:e.program(59,i,0),inverse:e.noop,data:i}))!=null?s:""},59:function(e,t,n,r,i){var s,o=t!=null?t:{},u=n.helperMissing,a=e.escapeExpression;return'				<li class="gn-signup"\n					role="menuitem"\n					aria-label="'+a((n.intlMessage||t&&t.intlMessage||u).call(o,{name:"intlMessage",hash:{intlName:"common.SIGN_UP"},data:i}))+'">\n					<a data-track="gnSignupClick"\n						class="gn-title butt'+((s=n["if"].call(o,t!=null?t.enableWideSearchBar:t,{name:"if",hash:{},fn:e.program(60,i,0),inverse:e.noop,data:i}))!=null?s:"")+'"\n						href="/signup">'+a((n.intlMessage||t&&t.intlMessage||u).call(o,{name:"intlMessage",hash:{intlName:"common.SIGN_UP"},data:i}))+"</a>\n				</li>\n"},60:function(e,t,n,r,i){return" optimized-signup-light-font"},62:function(e,t,n,r,i){var s,o=t!=null?t:{},u=n.helperMissing,a=e.escapeExpression,f=e.lambda;return'				<div class="mobile-nav-column">\n					<div class="mobile-nav-menu-item mobile-nav-menu-title">'+a((n.intlMessage||t&&t.intlMessage||u).call(o,{name:"intlMessage",hash:{intlName:"common.YOU"},data:i}))+'</div>\n					<div class="mobile-nav-menu-item"><a data-track="gnYouCameraRollClick" href="'+a(f((s=(s=t!=null?t.viewer:t)!=null?s.urls:s)!=null?s.cameraroll:s,t))+'">'+a((n.intlMessage||t&&t.intlMessage||u).call(o,{name:"intlMessage",hash:{intlName:"global-nav.CAMERAROLL"},data:i}))+'</a></div>\n					<div class="mobile-nav-menu-item"><a data-track="gnYouPhotostreamClick" href="'+a(f((s=t!=null?t.viewer:t)!=null?s.url:s,t))+'">'+a((n.intlMessage||t&&t.intlMessage||u).call(o,{name:"intlMessage",hash:{intlName:"common.PHOTOSTREAM"},data:i}))+'</a></div>\n					<div class="mobile-nav-menu-item"><a data-track="gnYouSetsClick" href="'+a(f((s=(s=t!=null?t.viewer:t)!=null?s.urls:s)!=null?s.albums:s,t))+'">'+((s=n["if"].call(o,(s=t!=null?t.elements:t)!=null?s.set_not_album:s,{name:"if",hash:{},fn:e.program(10,i,0),inverse:e.program(12,i,0),data:i}))!=null?s:"")+'</a></div>\n					<div class="mobile-nav-menu-item"><a data-track="gnYouFavoritesClick" href="'+a(f((s=(s=t!=null?t.viewer:t)!=null?s.urls:s)!=null?s.favorites:s,t))+'">'+a((n.intlMessage||t&&t.intlMessage||u).call(o,{name:"intlMessage",hash:{intlName:"common.FAVORITES"},data:i}))+'</a></div>\n					<div class="mobile-nav-menu-item"><a data-track="gnYouGroupsClick" href="/groups">'+a((n.intlMessage||t&&t.intlMessage||u).call(o,{name:"intlMessage",hash:{intlName:"global-nav.GROUPS"},data:i}))+'</a></div>\n					<div class="mobile-nav-menu-item"><a data-track="gnYouGalleriesClick" href="'+a(f((s=(s=t!=null?t.viewer:t)!=null?s.urls:s)!=null?s.galleries:s,t))+'">'+a((n.intlMessage||t&&t.intlMessage||u).call(o,{name:"intlMessage",hash:{intlName:"common.GALLERIES"},data:i}))+'</a></div>\n					<div class="mobile-nav-menu-item"><a data-track="gnYouRecentActivityClick" href="/activity">'+a((n.intlMessage||t&&t.intlMessage||u).call(o,{name:"intlMessage",hash:{intlName:"global-nav.RECENT_ACTIVITY"},data:i}))+"</a></div>\n					"+((s=n["if"].call(o,(s=t!=null?t.elements:t)!=null?s.stats:s,{name:"if",hash:{},fn:e.program(63,i,0),inverse:e.noop,data:i}))!=null?s:"")+"\n				</div>\n"},63:function(e,t,n,r,i){var s,o=e.escapeExpression;return'<div class="mobile-nav-menu-item"><a data-track="gnYouStatsClick" href="'+o(e.lambda((s=(s=t!=null?t.viewer:t)!=null?s.urls:s)!=null?s.stats:s,t))+'">'+o((n.intlMessage||t&&t.intlMessage||n.helperMissing).call(t!=null?t:{},{name:"intlMessage",hash:{intlName:"global-nav.STATS"},data:i}))+"</a></div>"},65:function(e,t,n,r,i){var s,o=t!=null?t:{},u=n.helperMissing,a=e.escapeExpression;return'				<div class="mobile-nav-column">\n					<div class="mobile-nav-menu-item"><a data-track="gnExploreMainClick" class="explore" href="/explore" aria-haspopup="true">'+a((n.intlMessage||t&&t.intlMessage||u).call(o,{name:"intlMessage",hash:{intlName:"common.EXPLORE"},data:i}))+'</a></div>\n					<div class="mobile-nav-menu-item"><a data-track="gnExploreRecentPhotosClick" href="/explore">'+a((n.intlMessage||t&&t.intlMessage||u).call(o,{name:"intlMessage",hash:{intlName:"global-nav.RECENT_PHOTOS"},data:i}))+'</a></div>\n					<div class="mobile-nav-menu-item"><a data-track="gnExploreTagsClick" href="/photos/tags">'+a((n.intlMessage||t&&t.intlMessage||u).call(o,{name:"intlMessage",hash:{intlName:"common.TRENDING"},data:i}))+'</a></div>\n					<div class="mobile-nav-menu-item"><a data-track="gnExploreTheCommonsClick" href="/commons">'+a((n.intlMessage||t&&t.intlMessage||u).call(o,{name:"intlMessage",hash:{intlName:"global-nav.THE_COMMONS"},data:i}))+'</a></div>\n					<div class="mobile-nav-menu-item"><a data-track="gnExploreGalleriesClick" href="/galleries">'+a((n.intlMessage||t&&t.intlMessage||u).call(o,{name:"intlMessage",hash:{intlName:"global-nav.GALLERIES"},data:i}))+"</a></div>\n					"+((s=n["if"].call(o,(s=t!=null?t.elements:t)!=null?s.weekly_flickr:s,{name:"if",hash:{},fn:e.program(66,i,0),inverse:e.noop,data:i}))!=null?s:"")+'\n					<div class="mobile-nav-menu-item"><a data-track="gnExploreFlickrBlogClick" href="https://blog.flickr.net/">'+
a((n.intlMessage||t&&t.intlMessage||u).call(o,{name:"intlMessage",hash:{intlName:"global-nav.FLICKR_BLOG"},data:i}))+"</a></div>\n				</div>\n"},66:function(e,t,n,r,i){return'<div class="mobile-nav-menu-item"><a data-track="gnExploreWeeklyFlickrClick" href="/photos/flickr/albums/72157639868074114/">'+e.escapeExpression((n.intlMessage||t&&t.intlMessage||n.helperMissing).call(t!=null?t:{},{name:"intlMessage",hash:{intlName:"global-nav.THE_WEEKLY_FLICKR"},data:i}))+"</a></div>"},68:function(e,t,n,r,i){return"	"+e.escapeExpression((n.outlet||t&&t.outlet||n.helperMissing).call(t!=null?t:{},t!=null?t["browser-upgrade-banner-view"]:t,{name:"outlet",hash:{},data:i}))+"\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,r,i){var s,o=t!=null?t:{},u=n.helperMissing,a=e.escapeExpression;return a((n.outlet||t&&t.outlet||u).call(o,t!=null?t["mobile-app-upsell-view"]:t,{name:"outlet",hash:{},data:i}))+'\n\n<div class="global-nav-restyle">\n<div class="global-nav-shim"></div>\n<div class="global-nav-content styleguide-global-nav fluid sohp-mobile-navable">\n	<div class="global-nav-container fluid-centered" role="navigation" aria-label="'+a((n.intlMessage||t&&t.intlMessage||u).call(o,{name:"intlMessage",hash:{intlName:"common.MAIN"},data:i}))+'">\n		<div class="mobile-nav-toggle'+((s=n["if"].call(o,t!=null?t.enableWideSearchBar:t,{name:"if",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i}))!=null?s:"")+'"><span></span></div>\n\n		<div class="flickr-logo-container'+((s=n["if"].call(o,t!=null?t.enableWideSearchBar:t,{name:"if",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))!=null?s:"")+'">\n			<a href="/"\n				class="main-logo"\n				data-track="gnLogoClick"\n				title="'+a((n.intlMessage||t&&t.intlMessage||u).call(o,{name:"intlMessage",hash:{intlName:"global-nav.FLICKR_LOGO_ALT"},data:i}))+'"\n				role="heading"\n				aria-level="1"\n				aria-label="'+a((n.intlMessage||t&&t.intlMessage||u).call(o,{name:"intlMessage",hash:{intlName:"global-nav.FLICKR_LOGO_ALT"},data:i}))+'">\n				<svg class="icon-flickr"><use xlink:href="#icon-flickr_logo"></use></svg>\n			</a>\n		</div>\n\n		<ul class="nav-menu" role="menubar">\n'+((s=n["if"].call(o,(s=t!=null?t.elements:t)!=null?s.signup_link:s,{name:"if",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i}))!=null?s:"")+"\n"+((s=n["if"].call(o,(s=t!=null?t.elements:t)!=null?s.you_menu:s,{name:"if",hash:{},fn:e.program(8,i,0),inverse:e.noop,data:i}))!=null?s:"")+"\n"+((s=n["if"].call(o,(s=t!=null?t.elements:t)!=null?s.you_link:s,{name:"if",hash:{},fn:e.program(18,i,0),inverse:e.noop,data:i}))!=null?s:"")+"\n"+((s=n["if"].call(o,(s=t!=null?t.elements:t)!=null?s.explore_menu:s,{name:"if",hash:{},fn:e.program(20,i,0),inverse:e.noop,data:i}))!=null?s:"")+"\n"+((s=n["if"].call(o,(s=t!=null?t.elements:t)!=null?s.create_link:s,{name:"if",hash:{},fn:e.program(25,i,0),inverse:e.noop,data:i}))!=null?s:"")+"\n"+((s=n["if"].call(o,(s=t!=null?t.elements:t)!=null?s.create_menu:s,{name:"if",hash:{},fn:e.program(27,i,0),inverse:e.noop,data:i}))!=null?s:"")+'		</ul>\n\n		<ul class="gn-tools'+((s=n["if"].call(o,(s=t!=null?t.elements:t)!=null?s.upload_icon:s,{name:"if",hash:{},fn:e.program(29,i,0),inverse:e.noop,data:i}))!=null?s:"")+((s=n["if"].call(o,t!=null?t.showNotificationsMenu:t,{name:"if",hash:{},fn:e.program(31,i,0),inverse:e.noop,data:i}))!=null?s:"")+((s=n["if"].call(o,t!=null?t.enableWideSearchBar:t,{name:"if",hash:{},fn:e.program(33,i,0),inverse:e.noop,data:i}))!=null?s:"")+'"\n			role="menubar">\n'+((s=n["if"].call(o,(s=t!=null?t.elements:t)!=null?s.upload_link:s,{name:"if",hash:{},fn:e.program(35,i,0),inverse:e.noop,data:i}))!=null?s:"")+((s=n["if"].call(o,(s=t!=null?t.elements:t)!=null?s.search_bar:s,{name:"if",hash:{},fn:e.program(37,i,0),inverse:e.noop,data:i}))!=null?s:"")+"\n"+((s=n["if"].call(o,(s=t!=null?t.elements:t)!=null?s.upload_icon:s,{name:"if",hash:{},fn:e.program(44,i,0),inverse:e.noop,data:i}))!=null?s:"")+"\n"+((s=n["if"].call(o,t!=null?t.showNotificationsMenu:t,{name:"if",hash:{},fn:e.program(46,i,0),inverse:e.noop,data:i}))!=null?s:"")+"\n"+((s=n["if"].call(o,(s=t!=null?t.elements:t)!=null?s.account_menu:s,{name:"if",hash:{},fn:e.program(48,i,0),inverse:e.noop,data:i}))!=null?s:"")+"\n"+((s=n["if"].call(o,(s=t!=null?t.elements:t)!=null?s.signin_link:s,{name:"if",hash:{},fn:e.program(50,i,0),inverse:e.noop,data:i}))!=null?s:"")+((s=n["if"].call(o,(s=t!=null?t.elements:t)!=null?s.signup_link:s,{name:"if",hash:{},fn:e.program(58,i,0),inverse:e.noop,data:i}))!=null?s:"")+'		</ul>\n\n		<div class="mobile-nav">\n'+((s=n["if"].call(o,(s=t!=null?t.elements:t)!=null?s.you_menu:s,{name:"if",hash:{},fn:e.program(62,i,0),inverse:e.noop,data:i}))!=null?s:"")+"\n"+((s=n["if"].call(o,(s=t!=null?t.elements:t)!=null?s.explore_menu:s,{name:"if",hash:{},fn:e.program(65,i,0),inverse:e.noop,data:i}))!=null?s:"")+"		</div>\n	</div>\n</div>\n\n"+((s=n["if"].call(o,t!=null?t["show-browser-upgrade-banner"]:t,{name:"if",hash:{},fn:e.program(68,i,0),inverse:e.noop,data:i}))!=null?s:"")+"\n"+a((n.outlet||t&&t.outlet||u).call(o,t!=null?t["person-menu-view"]:t,{name:"outlet",hash:{},data:i}))+"\n"+a((n.outlet||t&&t.outlet||u).call(o,t!=null?t["group-menu-view"]:t,{name:"outlet",hash:{},data:i}))+"\n"+a((n.outlet||t&&t.outlet||u).call(o,t!=null?t["signup-rail-view"]:t,{name:"outlet",hash:{},data:i}))+"\n</div>\n"},useData:!0}),r={};e.Array.each([],function(t){var n=e.Template.get("hermes/"+t);n&&(r[t]=n)}),e.Template.register("hermes/global-nav-restyle",function(t,i){return i=i||{},i.partials=i.partials?e.merge(r,i.partials):r,n(t,i)})},"@VERSION@",{requires:["template-base","handlebars-base"]});
YUI.add("flutil",function(e){"use strict";var t,n=e.config.win,r=e.config.doc,i={transitionTimeout:2e3},s={getPrefixedStyleProperty:{}},o={};t=e.flutil={xbrowser:{transition:{property:"transitionProperty",duration:"transitionDuration",transitionEndEvent:"transitionend"}},setStylePrefixed:function(t,n,r){var i=this.getPrefixedStyleProperty(t);return e.Array.each(i,function(e){r.setStyle(e,n)}),r},getPrefixedStyleProperty:function(t){if(s.getPrefixedStyleProperty[t])return s.getPrefixedStyleProperty[t];var n=[],r=["-webkit-","-moz-","-ms-",""];return e.Array.each(r,function(e){n.push(e+t)}),s.getPrefixedStyleProperty[t]=n,n},dump:function(){var e=new Array(arguments.length),t;for(var n=0;n<e.length;++n)e[n]=arguments[n];t=typeof e[0]=="string"?e.shift():"LOG",e.unshift("color: #FC0"),e.unshift("%c["+t+"]"),console.log.apply(console,e)},extend:function(e){e||(e={});var t=new Array(arguments.length);for(var n=0;n<t.length;++n)t[n]=arguments[n];return Array.prototype.slice.call(t,1).forEach(function(t){if(!t)return;for(var n in t)e[n]=t[n]}),e},objectCreate:function(e,n){var r,i;return r=function(){},r.prototype=e,i=new r,n?t.extend(i,n):i},result:function(t){return e.Lang.isFunction(t)?t():t},onTransitionEnd:function(e,r){if(!r||typeof r!="function")return;var s,o,u,a;e=e.getDOMNode(),u=n.getComputedStyle(e)[t.xbrowser.transition.property],a=n.getComputedStyle(e)[t.xbrowser.transition.duration];if(!u||!a)return r();o=function(){clearTimeout(s),e.removeEventListener(t.xbrowser.transition.transitionEndEvent,o),r()},s=setTimeout(o,i.transitionTimeout),e.addEventListener(t.xbrowser.transition.transitionEndEvent,o)},toCamelCase:function(e){return e[0].toUpperCase()+e.slice(1).toLowerCase()},setCookie:function(t){if(!t.cookieName||typeof t.cookieValue=="undefined"||!t.path)throw new Error("[flutil.setCookie] Missing important parameters to set a cookie");var n=t.cookieName,r=t.cookieValue,i=t.domain||".flickr.com",s=t.path,o=t.expiresMonthsFromNow||3,u=e.Lang.isNumber(t.expires)?t.expires:e.moment().add(o,"months").toDate();t.remove&&e.Cookie.remove(n,{path:s}),e.Cookie.set(n,r,{domain:i,path:s,expires:u})},createFragment:function(e){var t=r.createElement("div"),n=r.createDocumentFragment(),i;t.innerHTML=e;while(i=t.firstChild)n.appendChild(i);return n},constrainToValues:function(e,t){if(!t)throw new Error("Must supply list to constrain to values.");return!e||typeof e!="string"?t[0]:t.indexOf(e)<0?t[0]:e},escapeInput:function(e,t){var n;if(!r)return e;if(!e&&typeof e!="number")return"";t||(t="text");if(t==="html")return n=r.createElement("div"),n.appendChild(r.createTextNode(e)),n.innerHTML;if(t==="text")return n=r.createElement("div"),e=e.replace(/(<([^>]+)>\s*)+/ig," ").trim(),n.appendChild(r.createTextNode(e)),n.innerHTML;if(t==="numericstring")return(e+"").replace(/[^\d]/,"")},disableEvent:function(n,r){r=e.merge({excepted:":not(*)",onDisabledEvent:null},r);if(!document.body.addEventListener)return;o[n]=o[n]||{},o[n][r.excepted]&&t.enableEvent(n,r.excepted),o[n][r.excepted]=function(t){if(!r.excepted||!e.one(t.target).ancestors(r.excepted,!0).isEmpty())return;t.preventDefault(),t.stopPropagation(),r.onDisabledEvent&&r.onDisabledEvent(t)},document.body.addEventListener(n,o[n][r.excepted],!0)},enableEvent:function(t,n){n=e.merge({excepted:":not(*)"},n);if(!o[t]||!o[t][n.excepted])return;document.body.removeEventListener(t,o[t][n.excepted],!0),o[t][n.excepted]=null},unescape:function(t){if(!t||!e.Lang.isString(t))return t;var n={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#x27;":"'","&#39;":"'","&#92;":"\\"};return t.replace(/(&amp;|&lt;|&gt;|&quot;|&#x27;|&#39;|&#92;)/ig,function(e){return n[e.toLowerCase()]})},normalizeURIComponents:function(e){var t,n,r,i;t={"&":["&amp;","&#x00026;","&#38;"],"<":["&lt;","&#x0003C;","&#60;"],">":["&gt;","&#x0003E;","&#62;"],'"':["&quot;","&#x00022;","&#34;"],"'":["&apos;","&#x00027;","&#39;"],"`":["&grave;","&DiacriticalGrave;","&#x00060;","&#96;"]},e=e.replace(/\+/g," ");for(n in t)r=n,i=t[n],e=e.replace(new RegExp(i.join("|"),"gi"),r);return e=decodeURIComponent(e),e},template:function(e,t){return e.replace(/\{\{([\w\.=]+)\}\}/g,function(e,n){var r=n.split(/=/),i;return i=r[0].split(/\./).reduce(function(e,t){return e?e[t]:null},t),i!==undefined&&i!==null?i+"":r[1]||""}).trim()},createHashCode:function(e){var t,n="0000000000";return typeof e!="object"?t=e+"":t=Object.keys(e||{}).map(function(t){var n=t;try{n+=JSON.stringify(e[t])}catch(r){n+="?"}return n}).join(""),t=t.split("").reduce(function(e,t){return e=(e<<5)-e+t.charCodeAt(0),e&e},0).toString().replace(/^-/,""),n.slice(0,-1*t.length)+t},camelCaseifyKeys:function(e){return Object.keys(e).reduce(function(n,r){return n[t.camelCaseify(r)]=e[r],n},{})},camelCaseify:function(e){return e.replace(/-(\w)/gi,function(e,t){return t.toUpperCase()})},unCamelCaseify:function(e){return e.replace(/([A-Z])/g,function(e,t){return"-"+t.toLowerCase()}).replace(/^-/,"")},unicodeVariants:["(?:ae|\u00e6)","(?:oe|\u0153)","(?:ss|\u00df)","(?:th|\u00de)","[a\u00e1\u00e0\u00e2\u00e4\u00e3a\u00e5\u1ea5]","[e\u00e9\u00e8\u00ea\u00eb\u011b3]","[i\u00ed\u00ec\u00ee\u00ef\u01d0]","[o\u00f3\u00f2\u00f4\u00f6\u00f5\u01d2\u1ecf\u01a1\u1edb\u1edd\u1edf\u1ee1\u1ee3\u00f8]","[u\u00fa\u00f9\u00fb\u00fc\u01d4\u01da\u01b0\u1ee9\u1eeb\u1eed\u1eef\u1ef1]","[y\u00fd\u00ff]","[c\u00e7\u010d]","[d\u00d0]","[f\u0192]","[g\u01e7]","[h\u021f]","[j\u01f0]","[k\u01e9]","[l\u013e]","[n\u00f1\u0148]","[r\u0159\u00ae]","[s\u0161\u1e67]","[t\u0165]","[z\u017e]"],agnosticizeUnicode:function(e){var t=this.unicodeVariants,n=t.length,r;for(r=0;r<n;r++)e=e.replace(new RegExp(t[r],"gi"),t[r]);return e},buildHttpQuery:function(e,t){return e+"?"+Object.keys(t||{}).map(function(e){return e+"="+encodeURIComponent(t[e])}).join("&")},formatNumbers:function(e){return Math.floor(e/1e6)>0?e=Math.floor(e/1e5)/10+"M":Math.floor(e/1e3)>0?e=Math.floor(e/100)/10+"k":e},formatIntlPluralNumber:function(t,n,r){var i=e.flutil.formatNumbers(n);return r?t.replace(/(?:\d*[,\.]\d+)+/
,i):t.replace(/(?:\d*[,\.\s]\d+)+/,i)},openPopupWindow:function(t,n){var r,i,s,o,u,a;if(typeof window=="undefined")return;i=window,n=e.mix({name:"WIN"+(new Date).getTime(),ui:{}},n||{},!0),s=e.mix({dependent:!0,status:!0,scrollbars:!0,width:600,height:600},n.ui,!0),s.top||(s.top=Math.floor((i.screen.height-s.height)/2)),s.left||(s.left=Math.floor((i.screen.width-s.width)/2)),r=Object.keys(s).map(function(e){var t=s[e];return typeof t=="boolean"&&(t=t?"yes":"no"),e+"="+t}).join(","),i=i.open(t,n.name,r),i.focus();if(n.onUrlChange||n.onClose)o="_start_",a=setInterval(function(){if(!i.location){clearInterval(a),n.onClose&&n.onClose();return}try{u=i.location.href||"x-origin"}catch(t){i.postMessage("",e.url())}if(u===o)return;o=u,n.onUrlChange&&n.onUrlChange(u)},1e3);return i},parseYYYYMMDDDatestamp:function(t){return!e.Lang.isString(t)||t.length!==8?null:Date.parse(t.substr(0,4)+"-"+t.substr(4,2)+"-"+t.substr(6,2))},photoCoords:{normalize:function(e,t,n,r){return{x:e/500,y:t/375,w:n/500,h:r/375}},denormalize:function(e){return{x:e.x*500,y:e.y*375,w:e.w*500,h:e.h*375}},denormX:function(e){return e.x*500},denormY:function(e){return e.y*375},denormW:function(e){return e.w*500},denormH:function(e){return e.h*375}},getGroupsOptoutValues:function(t){var n=[];return t["rebootify-group-members"]===!0&&n.push({name:"groups_members_opt",value:0}),t["enable-groups-discussion-optout"]===!0&&n.push({name:"groups_discuss_opt",value:0}),t["enable-groups-optout"]===!0&&n.push({name:"groups_opt",value:0}),{url:e.url("/help/forum/en-us/72157645851675914/lastpage#reply"),flippers:n}},nonLockingSynchronousLoop:function(e,t,n,r){var i=0,s,o=!0,u=Object.keys(e),a=function(e){t(e),i++,i>=f?n():i===s||o?(i===s&&(s+=r.threshold),o=!1,setTimeout(function(){a(u[i])},1)):a(u[i])},f=u.length;r=r||{},r.threshold=r.threshold||1e3,s=r.threshold,o=r.earlyUnlock!==!1,a(u[i])}}},"@VERSION@",{requires:["url"]});
YUI.add("search-helper",function(e){function b(e){return!e[r.userId]&&!e[r.groupId]&&!e[r.tags]&&!e[r.text]&&!e[r.license]&&!e[r.faves]&&!e[r.contacts]&&!e[r.getty]&&!e[r.commons]&&!e[r.minTakenDate]&&!e[r.maxTakenDate]&&!e[r.minUploadDate]&&!e[r.maxUploadDate]&&!e[r.hasGeo]&&!e[r.boundingBox]&&!e[r.woeId]&&!e[r.camera]&&!e[r.minExposure]&&!e[r.maxExposure]&&!e[r.minAperture]&&!e[r.maxAperture]&&!e[r.minFocalLength]&&!e[r.maxFocalLength]&&!e[r.foursquareWoeId]&&!e[r.foursquareVenueId]&&!e[u.username]&&!e[r.similarityId]}function w(e,t){var n;for(n in c){if(!t&&n===e)return c[n];if(t&&c[n]===e)return n}}function E(e){var n={nsid_or_path_alias:"userId",group_id:"groupId",set_id:"setId",page_number:"page",tag_list:"tags",location:"text",slideshow_start_id:"slideshowStartId"},i,s={};for(i in n)e[i]&&(s[r[n[i]]]=e[i]);return s[r.groupId]&&!t.nsid(s[r.groupId])&&(s[r.groupPathAlias]=s[r.groupId],delete s[r.groupId]),s}function S(e,t){var n={},r=null,s=t.getViewer();e=e||{},e.q&&(n[u.username]=e.q);if(e.s)switch(e.s){case"age":n[u.sort]=i.oldestJoined;break;case"pho":n[u.sort]=i.mostPhotos}e.see&&e.see.toString().toLowerCase()==="all"&&s.signedIn&&(n[u.userId]=s.nsid),e.m&&(e.m.toString().toLowerCase()==="extras",e.m.toString().toLowerCase()==="names");for(r in e)o.indexOf(r)===-1&&(n[r]=e[r]);return n}function x(e,t){var n={},r=null,s;e=e||{},s=e.m&&e.m.toString().toLowerCase()==="discuss",e.q&&(n[f.text]=e.q),s;if(e.s)switch(e.s){case"act":s?n[f.sort]=i.discussionActivity:n[f.sort]=i.activity;break;case"siz":n[f.sort]=i.size;break;case"age":n[f.sort]=i.newest;break;case"rep":}for(r in e)a.indexOf(r)===-1&&(n[r]=e[r]);return n}function T(s,o){if(!s)return{};var u={},a,f,l=o.getViewer(),h=s.l,p=s.s,d=s.w,v,m=s.m,g=s.q,y;s.d&&typeof s.d=="string"&&(v=s.d.split("-")),s.q&&(u[r.text]=s.q),typeof s["ss"]!="undefined"&&(u[r.safeSearch]=parseInt(s.ss,10)+1),typeof s["ct"]!="undefined"&&(u[r.contentType]=parseInt(s.ct,10)+1),typeof s["mt"]!="undefined"&&(u[r.mediaType]=s.mt),s.b&&(u[r.boundingBox]=s.b),s.a&&(u[r.accuracy]=s.a),s.e&&(u[r.woeId]=s.e),s.g&&(u[r.groupId]=s.g),s.cm&&(u[r.camera]=s.cm),typeof s["xel"]!="undefined"&&(u[r.minExposure]=s.xel),typeof s["xeh"]!="undefined"&&(u[r.maxExposure]=s.xeh),typeof s["xal"]!="undefined"&&(u[r.minAperture]=s.xal),typeof s["xah"]!="undefined"&&(u[r.maxAperture]=s.xah),typeof s["xfl"]!="undefined"&&(u[r.minFocalLength]=s.xfl),typeof s["xfh"]!="undefined"&&(u[r.maxFocalLength]=s.xfh),s.eui&&(u[r.excludeUserId]=s.eui);if(typeof h!="undefined")switch(h){case"cc":case"comm":case"deriv":case"commderiv":u[r.license]=c[h];break;default:f=parseInt(h,10),f>=0&&f<=10&&(u[r.license]=f)}if(p)switch(p){case"rec":u[r.sort]=i.recent;break;case"rel":u[r.sort]=i.relevant;break;case"int":u[r.sort]=i.interesting;break;default:}s.hd&&(u[r.media]="hdvideo");if(d&&typeof d=="string")if(d.indexOf("faves")!==-1)y=d.split("-"),u[r.faves]=1,y.length>1?u[r.userId]=y[1]:l.signedIn&&(u[r.userId]=l.nsid);else if(t.nsid(d))m==="pool"?u[r.groupId]=d:u[r.userId]=d;else switch(d){case"contacts":u[r.contacts]="all";break;case"ff":u[r.contacts]="ff";break;case"getty":u[r.getty]="true";break;case"commons":u[r.commons]="true";break;case"usg":u[r.license]=8;break;case"all":default:}if(v)switch(v[0]){case"taken":v[1]&&(u[r.minTakenDate]=e.flutil.parseYYYYMMDDDatestamp(v[1])/1e3),v[2]&&(u[r.maxTakenDate]=e.flutil.parseYYYYMMDDDatestamp(v[2])/1e3);break;case"posted":v[1]&&(u[r.minUploadDate]=e.flutil.parseYYYYMMDDDatestamp(v[1])/1e3),v[2]&&(u[r.maxUploadDate]=e.flutil.parseYYYYMMDDDatestamp(v[2])/1e3);break;default:}if(m&&g)switch(m){case"tags":u=e.merge(u,this.processTags(g)),delete u[r.text];break;default:}for(a in s)n.indexOf(a)===-1&&(u[a]=s[a]);return u}function N(e){var t={},n=e[r.userId];return e[r.text]?t.q=e[r.text]:e[r.tags]&&(t.q=e[r.tags]),e[r.faves]?n?t.w="faves-"+n:t.w="faves":n?t.w=n:e[r.contacts]==="all"?t.w="contacts":e[r.contacts]==="ff"?t.w="ff":e[r.getty]==="true"?t.w="getty":e[r.commons]==="true"?t.w="commons":parseInt(e[r.license],10)===8&&(t.w="usg"),e[r.license]&&(t.l=w(e[r.license],!0)),t}function C(e,t){e[r.license]&&(e[r.license]===c.all||e[r.license]==="")&&delete e[r.license]}function k(e){}function L(e){}function A(e,t){for(var n in e)t.indexOf(n)===-1&&delete e[n]}function O(e){this.clearParams(e,g)}function M(e){this.clearParams(e,m)}function _(t){var n=e.clone(t)||{};return delete n.page,delete n.method,delete n.extras,e.QueryString.stringify(n)}function D(t){var n=t[r.groupId],i=t[r.tags],s=t[r.text];YUI.Env.isServer&&(n&&(t[r.groupId]=e.flutil.unescape(n)),i&&(t[r.tags]=e.flutil.unescape(i)),s&&(t[r.text]=e.flutil.unescape(s)))}function P(e){var t=0;return e.photos&&!e.screenshots&&!e.other?t=1:!e.photos&&e.screenshots&&!e.other?t=2:!e.photos&&!e.screenshots&&e.other?t=3:e.photos&&e.screenshots&&!e.other?t=4:!e.photos&&e.screenshots&&e.other?t=5:e.photos&&!e.screenshots&&e.other?t=6:e.photos&&e.screenshots&&e.other&&(t=7),t}function H(e){var t={},n=parseInt(e,10);switch(n){case 1:t.photos=!0;break;case 2:t.screenshots=!0;break;case 3:t.other=!0;break;case 4:t.photos=!0,t.screenshots=!0;break;case 5:t.other=!0,t.screenshots=!0;break;case 6:t.photos=!0,t.other=!0;break;default:t.photos=!0,t.screenshots=!0,t.other=!0}return t}function B(t){var n=e.AttributeHelpers.coerceInteger(t);return e.AttributeHelpers.coerceString(n+1)}function j(n,i){var s=i.getViewer(),o;return n[r.userId]?s&&s.signedIn&&s.nsid===n[r.userId]?n[r.faves]?e.Promise.resolve({intlName:"search.VIEWER_FAVES"}):e.Promise.resolve({intlName:"search.YOUR_PHOTOS"}):(t.nsid(n[r.userId])?o=n[r.userId]:o={pathAlias:n[r.userId]},i.getModel("person-models",o).then(function(e){var t;return n[r.faves]?t="search.FAVES_POSSESSIVE":t="search.PHOTOS_POSSESSIVE",{intlName:t,name:e.getValue("displayname")}})):n[r.contacts]?e.Promise.resolve({intlName:"search.FROM_PEOPLE_YOU_FOLLOW"}):n[r.groupId]||n[r.groupPathAlias]?(n[r.groupId]?o={id:n[r.groupId]}:o={pathAlias:n[r.groupPathAlias]},i.getModel("group-info-models",o).then
(function(e){return{intlName:"search.IN_GROUP_POOL",name:e.getValue("group").getValue("title")}})):n[r.faves]?e.Promise.resolve({intlName:"search.VIEWER_FAVES"}):e.Promise.resolve({intlName:"search.EVERYONES_PHOTOS"})}function F(n,i){var s=i.getViewer(),o;if(n[r.userId])return s&&s.signedIn&&s.nsid===n[r.userId]?e.Promise.resolve({intlName:"search.PEOPLE_YOU_FOLLOW"}):(t.nsid(n[r.userId])?o=n[r.userId]:o={pathAlias:n[r.userId]},i.getModel("person-models",o).then(function(e){return{intlName:"search.CONTACTS_POSSESSIVE",name:e.getValue("username")}}))}function I(n,i){var s=i.getViewer(),o;if(n[r.userId])return s&&s.signedIn&&s.nsid===n[r.userId]?e.Promise.resolve({intlName:"search.YOUR_GROUPS"}):(t.nsid(n[r.userId])?o=n[r.userId]:o={pathAlias:n[r.userId]},i.getModel("person-models",o).then(function(e){return{intlName:"search.GROUPS_POSSESSIVE",name:e.getValue("username")}}))}function q(e){e||(e={});var t=null,n=e[r.license];if(n&&n.length===1)switch(parseInt(n,10)){case 1:t="search.CC_BY_NC_SA";break;case 2:t="search.CC_BY_NC";break;case 3:t="search.CC_BY_NC_ND";break;case 4:t="search.CC_BY";break;case 5:t="search.CC_BY_SA";break;case 6:t="search.CC_BY_ND"}return t?{intlName:t}:null}function R(t,n,r){var i,s,o=this;return t===n?!0:r<=0?!1:(r=r||1,!e.Lang.isObject(t)||!e.Lang.isObject(n)?!1:(i=Object.keys(t),s=Object.keys(n),i.length!==s.length?!1:i.every(function(e){return o.objectsAreEquivalentToDepth(t[e],n[e],r-1)})))}function U(e){var t;return e&&(t=e.replace(/[\s!-\/:-@[-`]/g,"")),t}function z(e,t){if(!e||typeof e!="string")return{};var n={},i=/(["'])(\\?.)*?\1/g,s=/[,\+\s]/,o=/^([,\+]|AND|OR)$/,u=/[\+\s]OR[\+\s]/,a,f,l,c;return a=e.match(i)||[],f=e.replace(i,""),l=f.split(s),l=l.map(function(e){return e.trim()}).filter(function(e){return e&&!o.test(e)}),c=a.concat(l),n[r.tags]=c.join(","),t==="any"||t==="all"?n[r.tagMode]=t:u.test(e)?(n[r.tagMode]="any",c.length=Math.min(c.length,11)):n[r.tagMode]="all",n}var t=require("lib/helpers/type-validator"),n=["q","ss","ct","mt","l","s","w","d","m","hd","b","a","g","e","cm","xel","xeh","xal","xah","xfl","xfh","eui"],r={userId:"user_id",groupId:"group_id",groupPathAlias:"group_path_alias",setId:"set_id",page:"page",text:"text",tags:"tags",tagMode:"tag_mode",sort:"sort",safeSearch:"safe_search",contentType:"content_type",mediaType:"media",license:"license",faves:"faves",contacts:"contacts",getty:"is_getty",commons:"is_commons",marketplace:"marketplace_licensable",minTakenDate:"min_taken_date",maxTakenDate:"max_taken_date",minUploadDate:"min_upload_date",maxUploadDate:"max_upload_date",hasGeo:"has_geo",boundingBox:"bbox",accuracy:"accuracy",woeId:"woe_id",camera:"camera",minExposure:"exif_min_exposure",maxExposure:"exif_max_exposure",minAperture:"exif_min_aperture",maxAperture:"exif_max_aperture",minFocalLength:"exif_min_focallen",maxFocalLength:"exif_max_focallen",excludeUserId:"exclude_user_id",foursquareWoeId:"foursquare_woeid",foursquareVenueId:"foursquare_venueid",slideshowStartId:"jump_to",height:"height",width:"width",dimensionSearchMode:"dimension_search_mode",orientation:"orientation",colorCodes:"color_codes",styles:"styles",similarityId:"similarity_id"},i={relevant:"relevance",recent:"date-posted-desc",interesting:"interestingness-desc",name:"exact-name-match-first",activity:"most-activity",size:"most-members",oldest:"oldest-first",newest:"recent-first",oldestJoined:"age",mostPhotos:"pho",dateUploaded:"date-posted-desc",dateTaken:"date-taken-desc"},s={portrait:"portrait",square:"square",landscape:"landscape",panorama:"panorama"},o=["s","q","see","m"],u={username:"username",userId:"user_id",sort:"sort"},a=["q","s","m"],f={text:"text",sort:"sort",safeSearch:"safe_search",userId:"user_id",subscriptionTypes:"subscription_types",filterInactive:"filter_inactive_groups"},l={safe:1,all:2,eighteenPlusOnly:3},c={all:"0,1,2,3,4,5,6,7,8,9,10",cc:"1,2,3,4,5,6,9",deriv:"1,2,4,5,9,10",comm:"4,5,6,9,10",commderiv:"4,5,9,10"},h={viewAll:"view_all",viewType:"view_type",advanced:"advanced",albums:"album_search"},p=[r.tags,r.tagMode,r.mediaType,r.minTakenDate,r.maxTakenDate,r.minUploadDate,r.maxUploadDate,r.height,r.width,r.dimensionSearchMode,r.orientation,r.marketplace,r.excludeUserId],d=[r.colorCodes,r.styles],v=[r.sort,r.safeSearch,r.license],m=[r.userId,r.groupId,r.faves,r.contacts,r.commons,"m","w"],g=[r.userId,r.groupId,r.faves,r.contacts,r.safeSearch,r.sort,r.license,r.tags,r.text],y={sort:i.relevant,parse_tags:"1",content_type:"7"};e.SearchHelper={API:r,PEOPLE_SEARCH_API:u,GROUPS_SEARCH_API:f,GROUPS_SAFE_SEARCH_SETTINGS:l,API_SORT_OPTIONS:i,API_ORIENTATION_OPTIONS:s,LICENSE_TYPE:c,UNIFIED_STATE_PARAMS:h,UNIFIED_ADVANCED_PARAMS:p,UNIFIED_QUICK_FILTER_PARAMS:d,UNIFIED_TOOLBAR_PARAMS:v,SEARCH_SCOPE_PARAMS:m,UNIFIED_DEFAULT_PARAMS:y,decodeContentType:H,encodeContentType:P,isParameterlessSearch:b,mapRouteParamsToAPI:E,convertLicenseTypeValue:w,mapClassicSearchToAPI:T,mapClassicPeopleSearchToAPI:S,mapClassicGroupSearchToApi:x,mapAPIParamsToAdvancedSearchQuery:N,deriveScopeTitle:j,derivePeopleScopeTitle:F,deriveGroupsScopeTitle:I,deriveCCLicenseString:q,addParamDefaults:C,addGroupsParamDefaults:k,addPeopleParamDefaults:L,clearParams:A,clearAdvancedSearchParams:O,clearParamsExceptSearchScope:M,generateQueryString:_,convertSafeSearchPrefsToApi:B,unescapeParameters:D,objectsAreEquivalentToDepth:R,normalizeTag:U,processTags:z}},"@VERSION@",{requires:["flutil"]});
YUI.add("search-url",function(e,t){function u(e){return typeof e=="number"?e.toString():typeof e=="boolean"?e?"1":"0":typeof e=="string"?e:undefined}var n=require("lib/flog")(t),r,i,s=/^\/search(?:\/.*)?$/,o=/^bw|blackandwhite$/;YUI.Env.isServer?r=require("querystring").stringify:r=e.QueryString.stringify,i=function(t,r,s){var o,a,f,l,c;this.appContext=r;if(typeof t=="string"){c=t.split("?"),s?this.searchType=s:(a=c[0].split("/"),a[0].indexOf("http")!==-1?f=3:f=1,l="/"+a.slice(f).join("/"),this.searchType=this.getSearchTypeFromPathname(l)),c=c.length>1?c[1]:"",this.params={};if(c)try{c=e.QueryString.parse(c),this.params=e.SearchHelper.mapClassicSearchToAPI(c,r)}catch(h){n.warn("malformed query",{err:h,query:c})}}else this.params=e.merge(t),this.searchType=s;for(o in this.params)this.params.hasOwnProperty(o)&&(this.params[o]=u(this.params[o]));this.params.color_codes&&(this.colors=this.params.color_codes.toString().split(",")),this.searchType||this.setSearchType(i.searchTypes.UNDEFINED)},i.prototype.setSearchType=function(t){var n=this.getSearchTerm();return this.searchType=t,this.params=this.validateParams(this.params,this.searchType),this.params=e.merge(this.getDefaultParams(this.searchType),this.params),n&&this.setSearchTerm(n),this},i.prototype.getSearchTypeFromPathname=function(e){e=e||this.pathname,e=e.toLowerCase(),e=e.split("/").join("");switch(e){case"searchpeople":return i.searchTypes.PEOPLE;case"searchgroups":return i.searchTypes.GROUPS;case"search":default:return i.searchTypes.PHOTOS}},i.prototype.getPathname=function(){var e="/search/";switch(this.searchType){case i.searchTypes.PEOPLE:e+="people/";break;case i.searchTypes.GROUPS:e+="groups/";break;case i.searchTypes.CLASSIC_GROUPS:e="/search_groups.gne";break;case i.searchTypes.PHOTOS:default:}return e},i.prototype.validateParams=function(t,n){var r,s={},o,u;t=e.merge(t);switch(n){case i.searchTypes.PEOPLE:r=e.merge(e.SearchHelper.PEOPLE_SEARCH_API),r.text="text";break;case i.searchTypes.GROUPS:r=e.merge(e.SearchHelper.GROUPS_SEARCH_API);break;case i.searchTypes.PHOTOS:r=e.merge(e.SearchHelper.API,e.SearchHelper.UNIFIED_STATE_PARAMS);break;case i.searchTypes.UNDEFINED:default:return t}if(r)for(o in r)u=r[o],typeof t[u]!="undefined"&&(s[u]=t[u]);return s},i.prototype.getDefaultParams=function(t){var n={};switch(t){case i.searchTypes.PEOPLE:e.SearchHelper.addPeopleParamDefaults(n);break;case i.searchTypes.GROUPS:e.SearchHelper.addGroupsParamDefaults(n);break;case i.searchTypes.PHOTOS:e.SearchHelper.addParamDefaults(n);break;case i.searchTypes.UNDEFINED:default:}return n},i.prototype.getAPIParams=function(){return e.merge(this.params)},i.prototype.getAPIParam=function(e){return this.params[e]},i.prototype.setAPIParam=function(e,t){return this.params[e]=u(t),this},i.prototype.removeAPIParam=function(e){return delete this.params[e],this},i.prototype.removeAllAPIParams=function(){return this.params={},this},i.prototype.getSearchTerm=function(){var t=this.params[this.getSearchTermKey(this.searchType)];return t||(t=this.params[e.SearchHelper.API.tags]),t||""},i.prototype.setSearchTerm=function(t){var n=this.getSearchTermKey(this.searchType);return delete this.params[e.SearchHelper.PEOPLE_SEARCH_API.username],delete this.params[e.SearchHelper.GROUPS_SEARCH_API.text],delete this.params[e.SearchHelper.API.text],delete this.params[e.SearchHelper.API.tags],delete this.params.q,this.params[n]=t,this},i.prototype.getSearchTermKey=function(t){switch(t){case i.searchTypes.PEOPLE:return e.SearchHelper.PEOPLE_SEARCH_API.username;case i.searchTypes.GROUPS:return e.SearchHelper.GROUPS_SEARCH_API.text;case i.searchTypes.PHOTOS:default:return this.params[e.SearchHelper.API.tags]||this.params[e.SearchHelper.API.tags]===""?e.SearchHelper.API.tags:e.SearchHelper.API.text}},i.prototype.removeScope=function(){return e.SearchHelper.SEARCH_SCOPE_PARAMS.forEach(function(e){this.removeAPIParam(e)}.bind(this)),this.removeAPIParam(e.SearchHelper.API.excludeUserId),this},i.prototype.resetToUnified=function(){return this.params[e.SearchHelper.UNIFIED_STATE_PARAMS.viewAll]&&(this.removeAPIParam(e.SearchHelper.API.userId),this.removeAPIParam(e.SearchHelper.API.contacts),this.removeAPIParam(e.SearchHelper.API.groupId),this.removeAPIParam(e.SearchHelper.UNIFIED_STATE_PARAMS.albums)),this.removeAPIParam(e.SearchHelper.API.similarityId),this.removeAPIParam(e.SearchHelper.UNIFIED_STATE_PARAMS.viewAll),this},i.prototype.hasAdvancedParams=function(t){return Object.keys(this.params).some(function(n){return e.SearchHelper.UNIFIED_ADVANCED_PARAMS.indexOf(n)!==-1||!t&&e.SearchHelper.UNIFIED_QUICK_FILTER_PARAMS.indexOf(n)!==-1||!t&&e.SearchHelper.UNIFIED_TOOLBAR_PARAMS.indexOf(n)!==-1})},i.prototype.resetAdvancedParam=function(t,n){return this.hasAdvancedParams(t)?this.setAPIParam(e.SearchHelper.UNIFIED_STATE_PARAMS.advanced,1):n||this.removeAPIParam(e.SearchHelper.UNIFIED_STATE_PARAMS.advanced),this},i.prototype.createNewSearch=function(e){this.setSearchTerm(e),this.removeScope();if(this.searchType===i.searchTypes.UNDEFINED||this.searchType===i.searchTypes.PHOTOS)this.resetToUnified(),this.resetAdvancedParam();return this},i.prototype.getURL=function(){var e=this.getId(),t=this.getPathname();return e===i.EMPTY_SEARCH_ID?t:t+"?"+e},i.prototype.getId=function(){var t={},n,s=e.SearchHelper.API;for(n in this.params)s[n]?t[s[n]]=this.params[n]:t[n]=this.params[n];return r(t)||i.EMPTY_SEARCH_ID},i.prototype.clone=function(){var e=new i(this.params,this.appContext,this.searchType);return e},i.prototype.setMedia=function(t,n){var r;t||(t=!1),n||(n=!1),t&&n?r="all":t?r="photos":r="videos",this.setAPIParam(e.SearchHelper.API.mediaType,r)},i.prototype._syncColors=function(){this.colors&&this.colors.length>0?this.params.color_codes=this.colors.join(","):this.removeAPIParam("color_codes")},i.prototype.addColorCode=function(e){if(e&&e.match(o)){this.clearColorCodes(),this.colors=["bw"],this._syncColors();return}this.colors&&this.colors.indexOf("bw")!==-1&&(this.colors=[]),this.colors||(this
.colors=[]),this.colors.indexOf(e)===-1&&(this.colors.push(e),this._syncColors())},i.prototype.removeColorCode=function(e){var t;this.colors&&(t=this.colors.indexOf(e),t!==-1&&(this.colors.splice(t,1),this._syncColors()))},i.prototype.clearColorCodes=function(){this.colors=[],this._syncColors()},i.isSearchUrl=function(e){return s.test(e)},i.searchTypes={UNDEFINED:0,PHOTOS:1,PEOPLE:2,GROUPS:3,CLASSIC_GROUPS:4},i.EMPTY_SEARCH_ID="-1",e.SearchUrl=i},"@VERSION@",{requires:["search-helper","querystring-parse-simple","querystring-stringify-simple"]});
YUI.add("hermes-template-search-pill",function(e,t){var n=e.Template.Handlebars.revive({1:function(e,t,n,r,i){var s,o,u=t!=null?t:{},a=n.helperMissing,f=e.escapeExpression;return'<li class="search-pill" '+((s=n["if"].call(u,t!=null?t.id:t,{name:"if",hash:{},fn:e.program(2,i,0),inverse:e.noop,data:i}))!=null?s:"")+">"+f((n.truncate||t&&t.truncate||a).call(u,t!=null?t.name:t,20,{name:"truncate",hash:{},data:i}))+'<div class="search-pill-divider"></div>'+f((o=(o=n.secondName||(t!=null?t.secondName:t))!=null?o:a,typeof o=="function"?o.call(u,{name:"secondName",hash:{},data:i}):o))+'<i class="search-pill-remover"></i></li>\n'},2:function(e,t,n,r,i){var s;return"id="+e.escapeExpression((s=(s=n.id||(t!=null?t.id:t))!=null?s:n.helperMissing,typeof s=="function"?s.call(t!=null?t:{},{name:"id",hash:{},data:i}):s))},4:function(e,t,n,r,i){var s,o=t!=null?t:{};return'<li class="search-pill" '+((s=n["if"].call(o,t!=null?t.id:t,{name:"if",hash:{},fn:e.program(2,i,0),inverse:e.noop,data:i}))!=null?s:"")+">"+e.escapeExpression((n.truncate||t&&t.truncate||n.helperMissing).call(o,t!=null?t.name:t,30,{name:"truncate",hash:{},data:i}))+'<i class="search-pill-remover"></i></li>\n'},compiler:[7,">= 4.0.0"],main:function(e,t,n,r,i){var s;return(s=n["if"].call(t!=null?t:{},t!=null?t.combo:t,{name:"if",hash:{},fn:e.program(1,i,0),inverse:e.program(4,i,0),data:i}))!=null?s:""},useData:!0}),r={};e.Array.each([],function(t){var n=e.Template.get("hermes/"+t);n&&(r[t]=n)}),e.Template.register("hermes/search-pill",function(t,i){return i=i||{},i.partials=i.partials?e.merge(r,i.partials):r,n(t,i)})},"@VERSION@",{requires:["template-base","handlebars-base"]});
YUI.add("hermes-template-search-autosuggest-field",function(e,t){var n=e.Template.Handlebars.revive({1:function(e,t,n,r,i){var s;return(s=e.invokePartial(r["search-pill"],t,{name:"search-pill",data:i,indent:"			",helpers:n,partials:r,decorators:e.decorators}))!=null?s:""},3:function(e,t,n,r,i){return' placeholder="'+e.escapeExpression((n.intlMessage||t&&t.intlMessage||n.helperMissing).call(t!=null?t:{},{name:"intlMessage",hash:{intlName:"search.PHOTOS_PEOPLE_OR_GROUPS"},data:i}))+'"'},compiler:[7,">= 4.0.0"],main:function(e,t,n,r,i){var s,o,u,a=t!=null?t:{},f=n.helperMissing,l=e.escapeExpression,c="function",h='<form method="get" action="/search/" role="search" class="search-form">\n\n		<label data-track="gnSearchSearchIcon" aria-label="'+l((n.intlMessage||t&&t.intlMessage||f).call(a,{name:"intlMessage",hash:{intlName:"search.SEARCH"},data:i}))+'">\n			<svg class="search-icon" style="width: 22px; height: 22px;" data-track="gnSearchSearchIcon" aria-label="'+l((n.intlMessage||t&&t.intlMessage||f).call(a,{name:"intlMessage",hash:{intlName:"search.SEARCH"},data:i}))+'"><use xlink:href="#icon-search"></use></svg>\n			<input type="submit" data-track="gnSearchSearchIcon" class="search-icon-button" tabindex="-1" aria-label="'+l((n.intlMessage||t&&t.intlMessage||f).call(a,{name:"intlMessage",hash:{intlName:"search.SEARCH"},data:i}))+'" role="button">\n		</label>\n		<ul class="search-pillbox">\n';return s=(o=(o=n.pills||(t!=null?t.pills:t))!=null?o:f,u={name:"pills",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},typeof o===c?o.call(a,u):o),n.pills||(s=n.blockHelperMissing.call(t,s,u)),s!=null&&(h+=s),h+'		</ul>\n		<input type="text" id="search-field" class="autosuggest-selectable-item"'+((s=n.unless.call(a,t!=null?t.hasPills:t,{name:"unless",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))!=null?s:"")+' name="text" value="'+l((o=(o=n.searchTerm||(t!=null?t.searchTerm:t))!=null?o:f,typeof o===c?o.call(a,{name:"searchTerm",hash:{},data:i}):o))+'" autocomplete="off" aria-label="'+l((n.intlMessage||t&&t.intlMessage||f).call(a,{name:"intlMessage",hash:{intlName:"search.SEARCH"},data:i}))+'" role="textbox">\n\n</form>\n\n'+l((n.outlet||t&&t.outlet||f).call(a,t!=null?t["search-autosuggest-items-list-view"]:t,{name:"outlet",hash:{},data:i}))+"\n"},usePartial:!0,useData:!0}),r={};e.Array.each(["search-pill"],function(t){var n=e.Template.get("hermes/"+t);n&&(r[t]=n)}),e.Template.register("hermes/search-autosuggest-field",function(t,i){return i=i||{},i.partials=i.partials?e.merge(r,i.partials):r,n(t,i)})},"@VERSION@",{requires:["template-base","handlebars-base","hermes-template-search-pill"]});
YUI.add("model-proxy",function(e,t){var n=require("lib/flog")(t);e.getModelProxyConstructor=function(t){function i(e){return function(){var n=new Array(arguments.length);for(var r=0;r<n.length;++r)n[r]=arguments[r];return n.unshift(this.id),t[e].apply(t,n)}}var r;return r=function(e){this.id=e,this.registry=t,this.isModel=!0},r.prototype={},e.getModelProxyConstructor.skipList.forEach(function(e){r.prototype[e]=function(){var t=new Error("Registry methods are not exposed on models.");throw n.error({err:t,method:e}),t}}),e.Object.each(t,function(t,n){if(r.prototype[n])return;if(n.indexOf("_")===0)return;if(!e.Lang.isFunction(t))return;if(Object.keys(t.prototype).length>0)return;r.prototype[n]=i(n)},this,!0),r},e.getModelProxyConstructor.skipList=["add","get","load","proxy","remoteRead","remoteCreate","attributeSearch","removeAll","getCount","serialize","deserialize"]},"@VERSION@",{requires:[]});
YUI.add("flickr-collection",function(e){var t={},n;n=e.FlickrCollection=function(e,t,n){this.registry=e,this.id=t,this.attrName=n,this._data=[],this.fetchedStart=!1,this.fetchedEnd=!1,this.totalItems=Number.MAX_VALUE},n.prototype={constructor:n,push:function(e){var t=this._data.concat();t.push(e),this.registry.setValue(this.id,this.attrName,t)},unshift:function(e){var t=this._data.concat();t.unshift(e),this.registry.setValue(this.id,this.attrName,t)},concat:function(e){var t=this._data.concat(e);this.registry.setValue(this.id,this.attrName,t)},remove:function(e){typeof e=="string"&&(e={id:e});var t=this.find(e,!0),n;return t&&(n=this._data.concat(),n.splice(t.index,1),this.registry.setValue(this.id,this.attrName,n)),t&&t.value},find:function(e,t){if(!e)return null;var n=null,r=Object.keys(e);return this._data.some(function(t,i){if(!t)return;if(r.every(function(n){return t[n]===e[n]}))return n={value:t,index:i},!0}),t?n:n?n.value:null},getFirstItem:function(){var e,t;for(e=0;e<this._data.length;e++){t=this._data[e];if(t)return{item:t,index:e}}return null},getLastItem:function(){var e,t;for(e=this._data.length-1;e>=0;e--){t=this._data[e];if(t)return{item:t,index:e}}return null},getList:function(){return this._data.concat()},size:function(){return this._data.length},toJSON:function(){var t=[];return e.Array.each(this.getList(),function(e){e&&t.push(e.toJSON())}),t},toString:function(){return this.registry.name+'["'+this.attrName+'"]'},appendToListMulti:function(e){this.concat(e)},appendToList:function(e){this.push(e)},prependToList:function(e){this.unshift(e)},getFromListByID:function(e,t){var n={},r;return n[t||"id"]=e,r=this.find(n),r?r:undefined},removeFromList:function(e,t){var n={};return n[t||"id"]=e,this.remove(n)},hasMinBoundary:function(){return this.fetchedStart},hasMaxBoundary:function(){return this.fetchedEnd},_setValue:function(e){this._data=e}},e.FlickrCollection.executeFetch=function(n,r,i,s){var o,u;return!s||!e.Lang.isFunction(s.run)?e.Promise.reject("(flickr-collection::executeFetch) invalid fetcher for "+r.name+"["+i+"]"):(o=JSON.stringify(n),u=t[o],u?u:(t[o]=s.run.call(s,n,r.appContext).then(function(e){return delete t[o],e},function(e){throw delete t[o],e}),t[o]))},e.FlickrCollection.trimArray=function(e){var t=0,n=e.length-1;while(t<e.length&&!e[t])t++;while(n>t&&!e[n])n--;return e.slice(t,n+1)}},"@VERSION@",{requires:[]});
YUI.add("paged-collection",function(e,t){function r(t){var r={page:1,perPage:0,pageContent:[]};return t?(t instanceof Array&&(t={pageContent:t}),t=e.merge(r,t),t):(n.warn("No pageData sent to PagedCollection; aborting."),null)}var n=require("lib/flog")(t);e.PagedCollection=function(e,t,n,r){this.constructor.superclass.constructor.call(this,e,t,n),r&&(r instanceof Array&&(r={pageContent:r,page:1,perPage:r.length}),r.totalPages&&(this.totalPages=r.totalPages),r.totalItems&&(this.totalItems=r.totalItems),this.fetchedStart=!!r.fetchedStart,this.fetchedEnd=!!r.fetchedEnd,this.addPage(r))},e.extend(e.PagedCollection,e.FlickrCollection,{getPage:function(t){var n,r,i,s,o,u,a;if(!t||!t.page||!t.perPage||t.forceAPICall)t||(t={}),s=!0;else{u=this.totalPages&&t.page>=this.totalPages,a=this.totalItems&&r>=this.totalItems,n=t.perPage*(t.page-1),r=Math.min(t.perPage*t.page,this.totalItems);if(!u&&!a||!this.fetchedEnd)for(i=n;i<r;i++)if(typeof this._data[i]=="undefined"||!this._data[i].exists()){s=!0;break}}return s?(t.pathAlias||(t.id=this.id),t.isCollection=!0,o=this.registry.attributes[this.attrName].pageFetch,o.fetchParams&&(t=e.merge(t,o.fetchParams)),e.FlickrCollection.executeFetch(t,this.registry,this.attrName,o.listFetcher)):e.when(this._data.slice(n,r))},addPage:function(e){var t=e.perPage*(e.page-1),n=t+Math.min(e.pageContent.length,e.perPage),r,i=0;if(e.forceAppend)this._data=this._data.concat(e.pageContent);else if(this._data.length<=t)this._data.length=t,this._data=this._data.concat(e.pageContent);else{this._data.length<n&&(this._data.length=n);for(r=t;r<n;r++)this._data[r]=e.pageContent[i],i++}e.totalPages&&(this.totalPages=e.totalPages,e.page>=this.totalPages&&(this.fetchedEnd=!0)),e.totalItems&&(this.totalItems=e.totalItems,this._data.length>=e.totalItems?this.fetchedEnd=!0:t+parseInt(e.perPage,10)>e.totalItems&&this._data.length<e.totalItems&&(this.fetchedEnd=!0)),this.fetchedStart=this._data&&typeof this._data[0]!="undefined"},removePage:function(e){},getPageOf:function(e,t){t||(n.warn("`perPage` must be specified; defaulting to 50."),t=50);var r=this.find(e,!0);return r?Math.floor(r.index/t)+1:-1},getNextIncompletePage:function(e){var t=e.page*(e.perPage-1),n=Math.floor(this._data.length/e.perPage)+1;for(t;t<this._data.length;t++)if(typeof this._data[t]=="undefined"||!this._data[t].exists()){n=Math.floor(t/e.perPage)+1;break}return n},_setValue:function(e){if(e instanceof Array)this.constructor.superclass._setValue.call(this,e);else{e=r(e);if(!e)return;e.remove?this.removePage(e):this.addPage(e)}}})},"@VERSION@",{requires:["flickr-collection"]});
YUI.add("flickr-model-registry",function(e,t){function i(t,n,r){return r===!1&&typeof t=="string"&&typeof n=="string"&&(t=t.toLowerCase(),n=n.toLowerCase()),t===n?!0:e.moment.isMoment(t)&&e.moment.isMoment(n)?t.diff(n)===0:e.Lang.isArray(t)&&e.Lang.isArray(n)&&s(t,n)?!0:e.Lang.isObject(t,!0)&&e.Lang.isObject(n,!0)&&o(t,n)?!0:!1}function s(t,n){var r=!0;return t.length!==n.length&&(r=!1),r&&e.Array.some(t,function(e,t){if(!i(n[t],e))return r=!1,!0}),r}function o(t,n){var r=!0;return e.Object.size(t)!==e.Object.size(n)&&(r=!1),r&&e.Object.some(t,function(e,t){if(!n.hasOwnProperty(t)||!i(n[t],e))return r=!1,!0}),r&&e.Object.some(n,function(e,n){if(!t.hasOwnProperty(n)||!i(t[n],e))return r=!1,!0}),r}function u(t){var n=t;return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Array.prototype?(n=t.slice(),typeof t.hasMinBoundary!="undefined"&&(n.hasMinBoundary=t.hasMinBoundary),typeof t.hasMaxBoundary!="undefined"&&(n.hasMaxBoundary=t.hasMaxBoundary)):Object.getPrototypeOf(t)===Object.prototype&&(n={},e.Object.each(t,function(e,t){n[t]=e},this))),n}var n=require("lib/flog")(t);e.Models={};var r=e.FlickrModelRegistry=function(t){this.appContext=t,this.attributes=this.attributes||{},this.attributes.id={writeOnce:"initOnly",setter:function(t){return e.Lang.isString(t)||(e.Lang.isNumber(t)?t+="":(n.warn("`id` falling back to a Y.guid",{topic:this.name,val:t}),t=e.guid())),t}},this._setDefaultRemoteMethods(),this._validateAttributes(),this._data={},this._dataSize=0,this._subscribers=[],this.hasWeakSubscribers=!1,this._chainedEvents={},this._derivedCache=undefined,this._unsavedModels={}};r.prototype={attributeSearch:function(t,n){var r=[];return t.id?r.push(t.id):e.Object.each(this._data,function(s,o){var u=!0;e.Object.some(t,function(e,t){if(!i(e,s[t],!1)){if(n!==!0)return u=!1,!0;if(!i(e,this.getDefaultValue(s.id,t),!1))return u=!1,!0}},this),u&&r.push(o)},this),r},load:function(t,n){var r=this,i,s;return n||(n={}),e.Lang.isObject(t,!0)?(i=this.attributeSearch(t).sort()[0],n=e.merge(t,n||{})):(i=t,n=e.merge({id:i},n)),i&&this.exists(i)?e.when(i):(this._fetchPromises||(this._fetchPromises={}),s=i||JSON.stringify(n),this._fetchPromises[s]?this._fetchPromises[s]:(this._fetchPromises[s]=this.remoteRead(n).then(function(){var e=i,n,o;i||(n=r.attributeSearch(t),n.length>0&&(e=n[0])),delete r._fetchPromises[s];if(e&&r.exists(e))return e;throw o=new Error("["+r.name+"] Model ID is missing after fetching."),o.getModelFailure=!0,o}),this._fetchPromises[s]))},get:function(e,t){return this.load(e,t).then(this.proxy.bind(this))},add:function(t,r,i){var s;if(!e.Lang.isObject(t,!0)||e.Lang.isArray(t)){n.warn("`add` requires an object",{topic:this.name,data:t});return}return typeof r=="undefined"&&(r=!1),s=this.attributes.id.setter.apply(this,[t.id,undefined]),this._data[s]?n.warn("Attempt to add a model that is already in the registry.",{topic:this.name,id:s}):(this._data[s]={},this._dataSize++,this._queueEvent("modelsAdded",{id:s}),r?this._data[s]=t:Object.keys(this.attributes).forEach(function(e){var n=this.attributes[e],r=t[e];n.readOnly||this.setValue(s,e,r,!0,i)},this),this.appContext.markAsNewlyFetched(this.name,s)),this.proxy(s)},remove:function(e){if(!this.exists(e))return;delete this._data[e],this._dataSize--,this._removeChainedEvents(e),this._removeEventSubscribers(e),this._queueEvent("modelsRemoved",{id:e})},removeAll:function(){e.Object.each(this._data,function(e,t){this.remove(t)},this)},removeAllExcept:function(t){var n=t.reduce(function(e,t){return e[t]=!0,e},{});e.Object.each(this._data,function(e,t){n[t]||this.remove(t)},this)},_removeChainedEvents:function(t){var n;this._chainedEvents[t]&&(e.Object.each(this._chainedEvents[t],function(t,r){n=this.attributes[r],n&&(n.isModel?t.detach():(n.isListProxy||n.isCollection)&&e.Array.each(t,function(e){e.detach&&e.detach()}))},this),delete this._chainedEvents[t])},_removeEventSubscribers:function(t){var n=[];this._subscribers.length&&(e.Array.each(this._subscribers,function(e,r){e.id===t&&n.push(r)},this),e.Array.each(n,function(e){this._subscribers.splice(e,1)},this))},proxy:function(t){return this._ModelProxy||(this._ModelProxy=e.getModelProxyConstructor(this)),new this._ModelProxy(t)},getValue:function(t,r,i){var s,o,a;if(!t||!r){n.warn("`getValue` requires two arguments.",{topic:this.name,id:t,attr:r});return}if(!this.exists(t)){n.warn("`getValue` called for an id that doesn't exist in the registry.",{topic:this.name,id:t,attr:r});return}o=this.attributes[r];if(!o){n.warn("`getValue` called for an attribute that isn't defined",{topic:this.name,id:t,attr:r});return}return o.isListProxy?s=new e.ListProxy(this,t,r):(s=this._data[t][r],typeof s=="undefined"&&(s=this.getDefaultValue(t,r)),a=o.getter,!i&&a&&(s=a.apply(this,[s,t])),s=u(s)),s},setValue:function(t,r,s,o,a){var f,l,c,h,p,d,v;if(!t||!r||arguments.length<3){n.warn("`setValue` requires three arguments.",{topic:this.name,id:t});return}if(!this.exists(t)){n.warn("`setValue called for an id that is not in the registry.",{topic:this.name,id:t});return}f=this.attributes[r];if(!f){n.warn("Attribute is not present in the attributes list.",{topic:this.name,id:t,attr:r});return}if(f.readOnly){n.warn("Attribute is readOnly.",{topic:this.name,id:t,attr:r});return}if(f.writeOnce==="initOnly"&&!o){n.warn("Attribute can only be set during initialization.",{topic:this.name,id:t,attr:r});return}if(f.writeOnce===!0&&this._data[t][r]){n.warn("Attribute can only be set once.",{topic:this.name,id:t,attr:r});return}c=this.getValue(t,r),h=this._data[t][r],f.isListProxy&&(c=h);if(!a&&f.validator){d=f.validator;if(!e.Lang.isFunction(d)){n.warn("Attribute has an invalid validator.",{topic:this.name,validator:f.validator,attr:r});return}if(!d.apply(this,[s,t])){n.info("Attribute validation failed.",{topic:this.name,id:t,val:s,attr:r});return}}s=u(s),!a&&f.setter&&(s=f.setter.apply(this,[s,t])),f.isListProxy&&!e.Lang.isArray(s)&&(s=[]),f.isCollection&&(s?typeof s=="object"&&s instanceof e.PagedCollection||(c?(h=c
.getList(),c._setValue(s),s=c):(h=null,s=new e.PagedCollection(this,t,r,s))):s=new e.PagedCollection(this,t,r));if(!this._isDifferentValue(t,r,s,c)){!o;return}if(f.isModel)if(!e.Lang.isObject(s)||!s.isModel){n.warn("Attribute must be a ModelProxy instance.",{topic:this.name,id:t,attr:r});return}o||(l=this._getAttributeValuesDerivedBy(t,r)),this._data[t][r]=s,f.isListProxy&&s&&(s.hasMinBoundary&&this.getValue(t,r).setMinBoundary(),s.hasMaxBoundary&&this.getValue(t,r).setMaxBoundary()),(f.isModel||f.isListProxy||f.isCollection)&&this._chainEvents(t,r),o||(p=this.getValue(t,r),!f.isListProxy&&!f.isCollection&&this._setUnsaved(t,r,p,c,h),v={id:t,attrName:r,prevVal:c,newVal:p},f.isListProxy?v.listDiff=this._calcListDiff(p,c):f.isCollection&&(v.listDiff=this._calcListDiff(p,h)),this._queueEvent("valuesChanged",v),e.Object.size(l)&&e.Object.each(l,function(e,n){var s=this.getValue(t,n);if(!i(s,e)){v={id:t,attrName:n,prevVal:e,newVal:s,derivedBy:[r]};if(this.attributes[n].isListProxy||this.attributes[n].isCollection)v.listDiff=this._calcListDiff(s,e);this._queueEvent("valuesChanged",v)}},this))},setValues:function(t,n){var r={};e.Object.each(n,function(e,n){n!=="id"&&(r[n]=this.setValue(t,n,e))},this)},revertValue:function(e,t){this._unsavedModels[e]&&typeof this._unsavedModels[e][t]!="undefined"&&this.setValue(e,t,this._unsavedModels[e][t].lastSavedValRaw)},exists:function(t){var n;return e.Lang.isArray(t)?n=t[0]:e.Lang.isObject(t,!0)?n=this.attributeSearch(t)[0]:n=t,!!this._data[n]},addOrUpdate:function(e){if(this.exists(e.id)){var t,n;Object.keys(e).forEach(function(r){t=this.attributes[r],n=e[r],t&&!t.readOnly&&t.writeOnce!=="initOnly"&&this.setValue(e.id,r,n)},this)}else this.add(e);return this.appContext.markAsNewlyFetched(this.name,e.id),this.markChildModelsAsNewlyFetched(e.id),this.proxy(e.id)},markChildModelsAsNewlyFetched:function(e){var t=this.getOwnedModels(e),n=this;t.forEach(function(e){e&&(n.appContext.markAsNewlyFetched(e.registry.name,e.id),e.markChildModelsAsNewlyFetched(e.id))})},getOwnedModels:function(t){var r,i,s=[],o;if(!t)return n.warn("`getOwnedModels` requires a model id.",{topic:this.name,id:t}),s;if(!this.exists(t))return s;this._ModelProxy||(this._ModelProxy=e.getModelProxyConstructor(this));for(r in this.attributes){i=this.attributes[r];if(i.isModel)o=this.getValue(t,r),o&&o.exists()&&s.push(o);else if(i.isListProxy||i.isCollection)s=s.concat(this.getValue(t,r).getList().filter(function(e){return e&&e.isModel&&e.exists()}))}return s},hasAttribute:function(e){return!!this.attributes[e]},toJSON:function(e){var t={},n,r;if(e)for(n in this.attributes)t[n]=this.getValue(e,n),t[n]&&(this.attributes[n].isModel||this.attributes[n].isListProxy||this.attributes[n].isCollection)&&(t[n]=t[n].toJSON());else for(r in this._data)t[r]=this.toJSON(r);return t},on:function(t,n,r,i){var s;return t||(t=null),s={eventName:n,fn:r,id:t,weak:i},this._subscribers.push(s),i&&(this.hasWeakSubscribers=!0),{detach:function(){var t=e.Array.indexOf(this._subscribers,s);this._subscribers.splice(t,1)}.bind(this)}},removeWeakSubscribers:function(){var e=this._subscribers.length;if(e)while(e--)this._subscribers[e].weak&&this._subscribers.splice(e,1);this.hasWeakSubscribers=!1},getCount:function(){return this._dataSize},getDefaultValue:function(e,t){var n,r;return n=this.attributes[t],typeof n.defaultFn=="function"&&(r=n.defaultFn.call(this,e)),typeof r=="undefined"&&typeof n.defaultValue!="undefined"&&(r=n.defaultValue),r},_isDifferentValue:function(e,t,n,r){var s=this.attributes[t],o=s.getter;o&&(n=o.apply(this,[n,e]));if(typeof s.isListProxy!="undefined"&&s.isListProxy&&typeof r!="undefined"){if(n.hasMaxBoundary!==(typeof r.hasMaxBoundary!="undefined"&&r.hasMaxBoundary)||n.hasMinBoundary!==(typeof r.hasMinBoundary!="undefined"&&r.hasMinBoundary))return!0}else if(s.isCollection)return!0;return i(n,r)?!1:!0},_calcListDiff:function(t,n){var r,i,s,o,u={added:null,removed:null};return t instanceof e.ListProxy||t instanceof e.PagedCollection?r=t.getList():r=t,n instanceof e.ListProxy||n instanceof e.PagedCollection?i=n.getList():i=n,s=i.reduce(function(e,t){return t&&t.id&&(e[t.id]=!0),e},{}),o=r.reduce(function(e,t){return t&&t.id&&(e[t.id]=!0),e},{}),u.added=r.filter(function(e){return e&&!s[e.id]}),u.removed=i.filter(function(e){return e&&!o[e.id]}),u},_getAttributesDerivedBy:function(t){return this._derivedCache||(this._derivedCache={},e.Object.each(this.attributes,function(t,n){t.derivedBy&&e.Lang.isArray(t.derivedBy)&&e.Array.each(t.derivedBy,function(e){this._derivedCache[e]||(this._derivedCache[e]=[]),this._derivedCache[e].push(n)},this)},this)),this._derivedCache[t]},_getAttributeValuesDerivedBy:function(t,n){var r=this._getAttributesDerivedBy(n),i={};return r&&r.length&&e.Array.each(r,function(e){i[e]=this.getValue(t,e)},this),i},_queueEvent:function(t,n){var r;this._eventQueue||(this._eventQueue=[]),r=this._eventQueue,r.push({type:t,data:n}),this._eventPending||(this._eventPending=!0,setTimeout(function(){var t={};this._eventPending=!1,delete this._eventQueue,e.Array.each(r,function(e){var n=e.type,r=e.data,i=r.id;switch(n){case"modelsAdded":case"modelsRemoved":t[n]=t[n]||{},t[n][i]=r;break;case"valuesChanged":if(t.valuesChanged&&t.valuesChanged[i]&&t.valuesChanged[i][r.attrName]&&t.valuesChanged[i][r.attrName].newVal){t.valuesChanged[i][r.attrName].newVal=r.newVal,t.valuesChanged[i][r.attrName].derivedBy&&r.derivedBy&&(t.valuesChanged[i][r.attrName].derivedBy=t.valuesChanged[i][r.attrName].derivedBy.concat(r.derivedBy)),t.valuesChanged[i][r.attrName].chained&&!r.chained&&delete t.valuesChanged[i][r.attrName].chained;break}t.valuesChanged=t.valuesChanged||{},t.valuesChanged[i]=t.valuesChanged[i]||{},t.valuesChanged[i][r.attrName]=r}}),e.Object.each(t,function(e,t){this._fireEvent(t,e)},this)}.bind(this),0))},_fireEvent:function(t,n){e.Array.each(this._subscribers,function(e){e.eventName===t&&(e.id?n[e.id]&&e.fn.call(undefined,n[e.id]):e.fn.call(undefined,n))})},_chainEvents:function(t,n){var r=
this.attributes[n],i,s;this._chainedEvents[t]=this._chainedEvents[t]||{};if(r.isModel)this._chainedEvents[t][n]&&this._chainedEvents[t][n].detach(),s=this.getValue(t,n),this._chainedEvents[t][n]=s.on("valuesChanged",function(e){this._queueChainedEvent(t,n)}.bind(this));else if(r.isListProxy||r.isCollection)this._chainedEvents[t][n]&&e.Array.each(this._chainedEvents[t][n],function(e){e.detach()}),this._chainedEvents[t][n]=[],i=this.getValue(t,n),e.Array.each(i.getList(),function(e){e&&this._chainedEvents[t][n].push(e.on("valuesChanged",function(e){this._queueChainedEvent(t,n)}.bind(this)))},this)},_queueChainedEvent:function(t,n){var r=this.getValue(t,n),i;this._queueEvent("valuesChanged",{id:t,attrName:n,prevVal:r,newVal:r,chained:!0}),i=this._getAttributeValuesDerivedBy(t,n),e.Object.size(i)&&e.Object.each(i,function(e,r){this._queueEvent("valuesChanged",{id:t,attrName:r,newVal:e,derivedBy:[n],chained:!0})},this)},_deleteUnsaved:function(t,n){this._unsavedModels[t]&&this._unsavedModels[t][n]&&(delete this._unsavedModels[t][n],e.Object.size(this._unsavedModels[t])===0&&delete this._unsavedModels[t])},_setUnsaved:function(e,t,n,r,s){this._unsavedModels[e]&&this._unsavedModels[e][t]?i(n,this._unsavedModels[e][t].lastSavedVal)&&this._deleteUnsaved(e,t):(this._unsavedModels[e]=this._unsavedModels[e]||{},this._unsavedModels[e][t]={lastSavedVal:r,lastSavedValRaw:s})},_validateAttributes:function(){var t,r;t=["setter","getter","validator","defaultValue","defaultFn","derivedBy","readOnly","writeOnce","isModel","serialize","deserialize"],r=["isListProxy","isCollection","pageFetch","contextFetch","rangeFetch"],e.Object.each(this.attributes,function(i,s){e.Object.each(i,function(o,u){i.isListProxy||i.isCollection?e.Array.indexOf(r,u)===-1&&n.warn("Unknown property on collection attribute.",{topic:this.name,prop:u,attr:s}):e.Array.indexOf(t,u)===-1&&n.warn("Unknown property on attribute.",{topic:this.name,prop:u,attr:s})},this)},this)},_setDefaultRemoteMethods:function(){this.remote=this.remote||{},this.remote.create||(this.remote.create=function(t){return n.error("`remote.create` was called without being implemented.",{topic:this.name,attrs:t}),e.Promise.reject()}),this.remote.read||(this.remote.read=function(t){Object.keys(this.attributes).some(function(e){var t=this.attributes[e];if(e!=="id"&&!t.readOnly&&!t.isListProxy&&!t.isCollection&&!t.defaultValue&&!t.defaultFn)return!0},this),typeof t!="object"&&(t={id:t});var n={id:t.id};return this.add(n),e.Promise.resolve(n)}),this.remote.update||(this.remote.update=function(t,r){return n.error("`remote.update` was called without being implemented.",{topic:this.name,id:t,attrs:r}),e.Promise.reject()}),this.remote["delete"]||(this.remote["delete"]=function(t){return n.error("`remote.delete` was called without being implemented.",{topic:this.name,id:t}),e.Promise.reject()})},remoteCreate:function(e){return this.remote.create.call(this,e)},remoteRead:function(e){return this.remote.read.call(this,e)},remoteUpdate:function(t){var n={},r=this;return this._unsavedModels[t]&&e.Object.each(this._unsavedModels[t],function(e,r){n[r]={newVal:this.getValue(t,r),prevVal:e.lastSavedVal}},this),e.Object.size(n)>0?this.remote.update.call(this,t,n).then(function(e){return r._unsavedModels={},e}):e.Promise.resolve()},remoteBatchUpdate:function(e,t){return this.remote.batchUpdate.call(this,e,t)},remoteDelete:function(e){var t=this;return this.remote["delete"].call(this,e).then(function(){t.remove(e)})},getListPageByContinuation:function(t,n){var r=this,i=r.appContext,s,o,u,a,f,l,c,h,p,d,v="0",m="-1",g=e.APIHelper.request.getRebootPhotoExtras();switch(r.name){case"photo-groups-models":s="group-pool-models",o="groups",u="flickr.photos.getGroups",a="groups.group",g+=","+e.APIHelper.request.getRebootGroupExtras();break;case"photo-sets-models":s="set-models",o="sets",u="flickr.photos.getSets",a="sets.set";break;case"photo-galleries-models":s="gallery-models",o="galleries",u="flickr.photos.getGalleries",a="galleries.gallery"}return u?r.exists(t)?(r.continuationKeys=r.continuationKeys||{},r.getMorePromises=r.getMorePromises||{},l=r.continuationKeys[t]||v,l===m?e.Promise.resolve({newItems:[],loadedAll:!0}):(l===v&&(n+=r.getValue(t,o).getList().length),f={photo_id:t,extras:g,primary_photo_extras:"url_sq, url_t, url_s, url_m",continuation:l,per_page:n},h=t+"_"+l,p=r.getMorePromises[h],p?p:(d={apiResponse:i.callAPI(u,f,!0),contextRegistry:i.getModelRegistry(s),personRegistry:i.getModelRegistry("person-models")},r.name==="photo-groups-models"&&(d.groupRegistry=i.getModelRegistry("group-models")),r.getMorePromises[h]=(new e.FlickrPromise(d)).then(function(n){var i=[],s=n.apiResponse,u=n.contextRegistry,f=n.personRegistry,l=n.groupRegistry,p,d,v;return d=a.split(".").reduce(function(t,n){return e.Lang.isObject(t)?t[n]:undefined},s),d&&(e.Array.each(d,function(t){e.APIHelper.response.addContextToRegistry(t,u,f,l),i.push(u.proxy(t.id))}),i.length&&(v=r.getValue(t,o).getList().map(function(e){return e.getValue("id")}),i=i.filter(function(e){return v.indexOf(e.getValue("id"))===-1}),i.length&&r.getValue(t,o).appendToListMulti(i))),c=s[o].continuation,typeof c=="undefined"?c=m:e.Lang.isNumber(c)&&(c+=""),p=c===m,r.continuationKeys[t]=c,delete r.getMorePromises[h],{newItems:i,loadedAll:p}},function(e){throw delete r.getMorePromises[h],e}),r.getMorePromises[h]))):e.Promise.reject("[api-helper] getListPageByContinuation was called for an ID that isn't in the registry: "+t):e.Promise.reject("[api-helper] getListPageByContinuation was called without an invalid registry type: "+r.name)},getBuriedValue:function(e,t){var n,r={};return n=this.getValue(e,t),n&&n.payload&&(r=n.payload),r},setBuriedValue:function(e,t,n,r){return this.setValue(e,t,{payload:n},r)}},e.mix(r.prototype,e.Localizable)},"@VERSION@",{requires:["flickr-promise","model-proxy","list-proxy","moment","paged-collection","localizable"]});
YUI.add("hermes-lang-autosuggest_fr-fr",function(e,t){e.Intl.add("hermes/autosuggest","fr-FR",{MEMBER:["1 membre"],MEMBERS:[{type:"number",valueName:"count"}," membres"],SEARCH_PEOPLE:["Rechercher des personnes"],SEARCH_GROUPS:["Recherchez des groupes"],SEARCH_PHOTOS:["Rechercher des photos"],MORE:["Plus"],MORE_SEARCH_TYPES:["Autres types de recherche"],MORE_OPTIONS:["Autres options"],SEARCH_YOUR_PHOTOS:["Rechercher dans vos photos"],SEARCH_EVERYONES_PHOTOS:["Rechercher les photos de tout le monde"],SEARCH_CONTACTS_PHOTOS:["Rechercher les photos de vos contacts"],YOUR_PHOTOS:["Vos photos"],EVERYONES_PHOTOS:["Photos de tout le monde"],YOUR_CONTACTS_PHOTOS:["Photos de vos contacts"],SEARCH_USER_PHOTOS:["Rechercher dans les photos de ","${name}"],SEARCH_GROUP_PHOTOS:["Rechercher des photos dans ","${name}"],YOUR_PHOTOSTREAM:["Votre galerie"],YOUR_ALBUMS:["Vos albums"],SETS:["Albums"],CAMERA_ROLL:["Pellicule"],ORGANIZE:["Organisez"],YOUR_COLLECTIONS:["Vos classeurs"],YOUR_GALLERIES:["Vos expos"],YOUR_ARCHIVES:["Vos archives"],YOUR_TAGS:["Vos tags"],YOUR_MAP:["Votre carte"],YOUR_FAVORITES:["Vos favoris"],YOUR_STATS:["Vos statistiques"],GRAPHS:["Graphiques"],REFERRERS:["R\u00e9f\u00e9rents"],VIEWS:["Vues"],YOUR_APPS:["Vos applis"],RECENT_ACTIVITY:["Activit\u00e9 r\u00e9cente"],PHOTOS_OF_YOU:["Photos de vous"],UPLOAD_PHOTOS:["Importer des photos"],YOUR_ACCOUNT:["Votre compte"],SETTINGS:["Param\u00e8tres"],PREFERENCES:["Pr\u00e9f\u00e9rences"],YOUR_PROFILE:["Votre profil"],FLICKR_MAIL:["Mail Flickr"],ORGANIZR:["Organizr"],CREATE:["Cr\u00e9ez"],WALL_ART:["D\u00e9coration murale"],PHOTO_BOOKS:["Albums photo"],CURATED_COLLECTION:["Collection de nos \u00e9diteurs"],PHOTOS_OF_YOUR_CONTACTS:["Photos de vos contacts"],FOLLOWING:["Abonn\u00e9"],CONTACTS_LIST:["Liste des contacts"],FOLLOWERS:["Abonn\u00e9s"],FIND_YOUR_FRIENDS:["Rechercher vos amis"],INVITE_YOUR_FRIENDS:["Inviter vos amis"],INVITE_HISTORY:["Historique des invitations"],GUEST_PASS_HISTORY:["Historique des passes Invit\u00e9"],YOUR_GROUPS:["Vos groupes"],RECENT_GROUP_DISCUSSIONS:["Discussions de groupe r\u00e9centes"],CREATE_A_GROUP:["Cr\u00e9er un groupe"],EXPLORE:["Explorez"],POPULAR_TAGS:["Tags populaires"],GALLERIES:["Expos"],ANALOG:["Analogique"],FILM:["Film"],WORLD_MAP:["Carte mondiale"],PLACES:["Lieux"],THE_COMMONS:["The Commons"],CREATIVE_COMMONS:["Creative Commons"],CC:["Cc"],LICENSE:["Licence"],THE_FLICKR_BLOG:["Blog Flickr"],THE_FLICKR_CODE_BLOG:["Blog Flickr\u00a0Code"],THE_APP_GARDEN:["App\u00a0Garden"],CAMERA_FINDER:["Recherche d'appareil photo"],DEVELOPER_GUIDE:["Guide du d\u00e9veloppeur"],API:["API"],PROGRAMMING:["Programmation"],CODE:["Code"],DOCUMENTATION:["Documentation"],DEVELOPER:["D\u00e9veloppeur"],API_DOCUMENTATION:["Documentation sur l'API"],FEEDS:["Flux"],RSS:["RSS"],ATOM:["Atom"],DATA:["Donn\u00e9es"],HELP:["Aide"],COMMUNITY_GUIDELINES:["Charte d\u2019utilisation"],HELP_FORUM:["Forum d\u2019aide"],FAQ:["FAQ"],FREQUENTLY_ASKED_QUESTIONS:["Foire aux questions (FAQ)"],TOOLS:["Outils"],UPLOAD:["Importez"],MAC:["Mac"],WINDOWS:["Windows"],ABOUT_FLICKR:["\u00c0 propos de Flickr"],STAFF:["Personnel"],JOBS_AT_FLICKR:["Carri\u00e8res chez Flickr"],CAREER:["Carri\u00e8res"],TWENTY_UNDER_TWENTY:["20 Under 20"],ME:["Moi"],FLICKR_MARKETPLACE:["Flickr\u00a0Marketplace"]})},"@VERSION@",{requires:["intl"]});
/*
YUI 3.16.0 (build 76f0e08)
Copyright 2014 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("text-data-accentfold",function(e,t){e.namespace("Text.Data").AccentFold={0:/[\u2070\u2080\u24EA\uFF10]/gi,1:/[\u00B9\u2081\u2460\uFF11]/gi,2:/[\u00B2\u2082\u2461\uFF12]/gi,3:/[\u00B3\u2083\u2462\uFF13]/gi,4:/[\u2074\u2084\u2463\uFF14]/gi,5:/[\u2075\u2085\u2464\uFF15]/gi,6:/[\u2076\u2086\u2465\uFF16]/gi,7:/[\u2077\u2087\u2466\uFF17]/gi,8:/[\u2078\u2088\u2467\uFF18]/gi,9:/[\u2079\u2089\u2468\uFF19]/gi,a:/[\u00AA\u00E0-\u00E5\u0101\u0103\u0105\u01CE\u01DF\u01E1\u01FB\u0201\u0203\u0227\u1D43\u1E01\u1E9A\u1EA1\u1EA3\u1EA5\u1EA7\u1EA9\u1EAB\u1EAD\u1EAF\u1EB1\u1EB3\u1EB5\u1EB7\u24D0\uFF41]/gi,b:/[\u1D47\u1E03\u1E05\u1E07\u24D1\uFF42]/gi,c:/[\u00E7\u0107\u0109\u010B\u010D\u1D9C\u1E09\u24D2\uFF43]/gi,d:/[\u010F\u1D48\u1E0B\u1E0D\u1E0F\u1E11\u1E13\u217E\u24D3\uFF44]/gi,e:/[\u00E8-\u00EB\u0113\u0115\u0117\u0119\u011B\u0205\u0207\u0229\u1D49\u1E15\u1E17\u1E19\u1E1B\u1E1D\u1EB9\u1EBB\u1EBD\u1EBF\u1EC1\u1EC3\u1EC5\u1EC7\u2091\u212F\u24D4\uFF45]/gi,f:/[\u1DA0\u1E1F\u24D5\uFF46]/gi,g:/[\u011D\u011F\u0121\u0123\u01E7\u01F5\u1D4D\u1E21\u210A\u24D6\uFF47]/gi,h:/[\u0125\u021F\u02B0\u1E23\u1E25\u1E27\u1E29\u1E2B\u1E96\u210E\u24D7\uFF48]/gi,i:/[\u00EC-\u00EF\u0129\u012B\u012D\u012F\u0133\u01D0\u0209\u020B\u1D62\u1E2D\u1E2F\u1EC9\u1ECB\u2071\u2139\u2170\u24D8\uFF49]/gi,j:/[\u0135\u01F0\u02B2\u24D9\u2C7C\uFF4A]/gi,k:/[\u0137\u01E9\u1D4F\u1E31\u1E33\u1E35\u24DA\uFF4B]/gi,l:/[\u013A\u013C\u013E\u0140\u01C9\u02E1\u1E37\u1E39\u1E3B\u1E3D\u2113\u217C\u24DB\uFF4C]/gi,m:/[\u1D50\u1E3F\u1E41\u1E43\u217F\u24DC\uFF4D]/gi,n:/[\u00F1\u0144\u0146\u0148\u01F9\u1E45\u1E47\u1E49\u1E4B\u207F\u24DD\uFF4E]/gi,o:/[\u00BA\u00F2-\u00F6\u014D\u014F\u0151\u01A1\u01D2\u01EB\u01ED\u020D\u020F\u022B\u022D\u022F\u0231\u1D52\u1E4D\u1E4F\u1E51\u1E53\u1ECD\u1ECF\u1ED1\u1ED3\u1ED5\u1ED7\u1ED9\u1EDB\u1EDD\u1EDF\u1EE1\u1EE3\u2092\u2134\u24DE\uFF4F]/gi,p:/[\u1D56\u1E55\u1E57\u24DF\uFF50]/gi,q:/[\u02A0\u24E0\uFF51]/gi,r:/[\u0155\u0157\u0159\u0211\u0213\u02B3\u1D63\u1E59\u1E5B\u1E5D\u1E5F\u24E1\uFF52]/gi,s:/[\u015B\u015D\u015F\u0161\u017F\u0219\u02E2\u1E61\u1E63\u1E65\u1E67\u1E69\u1E9B\u24E2\uFF53]/gi,t:/[\u0163\u0165\u021B\u1D57\u1E6B\u1E6D\u1E6F\u1E71\u1E97\u24E3\uFF54]/gi,u:/[\u00F9-\u00FC\u0169\u016B\u016D\u016F\u0171\u0173\u01B0\u01D4\u01D6\u01D8\u01DA\u01DC\u0215\u0217\u1D58\u1D64\u1E73\u1E75\u1E77\u1E79\u1E7B\u1EE5\u1EE7\u1EE9\u1EEB\u1EED\u1EEF\u1EF1\u24E4\uFF55]/gi,v:/[\u1D5B\u1D65\u1E7D\u1E7F\u2174\u24E5\uFF56]/gi,w:/[\u0175\u02B7\u1E81\u1E83\u1E85\u1E87\u1E89\u1E98\u24E6\uFF57]/gi,x:/[\u02E3\u1E8B\u1E8D\u2093\u2179\u24E7\uFF58]/gi,y:/[\u00FD\u00FF\u0177\u0233\u02B8\u1E8F\u1E99\u1EF3\u1EF5\u1EF7\u1EF9\u24E8\uFF59]/gi,z:/[\u017A\u017C\u017E\u1DBB\u1E91\u1E93\u1E95\u24E9\uFF5A]/gi}},"3.16.0",{requires:["yui-base"]});
/*
YUI 3.16.0 (build 76f0e08)
Copyright 2014 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("text-accentfold",function(e,t){var n=e.Array,r=e.Text,i=r.Data.AccentFold,s={canFold:function(e){var t;for(t in i)if(i.hasOwnProperty(t)&&e.search(i[t])!==-1)return!0;return!1},compare:function(e,t,n){var r=s.fold(e),i=s.fold(t);return n?!!n(r,i):r===i},filter:function(e,t){return n.filter(e,function(e){return t(s.fold(e))})},fold:function(t){return e.Lang.isArray(t)?n.map(t,s.fold):(t=t.toLowerCase(),e.Object.each(i,function(e,n){t=t.replace(e,n)}),t)}};r.AccentFold=s},"3.16.0",{requires:["array-extras","text-data-accentfold"]});
