YUI.add("photo-exif-models",function(e){function t(e){t.superclass.constructor.call(this,e)}e.Models[this.name]=t,e.extend(t,e.FlickrModelRegistry,{name:this.name,remote:{read:function(t){return e.ModelFetchers["flickr-photos-getExif"].run(t,this.appContext).then(function(e){return e},function(){})}},attributes:{camera:{},cameraType:{},cameraURL:{},data:{},exposureProgram:{},exposureTime:{},flash:{},flashFired:{},flashModeOff:{},flashModeOn:{},flashModeAuto:{},fNumber:{},focalLength:{},iso:{},lensModel:{},software:{},meteringMode:{}}})},"@VERSION@",{requires:["flickr-model-registry","flickr-promise","flickr-photos-getExif-fetcher"]});
YUI.add("flickr-photos-getExif-fetcher",function(e,t){"use strict";function n(e,t){var n=e[0],r,i,s=e[1],o,u;if(n.photo)return r=e[0].photo.exif||[],i=e[0].photo.camera,o={id:t.id,camera:i,cameraType:e[0].photo.camera_type,cameraURL:e[0].photo.camera_url,data:[],flashFired:null,flashModeOff:null,flashModeOn:null,flashModeAuto:null,meteringMode:null},r.forEach(function(e){var t,n,r;e.tag&&e.raw&&(typeof e.tag=="string"&&(n=e.tag.search(/([A-Z][a-z])/),n===0?n=1:n===-1&&(n=e.tag.length),r=e.tag.slice(0,n).toLowerCase()+e.tag.slice(n)),o[r]=t=e.raw.content,o.data.push({label:e.label,value:t}))}),u=[["lensModel","lens"]],u.forEach(function(e){var t=e.shift();while(e.length&&o[t]===undefined)o[t]=o[e.shift()]}),o.flash&&(o.flash.match(/on|fired/i)&&!o.flash.match(/did not/i)?o.flashFired=!0:o.flashFired=!1,o.flash=o.flash.substr(0,1).toUpperCase()+o.flash.substr(1).toLowerCase(),o.flash.match(/auto/i)?o.flashModeAuto=!0:o.flash.match(/on/i)?o.flashModeOn=!0:o.flash.match(/off|no flash/i)&&(o.flashModeOff=!0)),s.addOrUpdate(o)}function r(n,r){var i=n.id,s,o=this;return s={photo_id:i,extras:"camera"},e.Promise.all([r.callAPI("flickr.photos.getExif",s),r.getModelRegistry("photo-exif-models")]).then(function(e){return o._processResponse(e,n)},e.FetcherErrorLogger(t))}e.namespace("ModelFetchers")["flickr-photos-getExif"]={run:r,_processResponse:n}},"@VERSION@",{requires:["flickr-promise","api-helper"],optional:["photo-exif-models"]});
